!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=41)}([function(e,t,n){"use strict";e.exports=n(42)},function(e,t,n){e.exports=n(88)()},function(e,t){e.exports={actions:{STORE_INITIALIZED:"STORE_INITIALIZED",LOG_DEBUG_MESSAGE:"LOG_DEBUG_MESSAGE",GET_FOLDERS:"GET_FOLDERS",SAVE_FOLDERS:"SAVE_FOLDERS",GET_THREADS_IN_FOLDER:"GET_THREADS_IN_FOLDER",SAVE_THREADS_TO_FOLDER:"SAVE_THREADS_TO_FOLDER",SAVE_THREADS:"SAVE_THREADS",GET_THREAD:"GET_THREAD",SAVE_THREAD:"SAVE_THREAD",UPDATE_THREAD:"UPDATE_THREAD",SAVE_THREAD_UPDATE:"SAVE_THREAD_UPDATE",UPDATE_MESSAGE:"UPDATE_MESSAGE",SAVE_MESSAGE_UPDATE:"SAVE_MESSAGE_UPDATE",SET_RSA_PUBLIC_KEY:"SET_RSA_PUBLIC_KEY",GET_RSA_PUBLIC_KEYS:"GET_RSA_PUBLIC_KEYS",SAVE_RSA_PUBLIC_KEYS:"SAVE_RSA_PUBLIC_KEYS",UPDATE_SETTINGS:"UPDATE_SETTINGS",SAVE_APP:{UI:{FOLDER_NAME:"SAVE_APP_UI_FOLDER_NAME",THREAD_ID:"SAVE_APP_UI_THREAD_ID",START_THREADS_INDEX:"SAVE_APP_UI_START_THREADS_INDEX"},SETTING:{MAX_THREADS_PER_PAGE:"SAVE_APP_SETTING_MAX_THREADS_PER_PAGE",PUBLIC_KEY:"SAVE_APP_SETTING_PUBLIC_KEY",PRIVATE_KEY:"SAVE_APP_SETTING_PRIVATE_KEY",PRIVATE_KEY_STORAGE:"SAVE_APP_SETTING_PRIVATE_KEY_STORAGE",IS_GENERATING_KEYPAIR:"SAVE_APP_SETTING_IS_GENERATING_KEYPAIR"},DRAFT_MESSAGE:{STORE:"SAVE_APP_DRAFT_MESSAGE_STORE",CLEAR:"SAVE_APP_DRAFT_MESSAGE_CLEAR",SET_STATUS:"SAVE_APP_DRAFT_MESSAGE_SET_STATUS"}},CRYPTO:{RSA:{GENERATE_KEYPAIR:"CRYPTO_RSA_GENERATE_KEYPAIR"},AES:{}},SEND_EMAIL:{REPLY:"SEND_EMAIL_REPLY",NEW_MESSAGE:"SEND_EMAIL_NEW_MESSAGE"},RESPOND_TO_USER_EVENT:{REDIRECT_URL:"USER_EVENT_REDIRECT_URL",OPEN_FOLDER:"USER_EVENT_OPEN_FOLDER",OPEN_THREAD:"USER_EVENT_OPEN_THREAD",OPEN_COMPOSE_MESSAGE:"USER_EVENT_OPEN_COMPOSE_MESSAGE"}},storage:{PRIVATE_KEY:"PRIVATE_KEY"},encryption:{RESERVED_ATTACHMENT_NAME:{CIPHERS:"CIPHERS",BODY:"BODY"},CLEARTEXT_CONTENT:{BODY:"Encrypted by: Secure Webmail\n\nhttps://secure-webmail.github.io/"}},default_settings:{max_threads_per_page:25,public_key:"",private_key:"",private_key_storage:0,is_generating_keypair:!1}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=n(1),l=n(17).global_resizeParentIframe,u=function(e){var t=function(){var t=e.postRender;"function"==typeof t?t():l()},n=function(n){function s(){return r(this,s),o(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return a(s,n),i(s,[{key:"componentWillMount",value:function(){var t=this,n=function(n){var r=t.context.actions;if(r instanceof Object&&void 0!==r[n])return!0;var o=e.displayName||e.name||"[anonymous]";throw new Error('React stateless presentation component "'+o+'" requires a Redux action creator "'+n+'" which is not defined in the context of the React component tree')},r=e.requireActions;r instanceof Array?r.forEach(function(e){return n(e)}):"string"==typeof r&&n(r)}},{key:"render",value:function(){return e(this.props,this.context)}},{key:"componentDidMount",value:function(){t()}},{key:"componentDidUpdate",value:function(){t()}}]),s}(s.PureComponent);n.contextTypes={store:c.object,actions:c.object,constants:c.object,history:c.object,router:c.object},["propTypes","defaultProps"].forEach(function(t){var r=e[t];r instanceof Object&&(n[t]=r)});var u="displayName",p=(e[u]||"").trim();return p&&(p=p[0].toUpperCase()+p.substr(1),n[u]=p),n};e.exports=u},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";var r=function(e,t,n,r,o,a,i,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,i,s],u=0;c=new Error(t.replace(/%s/g,function(){return l[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};e.exports=r},function(e,t,n){"use strict";var r=n(80);e.exports=r},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"g",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return l});var r=function(e){return"/"===e.charAt(0)?e:"/"+e},o=function(e){return"/"===e.charAt(0)?e.substr(1):e},a=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},i=function(e,t){return a(e,t)?e.substr(t.length):e},s=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},c=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},l=function(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98);n.d(t,"createBrowserHistory",function(){return r.a});var o=n(99);n.d(t,"createHashHistory",function(){return o.a});var a=n(100);n.d(t,"createMemoryHistory",function(){return a.a});var i=n(10);n.d(t,"createLocation",function(){return i.a}),n.d(t,"locationsAreEqual",function(){return i.b});var s=n(7);n.d(t,"parsePath",function(){return s.d}),n.d(t,"createPath",function(){return s.b})},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var r=n(30),o=n(31),a=n(7),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e,t,n,o){var s=void 0;"string"==typeof e?(s=Object(a.d)(e),s.state=t):(s=i({},e),void 0===s.pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(s.key=n),o?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=Object(r.default)(s.pathname,o.pathname)):s.pathname=o.pathname:s.pathname||(s.pathname="/"),s},c=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(o.default)(e.state,t.state)}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){return Array.isArray(e)?[].concat(r(e)):e instanceof Object?o({},e):e},i=function(e,t,n,r){if(!(e instanceof Object))return e;if(e[n]===t[n])return e;if(r&&void 0===t[n])return e;var o=a(e),i=a(t[n]);return o[n]=i,o};e.exports=i},function(e,t,n){"use strict";t.__esModule=!0;var r=(t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},t.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)});t.stripBasename=function(e,t){return r(e,t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(e,t,n){"use strict";var r=n(14);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(4),s=n.n(i),c=n(5),l=n.n(c),u=n(0),p=n.n(u),f=n(1),d=n.n(f),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=o(this,e.call.apply(e,[this].concat(c))),a.state={match:a.computeMatch(a.props.history.location.pathname)},i=n,o(a,i)}return a(t,e),t.prototype.getChildContext=function(){return{router:h({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;l()(null==n||1===p.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){s()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?p.a.Children.only(e):null},t}(p.a.Component);m.propTypes={history:d.a.object.isRequired,children:d.a.node},m.contextTypes={router:d.a.object},m.childContextTypes={router:d.a.object.isRequired},t.a=m},function(e,t,n){"use strict";var r=n(4),o=n.n(r),a=function(){var e=null,t=function(t){return o()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,r,a){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,a):(o()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==i)}else a(!0)},r=[];return{setPrompt:t,confirmTransitionTo:n,appendListener:function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})}}};t.a=a},function(e,t,n){"use strict";var r=n(38),o=n.n(r),a={},i=0,s=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=a[n]||(a[n]={});if(r[e])return r[e];var s=[],c=o()(e,s,t),l={re:c,keys:s};return i<1e4&&(r[e]=l,i++),l},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof t&&(t={path:t});var r=t,o=r.path,a=r.exact,i=void 0!==a&&a,c=r.strict,l=void 0!==c&&c,u=r.sensitive,p=void 0!==u&&u;if(null==o)return n;var f=s(o,{end:i,strict:l,sensitive:p}),d=f.re,h=f.keys,m=d.exec(e);if(!m)return null;var E=m[0],y=m.slice(1),v=e===E;return i&&!v?null:{path:o,url:"/"===o&&""===E?"/":E,isExact:v,params:h.reduce(function(e,t,n){return e[t.name]=y[n],e},{})}};t.a=c},function(e,t,n){"use strict";var r=n(28).resizeParentIframe_cssSelector.join(", "),o=function e(t){if(!(t instanceof HTMLElement))return 0;var n=t.offsetTop?t.offsetTop:0,r=t.offsetParent;return t===window.document.body?n:null===r?n:n+e(r)},a=function(e){return e instanceof HTMLElement?o(e)+e.offsetHeight:0},i=function(e){if(window.top&&window.top!==window&&e&&"string"==typeof e){var t=window.document.querySelectorAll(e);if(t instanceof NodeList&&t.length){var n=[];if(t.forEach(function(e){var t=a(e);t>0&&n.push(t)}),n.length){var r=Math.max.apply(Math,n),o={type:"resizeParentIframe",height:r};window.top.postMessage(JSON.stringify(o),"*")}}}},s=function(){var e={type:"scrollToBottom"};window.top.postMessage(JSON.stringify(e),"*")},c=function(e){i(r),e&&s()};e.exports={resizeParentIframe:i,global_resizeParentIframe:c}},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var u in n)a.call(n,u)&&(c[u]=n[u]);if(o){s=o(n);for(var p=0;p<s.length;p++)i.call(n,s[p])&&(c[s[p]]=n[s[p]])}}return c}},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),o=n(65),a=n(66),i=n(67),s=n(26);n(25);n.d(t,"createStore",function(){return r.b}),n.d(t,"combineReducers",function(){return o.a}),n.d(t,"bindActionCreators",function(){return a.a}),n.d(t,"applyMiddleware",function(){return i.a}),n.d(t,"compose",function(){return s.a})},function(e,t,n){"use strict";function r(e,t,n){function s(){y===E&&(y=E.slice())}function c(){return m}function l(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return s(),y.push(e),function(){if(t){t=!1,s();var n=y.indexOf(e);y.splice(n,1)}}}function u(e){if(!Object(o.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,m=h(m,e)}finally{v=!1}for(var t=E=y,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,u({type:i.INIT})}function f(){var e,t=l;return e={subscribe:function(e){function n(){e.next&&e.next(c())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[a.a]=function(){return this},e}var d;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,m=t,E=[],y=E,v=!1;return u({type:i.INIT}),d={dispatch:u,subscribe:l,getState:c,replaceReducer:p},d[a.a]=f,d}n.d(t,"a",function(){return i}),t.b=r;var o=n(22),a=n(62),i={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";function r(e){if(!Object(i.a)(e)||Object(o.a)(e)!=s)return!1;var t=Object(a.a)(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}var o=n(54),a=n(59),i=n(61),s="[object Object]",c=Function.prototype,l=Object.prototype,u=c.toString,p=l.hasOwnProperty,f=u.call(Object);t.a=r},function(e,t,n){"use strict";var r=n(55),o=r.a.Symbol;t.a=o},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=r},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=window.JSEncrypt,a=window.CryptoJS,i=window.uuidv4,s={};s.RSA={},s.RSA.generate_keypair=function(){return new Promise(function(e,t){var n=new o({default_key_size:2048});n.getKey(function(){var t=n.getPublicKey(),r=n.getPrivateKey();e({public_key:t,private_key:r})})})},s.RSA.get_public_key=function(e){var t=new o;return t.setPrivateKey(e),t.getPublicKey()},s.RSA.encrypt=function(e,t){var n=new o;n.setPublicKey(t);var r=n.encrypt(e);if(!r)throw new Error("RSA encryption failed");return r},s.RSA.decrypt=function(e,t){var n=new o;n.setPrivateKey(t);var r=n.decrypt(e);if(!r)throw new Error("RSA decryption failed");return r},s.AES={},s.AES.key_size=245,s.AES.generate_secret=function(){for(var e=s.AES.key_size,t=[],n=0;n<e;n+=16)i(null,t,n);t=t.map(function(e){return e<128?e:e-128});var o=void 0;return o=String.fromCharCode.apply(String,r(t)),o=o.substring(0,e)},s.AES.encrypt=function(e,t){return a.AES.encrypt(e,t).toString()},s.AES.decrypt=function(e,t){return a.AES.decrypt(e,t).toString(a.enc.Utf8)},e.exports=s},function(e,t){e.exports={folders:{titles:["Inbox","Priority Inbox","Starred","Chat","Spam","Trash"],names:["inbox","priority-inbox","starred","chat","spam","trash"],default:"inbox"},months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],resizeParentIframe_cssSelector:[".top-component.noemail",".top-component.settings",".top-component.about",".top-component.termsofservice",".top-component.app > .component.sidebar",".top-component.app > .component.compose_message.new_message",".top-component.app > .component.folder",".top-component.app > .component.thread"]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(30),i=r(a),s=n(31),c=r(s),l=n(12);t.createLocation=function(e,t,n,r){var a=void 0;"string"==typeof e?(a=(0,l.parsePath)(e),a.state=t):(a=o({},e),void 0===a.pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=(0,i.default)(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,c.default)(e.state,t.state)}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],a=t&&t.split("/")||[],i=e&&r(e),s=t&&r(t),c=i||s;if(e&&r(e)?a=n:n.length&&(a.pop(),a=a.concat(n)),!a.length)return"/";var l=void 0;if(a.length){var u=a[a.length-1];l="."===u||".."===u||""===u}else l=!1;for(var p=0,f=a.length;f>=0;f--){var d=a[f];"."===d?o(a,f):".."===d?(o(a,f),p++):p&&(o(a,f),p--)}if(!c)for(;p--;p)a.unshift("..");!c||""===a[0]||a[0]&&r(a[0])||a.unshift("");var h=a.join("/");return l&&"/"!==h.substr(-1)&&(h+="/"),h}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});var n=void 0===e?"undefined":o(e);if(n!==(void 0===t?"undefined":o(t)))return!1;if("object"===n){var a=e.valueOf(),i=t.valueOf();if(a!==e||i!==t)return r(a,i);var s=Object.keys(e),c=Object.keys(t);return s.length===c.length&&s.every(function(n){return r(e[n],t[n])})}return!1}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){var e=null,t=function(t){return(0,o.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},n=function(t,n,r,a){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,a):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==i)}else a(!0)},r=[];return{setPrompt:t,confirmTransitionTo:n,appendListener:function(e){var t=!0,n=function(){t&&e.apply(void 0,arguments)};return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})}}};t.default=a},function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),c=n.n(s),l=n(1),u=n.n(l),p=n(5),f=n.n(p),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},m=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a(this,e.call.apply(e,[this].concat(c))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!h(e)){e.preventDefault();var t=r.context.router.history,n=r.props,o=n.replace,a=n.to;o?t.replace(a):t.push(a)}},i=n,a(r,i)}return i(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,o=r(e,["replace","to","innerRef"]);f()(this.context.router,"You should not use <Link> outside a <Router>");var a=this.context.router.history.createHref("string"==typeof t?{pathname:t}:t);return c.a.createElement("a",d({},o,{onClick:this.handleClick,href:a,ref:n}))},t}(c.a.Component);m.propTypes={onClick:u.a.func,target:u.a.string,replace:u.a.bool,to:u.a.oneOfType([u.a.string,u.a.object]).isRequired,innerRef:u.a.oneOfType([u.a.string,u.a.func])},m.defaultProps={replace:!1},m.contextTypes={router:u.a.shape({history:u.a.shape({push:u.a.func.isRequired,replace:u.a.func.isRequired,createHref:u.a.func.isRequired}).isRequired}).isRequired},t.a=m},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return u});var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},a=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},i=function(e,t){return t(window.confirm(e))},s=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},c=function(){return-1===window.navigator.userAgent.indexOf("Trident")},l=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},u=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){"use strict";var r=n(37);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(4),s=n.n(i),c=n(5),l=n.n(c),u=n(0),p=n.n(u),f=n(1),d=n.n(f),h=n(16),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=function(e){return 0===p.a.Children.count(e)},y=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=o(this,e.call.apply(e,[this].concat(c))),a.state={match:a.computeMatch(a.props,a.context.router)},i=n,o(a,i)}return a(t,e),t.prototype.getChildContext=function(){return{router:m({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,o=e.path,a=e.strict,i=e.exact,s=e.sensitive;if(n)return n;l()(t,"You should not use <Route> or withRouter() outside a <Router>");var c=t.route,u=(r||c.location).pathname;return Object(h.a)(u,{path:o,strict:a,exact:i,sensitive:s},c.match)},t.prototype.componentWillMount=function(){s()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),s()(!(this.props.component&&this.props.children&&!E(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),s()(!(this.props.render&&this.props.children&&!E(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){s()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,o=t.render,a=this.context.router,i=a.history,s=a.route,c=a.staticContext,l=this.props.location||s.location,u={match:e,location:l,history:i,staticContext:c};return r?e?p.a.createElement(r,u):null:o?e?o(u):null:"function"==typeof n?n(u):n&&!E(n)?p.a.Children.only(n):null},t}(p.a.Component);y.propTypes={computedMatch:d.a.object,path:d.a.string,exact:d.a.bool,strict:d.a.bool,sensitive:d.a.bool,component:d.a.func,render:d.a.func,children:d.a.oneOfType([d.a.func,d.a.node]),location:d.a.object},y.contextTypes={router:d.a.shape({history:d.a.object.isRequired,route:d.a.object.isRequired,staticContext:d.a.object})},y.childContextTypes={router:d.a.object.isRequired},t.a=y},function(e,t,n){function r(e,t){for(var n,r=[],o=0,a=0,i="",s=t&&t.delimiter||"/";null!=(n=v.exec(e));){var u=n[0],p=n[1],f=n.index;if(i+=e.slice(a,f),a=f+u.length,p)i+=p[1];else{var d=e[a],h=n[2],m=n[3],E=n[4],y=n[5],g=n[6],_=n[7];i&&(r.push(i),i="");var b=null!=h&&null!=d&&d!==h,S="+"===g||"*"===g,T="?"===g||"*"===g,A=n[2]||s,w=E||y;r.push({name:m||o++,prefix:h||"",delimiter:A,optional:T,repeat:S,partial:b,asterisk:!!_,pattern:w?l(w):_?".*":"[^"+c(A)+"]+?"})}}return a<e.length&&(i+=e.substr(a)),i&&r.push(i),r}function o(e,t){return s(r(e,t))}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function i(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var o="",s=n||{},c=r||{},l=c.pretty?a:encodeURIComponent,u=0;u<e.length;u++){var p=e[u];if("string"!=typeof p){var f,d=s[p.name];if(null==d){if(p.optional){p.partial&&(o+=p.prefix);continue}throw new TypeError('Expected "'+p.name+'" to be defined')}if(y(d)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=l(d[h]),!t[u].test(f))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===h?p.prefix:p.delimiter)+f}}else{if(f=p.asterisk?i(d):l(d),!t[u].test(f))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+f+'"');o+=p.prefix+f}}else o+=p}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function f(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}function d(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(E(e[o],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",p(n)),t)}function h(e,t,n){return m(r(e,n),t,n)}function m(e,t,n){y(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,o=!1!==n.end,a="",i=0;i<e.length;i++){var s=e[i];if("string"==typeof s)a+=c(s);else{var l=c(s.prefix),f="(?:"+s.pattern+")";t.push(s),s.repeat&&(f+="(?:"+l+f+")*"),f=s.optional?s.partial?l+"("+f+")?":"(?:"+l+"("+f+"))?":l+"("+f+")",a+=f}}var d=c(n.delimiter||"/"),h=a.slice(-d.length)===d;return r||(a=(h?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":r&&h?"":"(?="+d+"|$)",u(new RegExp("^"+a,p(n)),t)}function E(e,t,n){return y(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?f(e,t):y(e)?d(e,t,n):h(e,t,n)}var y=n(102);e.exports=E,e.exports.parse=r,e.exports.compile=o,e.exports.tokensToFunction=s,e.exports.tokensToRegExp=m;var v=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t,n){"use strict";var r=function(e,t,n,r){e=e.toString();var o=e.length,a=t-o;if(a<=0)return e;var i=n.repeat(a);return r?""+e+i:""+i+e},o=function(e,t){var n=new Date(e),o=new Date,a={year:n.getFullYear()===o.getFullYear(),month:n.getMonth()===o.getMonth(),day:n.getDate()===o.getDate()};if(a.year&&a.month&&a.day){var i=n.getHours(),s=n.getMinutes(),c="am";return i>12&&(i-=12,c="pm"),0===i&&(i=12),i=r(i,2,"0"),s=r(s,2,"0"),i+":"+s+" "+c}if(a.year){return t[n.getMonth()]+" "+n.getDate()}var l=n.getMonth()+1,u=n.getDate(),p=n.getFullYear();return l=r(l,2,"0"),u=r(u,2,"0"),l+"/"+u+"/"+p},a=function(e){var t=new Date(e),n=t.getMonth()+1,o=t.getDate(),a=t.getFullYear(),i=t.getHours(),s=t.getMinutes(),c="am";return i>12&&(i-=12,c="pm"),0===i&&(i=12),n=r(n,2,"0"),o=r(o,2,"0"),i=r(i,2,"0"),s=r(s,2,"0"),n+"/"+o+"/"+a+" "+i+":"+s+" "+c},i={Thread_Summary:o,Message_Summary:a};e.exports=i},function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e:Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=n(1),d="Compose_Message",h=n(151),m=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.get_state_from_props(e),n.eventHandlers={onChange:n.handleChange.bind(n),onSubmit:n.handleSubmit.bind(n),onCancel:n.handleCancel.bind(n)},n.callbackQueue=[],n.sent_msg_notification_timer=null,n}return c(t,e),u(t,[{key:"componentWillMount",value:function(){this.validateReplyInput()}},{key:"componentWillReceiveProps",value:function(e){var t=null===this.sent_msg_notification_timer,n=(this.state,this.get_state_from_props(e,t));this.setState(n),this.handlePostSubmit(n)}},{key:"componentDidUpdate",value:function(e,t){if(this.validateReplyInput()){for(;this.callbackQueue.length;)this.callbackQueue.shift()();this.state.onDomChange&&this.state.onDomChange(),this.state.onNewMessage&&this.state.error_message!==t.error_message&&this.state.onNewMessage(this.state.error_message)}}},{key:"get_state_from_props",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.draft,r=n.cc.join(" "),o=[].concat(a(n.cc_suggestions)),i=n.attachments.map(function(e){return l({},e)}),s=l({},n.status),c="function"==typeof e.onDomChange?e.onDomChange:null,u="function"==typeof e.onNewMessage?e.onNewMessage:null,p="function"==typeof e.onSend?e.onSend:null,f="function"==typeof e.onCancel?e.onCancel:null,d=e.txtCancel||"Clear",h=l({},n,{cc:r,cc_suggestions:o,attachments:i,status:s,onDomChange:c,onNewMessage:u,onSend:p,onCancel:f,txtCancel:d,invalid_state:!1});return t&&(h.error_message=null),h}},{key:"clearTimer",value:function(){null!==this.sent_msg_notification_timer&&(window.clearTimeout(this.sent_msg_notification_timer),this.sent_msg_notification_timer=null)}},{key:"setError",value:function(e){this.clearTimer(),this.setState({error_message:e})}},{key:"validateReplyInput",value:function(e){e||(e=this.state);var t=e.is_reply&&(!e.thread_id||!e.recipient);return t&&(this.setState({invalid_state:!0}),this.setError("Invalid State: Cannot Compose a Reply")),!t}},{key:"add_cc_suggestion",value:function(e){var t=this.state.cc,n=t.trim()+" "+e,r=this.state.cc_suggestions,o=r.indexOf(e);if(!(o<0)){var i=[].concat(a(r));i.splice(o,1);var s={cc:n,cc_suggestions:i};this.setState(s)}}},{key:"add_attachment",value:function(){var e=this,t=function(t){var n=e.state.attachments,r=[].concat(a(n),a(t)),o={attachments:r};e.setState(o)};h().then(function(e){t(e)}).catch(function(n){Array.isArray(n.file_contents)&&n.file_contents.length?(t(n.file_contents),e.setError("ERROR: some attachments failed to be read from disk")):e.setError("WARNING: did not detect any files selected")})}},{key:"remove_attachment",value:function(e){var t=this.state.attachments,n=t.indexOf(e);if(!(n<0)){var r=[].concat(a(t));r.splice(n,1);var o={attachments:r};this.setState(o)}}},{key:"handleChange",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget.id,n=e.currentTarget.value,r=o({},t,n);this.setState(r),this.setError(null)}},{key:"handleSubmit",value:function(e){if(e.stopPropagation(),e.preventDefault(),this.validateReplyInput()){var t=this.state,n=t.is_reply,o=t.thread_id,i=t.recipient,s=t.cc,c=t.cc_suggestions,u=t.subject,p=t.body,f=t.attachments;i=i.trim(),s=s.trim(),u=u.trim(),p=p.trim();var h=[];if(i||h.push("To"),u||n||h.push("Subject"),p||h.push("Message"),h.length)return this.setError("The following required field"+(h.length>1?"s are":" is")+' incomplete: "'+h.join('", "')+'"');if(s=s.split(/\s*[,\s]\s*/g).filter(function(e){return e.length}),c=[].concat(a(c)),f=f.map(function(e){return l({},e)}),i=i.split(/\s*[,\s]\s*/g).filter(function(e){return e.length}),i.length>1){var m=void 0,E=i,y=r(E);i=y[0],m=y.slice(1),s=[].concat(a(s),a(m))}else i=i[0];this.context.actions.DEBUG("SAVING DRAFT MESSAGE",{origin:d,old_draft:this.props.draft,new_draft:{is_reply:n,thread_id:o,recipient:i,cc:s,cc_suggestions:c,subject:u,body:p,attachments:f}}),this.context.actions.SAVE_DRAFT_MESSAGE(n,o,i,s,c,u,p,f),n?this.context.actions.SEND_REPLY(o,i,p,s,f):this.context.actions.SEND_NEW_MESSAGE(i,u,p,s,f)}}},{key:"handlePostSubmit",value:function(e){var t=this;switch(e||(e=this.state),e.status.code){case 0:break;case 1:this.setError("Retrieving Public Encryption Keys...");break;case 2:this.setError("Message is Sending...");break;case 3:this.setError("Message Sent"),this.sent_msg_notification_timer=window.setTimeout(function(){t.sent_msg_notification_timer=null,t.setError(null)},5e3),e.onSend&&this.callbackQueue.push(e.onSend),this.context.actions.CLEAR_DRAFT_MESSAGE();break;case 4:this.setError(e.status.error_message)}}},{key:"handleCancel",value:function(e){e.stopPropagation(),e.preventDefault(),this.setError(null),this.state.onCancel&&this.callbackQueue.push(this.state.onCancel),this.context.actions.CLEAR_DRAFT_MESSAGE()}},{key:"render",value:function(){var e=this;this.context.actions.DEBUG("rendering: "+d,{draft:this.props.draft});var t=this.state.cc_suggestions.map(function(t){return p.createElement("div",{key:t,className:"cc_suggestion",onClick:e.add_cc_suggestion.bind(e,t)},p.createElement("span",{className:"icon"}),p.createElement("span",{className:"email"},t))}),n=this.state.attachments.map(function(t){return p.createElement("div",{key:t.name,className:"attachment",onClick:e.remove_attachment.bind(e,t)},p.createElement("span",{className:"icon icon-remove"}),p.createElement("span",{className:"filename"},t.name))}),r=void 0;return null!==this.state.error_message&&(r=0===this.state.error_message.indexOf('<div class="encryption_error">')?p.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.error_message}}):p.createElement("span",null,this.state.error_message)),p.createElement("div",{className:"component "+d.toLowerCase()+" "+(this.state.is_reply?"reply":"new_message")},r&&p.createElement("div",{className:"error_message"},r),!0!==this.state.invalid_state&&p.createElement("form",{onSubmit:this.eventHandlers.onSubmit},p.createElement("div",{className:"grid"},p.createElement("label",{for:"recipient"},"To:"),p.createElement("input",{type:"text",id:"recipient",value:this.state.recipient,onChange:this.eventHandlers.onChange,disabled:this.state.is_reply}),p.createElement("label",{for:"cc"},"Cc:"),p.createElement("input",{type:"text",id:"cc",value:this.state.cc,onChange:this.eventHandlers.onChange}),this.state.cc_suggestions.length>0&&p.createElement("label",null),this.state.cc_suggestions.length>0&&p.createElement("div",{className:"cc_suggestions"},t),p.createElement("label",{for:"subject"},"Subject:"),p.createElement("input",{type:"text",id:"subject",value:this.state.subject,onChange:this.eventHandlers.onChange}),p.createElement("label",{for:"body"},"Message:"),p.createElement("textarea",{id:"body",value:this.state.body,onChange:this.eventHandlers.onChange}),p.createElement("label",null,"Files:"),p.createElement("div",{className:"attachments"},p.createElement("div",{className:"attachment static-icons"},p.createElement("span",{className:"icon icon-add",role:"img",title:"Add File Attachment",onClick:this.add_attachment.bind(this)})),n),p.createElement("label",null),p.createElement("div",{className:"buttons"},p.createElement("input",{className:"send",type:"submit",value:"Send"}),p.createElement("input",{className:"cancel",type:"button",value:this.state.txtCancel,onClick:this.eventHandlers.onCancel})))))}}]),t}(p.PureComponent);m.propTypes={draft:f.object.isRequired,onNewMessage:f.func,onDomChange:f.func,onSend:f.func,onCancel:f.func,txtCancel:f.string},m.defaultProps={txtCancel:"Clear"},m.contextTypes={actions:f.object.isRequired},e.exports=m},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};/** @license Secure Webmail
 *
 * Copyright (c) 2018-present, Warren R. Bank
 *
 * canonical source code git repository:
 *   https://github.com/warren-bank/Secure-Webmail
 *
 * This source code is not licensed.
 * This source code is made available to the general public
 * for the purpose of security audit only.
 */
!function(){var e=n(0),t=n(43),o=n(53).store,a=function(){var e=n(6);return o.dispatch(e.STORE_INITIALIZED(window.init_data||{})),r({},e.RESPOND_TO_USER_EVENT,{DEBUG:e.LOG_DEBUG_MESSAGE,GENERATE_KEYPAIR:e.CRYPTO.RSA.GENERATE_KEYPAIR,UPDATE_SETTINGS:e.UPDATE_SETTINGS,SAVE_DRAFT_MESSAGE:e.SAVE_APP.DRAFT_MESSAGE.STORE,CLEAR_DRAFT_MESSAGE:e.SAVE_APP.DRAFT_MESSAGE.CLEAR,SEND_NEW_MESSAGE:e.SEND_EMAIL.NEW_MESSAGE,SEND_REPLY:e.SEND_EMAIL.REPLY,UPDATE_THREAD:e.UPDATE_THREAD,UPDATE_MESSAGE:e.UPDATE_MESSAGE})}(),i=n(28),s=n(87),c=s.history,l=s.Router,u=n(153),p=function(){var n={store:o,actions:a,constants:i,history:c,component:l};t.render(e.createElement(u,n),document.getElementById("root"))};switch(document.readyState){case"complete":case"interactive":case"loaded":p();break;case"loading":default:document.addEventListener("DOMContentLoaded",p,!1)}}()},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function o(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||P}function a(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||P}function i(){}function s(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||P}function c(e,t,n){var r,o={},a=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(a=""+t.key),t)N.call(t,r)&&!D.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:S,type:e,key:a,ref:i,props:o,_owner:C.current}}function l(e){return"object"==typeof e&&null!==e&&e.$$typeof===S}function u(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function p(e,t,n,r){if(M.length){var o=M.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function f(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function d(e,t,n,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var i=!1;if(null===e)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case S:case T:case A:case w:i=!0}}if(i)return n(o,e,""===t?"."+h(e,0):t),1;if(i=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){a=e[s];var c=t+h(a,s);i+=d(a,c,n,o)}else if(null===e||void 0===e?c=null:(c=O&&e[O]||e["@@iterator"],c="function"==typeof c?c:null),"function"==typeof c)for(e=c.call(e),s=0;!(a=e.next()).done;)a=a.value,c=t+h(a,s++),i+=d(a,c,n,o);else"object"===a&&(n=""+e,r("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return i}function h(e,t){return"object"==typeof e&&null!==e&&null!=e.key?u(e.key):t.toString(36)}function m(e,t){e.func.call(e.context,t,e.count++)}function E(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?y(e,r,n,_.thatReturnsArgument):null!=e&&(l(e)&&(t=o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n,e={$$typeof:S,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function y(e,t,n,r,o){var a="";null!=n&&(a=(""+n).replace(I,"$&/")+"/"),t=p(t,a,r,o),null==e||d(e,"",E,t),f(t)}/** @license React v16.2.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var v=n(18),g=n(19),_=n(8),b="function"==typeof Symbol&&Symbol.for,S=b?Symbol.for("react.element"):60103,T=b?Symbol.for("react.call"):60104,A=b?Symbol.for("react.return"):60105,w=b?Symbol.for("react.portal"):60106,R=b?Symbol.for("react.fragment"):60107,O="function"==typeof Symbol&&Symbol.iterator,P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};o.prototype.isReactComponent={},o.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e,t,"setState")},o.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},i.prototype=o.prototype;var x=a.prototype=new i;x.constructor=a,v(x,o.prototype),x.isPureReactComponent=!0;var k=s.prototype=new i;k.constructor=s,v(k,o.prototype),k.unstable_isAsyncReactComponent=!0,k.render=function(){return this.props.children};var C={current:null},N=Object.prototype.hasOwnProperty,D={key:!0,ref:!0,__self:!0,__source:!0},I=/\/+/g,M=[],L={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return y(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=p(null,null,t,n),null==e||d(e,"",m,t),f(t)},count:function(e){return null==e?0:d(e,"",_.thatReturnsNull,null)},toArray:function(e){var t=[];return y(e,t,null,_.thatReturnsArgument),t},only:function(e){return l(e)||r("143"),e}},Component:o,PureComponent:a,unstable_AsyncComponent:s,Fragment:R,createElement:c,cloneElement:function(e,t,n){var r=v({},e.props),o=e.key,a=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,i=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)N.call(t,c)&&!D.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:S,type:e.type,key:o,ref:a,props:r,_owner:i}},createFactory:function(e){var t=c.bind(null,e);return t.type=e,t},isValidElement:l,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:C,assign:v}},j=Object.freeze({default:L}),U=j&&L||j;e.exports=U.default?U.default:U},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(44)},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function o(e,t){return(e&t)===t}function a(e,t){if(xn.hasOwnProperty(e)||2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))return!1;if(null===t)return!0;switch(typeof t){case"boolean":return xn.hasOwnProperty(e)?e=!0:(t=i(e))?e=t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:(e=e.toLowerCase().slice(0,5),e="data-"===e||"aria-"===e),e;case"undefined":case"number":case"string":case"object":return!0;default:return!1}}function i(e){return Cn.hasOwnProperty(e)?Cn[e]:null}function s(e){return e[1].toUpperCase()}function c(e,t,n,r,o,a,i,s,c){Yn._hasCaughtError=!1,Yn._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){Yn._caughtError=e,Yn._hasCaughtError=!0}}function l(){if(Yn._hasRethrowError){var e=Yn._rethrowError;throw Yn._rethrowError=null,Yn._hasRethrowError=!1,e}}function u(){if(Kn)for(var e in qn){var t=qn[e],n=Kn.indexOf(e);if(-1<n||r("96",e),!Wn[n]){t.extractEvents||r("97",e),Wn[n]=t,n=t.eventTypes;for(var o in n){var a=void 0,i=n[o],s=t,c=o;zn.hasOwnProperty(c)&&r("99",c),zn[c]=i;var l=i.phasedRegistrationNames;if(l){for(a in l)l.hasOwnProperty(a)&&p(l[a],s,c);a=!0}else i.registrationName?(p(i.registrationName,s,c),a=!0):a=!1;a||r("98",o,e)}}}}function p(e,t,n){$n[e]&&r("100",e),$n[e]=t,Qn[e]=t.eventTypes[n].dependencies}function f(e){Kn&&r("101"),Kn=Array.prototype.slice.call(e),u()}function d(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var o=e[t];qn.hasOwnProperty(t)&&qn[t]===o||(qn[t]&&r("102",t),qn[t]=o,n=!0)}n&&u()}function h(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=er(r),Yn.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function m(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function E(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function y(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)h(e,t,n[o],r[o]);else n&&h(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function v(e){return y(e,!0)}function g(e){return y(e,!1)}function _(e,t){var n=e.stateNode;if(!n)return null;var o=Jn(n);if(!o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(o=!o.disabled)||(e=e.type,o=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&r("231",t,typeof n),n)}function b(e,t,n,r){for(var o,a=0;a<Wn.length;a++){var i=Wn[a];i&&(i=i.extractEvents(e,t,n,r))&&(o=m(o,i))}return o}function S(e){e&&(tr=m(tr,e))}function T(e){var t=tr;tr=null,t&&(e?E(t,v):E(t,g),tr&&r("95"),Yn.rethrowCaughtError())}function A(e){if(e[ar])return e[ar];for(var t=[];!e[ar];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}var n=void 0,r=e[ar];if(5===r.tag||6===r.tag)return r;for(;e&&(r=e[ar]);e=t.pop())n=r;return n}function w(e){if(5===e.tag||6===e.tag)return e.stateNode;r("33")}function R(e){return e[ir]||null}function O(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function P(e,t,n){for(var r=[];e;)r.push(e),e=O(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function x(e,t,n){(t=_(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=m(n._dispatchListeners,t),n._dispatchInstances=m(n._dispatchInstances,e))}function k(e){e&&e.dispatchConfig.phasedRegistrationNames&&P(e._targetInst,x,e)}function C(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?O(t):null,P(t,x,e)}}function N(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=_(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=m(n._dispatchListeners,t),n._dispatchInstances=m(n._dispatchInstances,e))}function D(e){e&&e.dispatchConfig.registrationName&&N(e._targetInst,null,e)}function I(e){E(e,k)}function M(e,t,n,r){if(n&&r)e:{for(var o=n,a=r,i=0,s=o;s;s=O(s))i++;s=0;for(var c=a;c;c=O(c))s++;for(;0<i-s;)o=O(o),i--;for(;0<s-i;)a=O(a),s--;for(;i--;){if(o===a||o===a.alternate)break e;o=O(o),a=O(a)}o=null}else o=null;for(a=o,o=[];n&&n!==a&&(null===(i=n.alternate)||i!==a);)o.push(n),n=O(n);for(n=[];r&&r!==a&&(null===(i=r.alternate)||i!==a);)n.push(r),r=O(r);for(r=0;r<o.length;r++)N(o[r],"bubbled",e);for(e=n.length;0<e--;)N(n[e],"captured",t)}function L(){return!lr&&_n.canUseDOM&&(lr="textContent"in document.documentElement?"textContent":"innerText"),lr}function j(){if(ur._fallbackText)return ur._fallbackText;var e,t,n=ur._startText,r=n.length,o=U(),a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return ur._fallbackText=o.slice(e,1<t?1-t:void 0),ur._fallbackText}function U(){return"value"in ur._root?ur._root.value:ur._root[L()]}function H(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var o in e)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Sn.thatReturnsTrue:Sn.thatReturnsFalse,this.isPropagationStopped=Sn.thatReturnsFalse,this}function G(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function V(e){e instanceof this||r("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function F(e){e.eventPool=[],e.getPooled=G,e.release=V}function B(e,t,n,r){return H.call(this,e,t,n,r)}function Y(e,t,n,r){return H.call(this,e,t,n,r)}function K(e,t){switch(e){case"topKeyUp":return-1!==dr.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function q(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function W(e,t){switch(e){case"topCompositionEnd":return q(t);case"topKeyPress":return 32!==t.which?null:(Tr=!0,br);case"topTextInput":return e=t.data,e===br&&Tr?null:e;default:return null}}function z(e,t){if(Ar)return"topCompositionEnd"===e||!hr&&K(e,t)?(e=j(),ur._root=null,ur._startText=null,ur._fallbackText=null,Ar=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return _r?null:t.data;default:return null}}function $(e){if(e=Zn(e)){Rr&&"function"==typeof Rr.restoreControlledState||r("194");var t=Jn(e.stateNode);Rr.restoreControlledState(e.stateNode,e.type,t)}}function Q(e){Or?Pr?Pr.push(e):Pr=[e]:Or=e}function X(){if(Or){var e=Or,t=Pr;if(Pr=Or=null,$(e),t)for(e=0;e<t.length;e++)$(t[e])}}function J(e,t){return e(t)}function Z(e,t){if(Cr)return J(e,t);Cr=!0;try{return J(e,t)}finally{Cr=!1,X()}}function ee(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nr[e.type]:"textarea"===t}function te(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ne(e,t){if(!_n.canUseDOM||t&&!("addEventListener"in document))return!1;t="on"+e;var n=t in document;return n||(n=document.createElement("div"),n.setAttribute(t,"return;"),n="function"==typeof n[t]),!n&&vr&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function re(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function oe(e){var t=re(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}function ae(e){e._valueTracker||(e._valueTracker=oe(e))}function ie(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=re(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function se(e,t,n){return e=H.getPooled(Dr.change,e,t,n),e.type="change",Q(n),I(e),e}function ce(e){S(e),T(!1)}function le(e){if(ie(w(e)))return e}function ue(e,t){if("topChange"===e)return t}function pe(){Ir&&(Ir.detachEvent("onpropertychange",fe),Mr=Ir=null)}function fe(e){"value"===e.propertyName&&le(Mr)&&(e=se(Mr,e,te(e)),Z(ce,e))}function de(e,t,n){"topFocus"===e?(pe(),Ir=t,Mr=n,Ir.attachEvent("onpropertychange",fe)):"topBlur"===e&&pe()}function he(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return le(Mr)}function me(e,t){if("topClick"===e)return le(t)}function Ee(e,t){if("topInput"===e||"topChange"===e)return le(t)}function ye(e,t,n,r){return H.call(this,e,t,n,r)}function ve(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ur[e])&&!!t[e]}function ge(){return ve}function _e(e,t,n,r){return H.call(this,e,t,n,r)}function be(e){return e=e.type,"string"==typeof e?e:"function"==typeof e?e.displayName||e.name:null}function Se(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!=(2&t.effectTag))return 1}return 3===t.tag?2:3}function Te(e){return!!(e=e._reactInternalFiber)&&2===Se(e)}function Ae(e){2!==Se(e)&&r("188")}function we(e){var t=e.alternate;if(!t)return t=Se(e),3===t&&r("188"),1===t?null:e;for(var n=e,o=t;;){var a=n.return,i=a?a.alternate:null;if(!a||!i)break;if(a.child===i.child){for(var s=a.child;s;){if(s===n)return Ae(a),e;if(s===o)return Ae(a),t;s=s.sibling}r("188")}if(n.return!==o.return)n=a,o=i;else{s=!1;for(var c=a.child;c;){if(c===n){s=!0,n=a,o=i;break}if(c===o){s=!0,o=a,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,o=a;break}if(c===o){s=!0,o=i,n=a;break}c=c.sibling}s||r("189")}}n.alternate!==o&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?e:t}function Re(e){if(!(e=we(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Oe(e){if(!(e=we(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Pe(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=A(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],Yr(e.topLevelType,t,e.nativeEvent,te(e.nativeEvent))}function xe(e){Br=!!e}function ke(e,t,n){return n?Tn.listen(n,t,Ne.bind(null,e)):null}function Ce(e,t,n){return n?Tn.capture(n,t,Ne.bind(null,e)):null}function Ne(e,t){if(Br){var n=te(t);if(n=A(n),null===n||"number"!=typeof n.tag||2===Se(n)||(n=null),Fr.length){var r=Fr.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Z(Pe,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Fr.length&&Fr.push(e)}}}function De(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function Ie(e){if(Wr[e])return Wr[e];if(!qr[e])return e;var t,n=qr[e];for(t in n)if(n.hasOwnProperty(t)&&t in zr)return Wr[e]=n[t];return""}function Me(e){return Object.prototype.hasOwnProperty.call(e,Jr)||(e[Jr]=Xr++,Qr[e[Jr]]={}),Qr[e[Jr]]}function Le(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function je(e,t){var n=Le(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Le(n)}}function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}function He(e,t){if(oo||null==to||to!==An())return null;var n=to;return"selectionStart"in n&&Ue(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,ro&&wn(ro,n)?null:(ro=n,e=H.getPooled(eo.select,no,e,t),e.type="select",e.target=to,I(e),e)}function Ge(e,t,n,r){return H.call(this,e,t,n,r)}function Ve(e,t,n,r){return H.call(this,e,t,n,r)}function Fe(e,t,n,r){return H.call(this,e,t,n,r)}function Be(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=e||13===e?e:0}function Ye(e,t,n,r){return H.call(this,e,t,n,r)}function Ke(e,t,n,r){return H.call(this,e,t,n,r)}function qe(e,t,n,r){return H.call(this,e,t,n,r)}function We(e,t,n,r){return H.call(this,e,t,n,r)}function ze(e,t,n,r){return H.call(this,e,t,n,r)}function $e(e){0>fo||(e.current=po[fo],po[fo]=null,fo--)}function Qe(e,t){fo++,po[fo]=e.current,e.current=t}function Xe(e){return Ze(e)?Eo:ho.current}function Je(e,t){var n=e.type.contextTypes;if(!n)return Pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ze(e){return 2===e.tag&&null!=e.type.childContextTypes}function et(e){Ze(e)&&($e(mo,e),$e(ho,e))}function tt(e,t,n){null!=ho.cursor&&r("168"),Qe(ho,t,e),Qe(mo,n,e)}function nt(e,t){var n=e.stateNode,o=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;n=n.getChildContext();for(var a in n)a in o||r("108",be(e)||"Unknown",a);return bn({},t,n)}function rt(e){if(!Ze(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Pn,Eo=ho.current,Qe(ho,t,e),Qe(mo,mo.current,e),!0}function ot(e,t){var n=e.stateNode;if(n||r("169"),t){var o=nt(e,Eo);n.__reactInternalMemoizedMergedChildContext=o,$e(mo,e),$e(ho,e),Qe(ho,o,e)}else $e(mo,e);Qe(mo,t,e)}function at(e,t,n){this.tag=e,this.key=t,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function it(e,t,n){var r=e.alternate;return null===r?(r=new at(e.tag,e.key,e.internalContextTag),r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.pendingProps=t,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function st(e,t,n){var o=void 0,a=e.type,i=e.key;return"function"==typeof a?(o=a.prototype&&a.prototype.isReactComponent?new at(2,i,t):new at(0,i,t),o.type=a,o.pendingProps=e.props):"string"==typeof a?(o=new at(5,i,t),o.type=a,o.pendingProps=e.props):"object"==typeof a&&null!==a&&"number"==typeof a.tag?(o=a,o.pendingProps=e.props):r("130",null==a?a:typeof a,""),o.expirationTime=n,o}function ct(e,t,n,r){return t=new at(10,r,t),t.pendingProps=e,t.expirationTime=n,t}function lt(e,t,n){return t=new at(6,null,t),t.pendingProps=e,t.expirationTime=n,t}function ut(e,t,n){return t=new at(7,e.key,t),t.type=e.handler,t.pendingProps=e,t.expirationTime=n,t}function pt(e,t,n){return e=new at(9,null,t),e.expirationTime=n,e}function ft(e,t,n){return t=new at(4,e.key,t),t.pendingProps=e.children||[],t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dt(e){return function(t){try{return e(t)}catch(e){}}}function ht(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);yo=dt(function(e){return t.onCommitFiberRoot(n,e)}),vo=dt(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function mt(e){"function"==typeof yo&&yo(e)}function Et(e){"function"==typeof vo&&vo(e)}function yt(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function vt(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}function gt(e,t){var n=e.alternate,r=e.updateQueue;null===r&&(r=e.updateQueue=yt(null)),null!==n?null===(e=n.updateQueue)&&(e=n.updateQueue=yt(null)):e=null,e=e!==r?e:null,null===e?vt(r,t):null===r.last||null===e.last?(vt(r,t),vt(e,t)):(vt(r,t),e.last=t)}function _t(e,t,n,r){return e=e.partialState,"function"==typeof e?e.call(t,n,r):e}function bt(e,t,n,r,o,a){null!==e&&e.updateQueue===n&&(n=t.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?e=n.baseState:(e=n.baseState=t.memoizedState,n.isInitialized=!0);for(var i=!0,s=n.first,c=!1;null!==s;){var l=s.expirationTime;if(l>a){var u=n.expirationTime;(0===u||u>l)&&(n.expirationTime=l),c||(c=!0,n.baseState=e)}else c||(n.first=s.next,null===n.first&&(n.last=null)),s.isReplace?(e=_t(s,r,e,o),i=!0):(l=_t(s,r,e,o))&&(e=i?bn({},e,l):bn(e,l),i=!1),s.isForced&&(n.hasForceUpdate=!0),null!==s.callback&&(l=n.callbackList,null===l&&(l=n.callbackList=[]),l.push(s));s=s.next}return null!==n.callbackList?t.effectTag|=32:null!==n.first||n.hasForceUpdate||(t.updateQueue=null),c||(n.baseState=e),e}function St(e,t){var n=e.callbackList;if(null!==n)for(e.callbackList=null,e=0;e<n.length;e++){var o=n[e],a=o.callback;o.callback=null,"function"!=typeof a&&r("191",a),a.call(t)}}function Tt(e,t,n,o){function a(e,t){t.updater=i,e.stateNode=t,t._reactInternalFiber=e}var i={isMounted:Te,enqueueSetState:function(n,r,o){n=n._reactInternalFiber,o=void 0===o?null:o;var a=t(n);gt(n,{expirationTime:a,partialState:r,callback:o,isReplace:!1,isForced:!1,nextCallback:null,next:null}),e(n,a)},enqueueReplaceState:function(n,r,o){n=n._reactInternalFiber,o=void 0===o?null:o;var a=t(n);gt(n,{expirationTime:a,partialState:r,callback:o,isReplace:!0,isForced:!1,nextCallback:null,next:null}),e(n,a)},enqueueForceUpdate:function(n,r){n=n._reactInternalFiber,r=void 0===r?null:r;var o=t(n);gt(n,{expirationTime:o,partialState:null,callback:r,isReplace:!1,isForced:!0,nextCallback:null,next:null}),e(n,o)}};return{adoptClassInstance:a,constructClassInstance:function(e,t){var n=e.type,r=Xe(e),o=2===e.tag&&null!=e.type.contextTypes,i=o?Je(e,r):Pn;return t=new n(t,i),a(e,t),o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t},mountClassInstance:function(e,t){var n=e.alternate,o=e.stateNode,a=o.state||null,s=e.pendingProps;s||r("158");var c=Xe(e);o.props=s,o.state=e.memoizedState=a,o.refs=Pn,o.context=Je(e,c),null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent&&(e.internalContextTag|=1),"function"==typeof o.componentWillMount&&(a=o.state,o.componentWillMount(),a!==o.state&&i.enqueueReplaceState(o,o.state,null),null!==(a=e.updateQueue)&&(o.state=bt(n,e,a,o,s,t))),"function"==typeof o.componentDidMount&&(e.effectTag|=4)},updateClassInstance:function(e,t,a){var s=t.stateNode;s.props=t.memoizedProps,s.state=t.memoizedState;var c=t.memoizedProps,l=t.pendingProps;l||null==(l=c)&&r("159");var u=s.context,p=Xe(t);if(p=Je(t,p),"function"!=typeof s.componentWillReceiveProps||c===l&&u===p||(u=s.state,s.componentWillReceiveProps(l,p),s.state!==u&&i.enqueueReplaceState(s,s.state,null)),u=t.memoizedState,a=null!==t.updateQueue?bt(e,t,t.updateQueue,s,l,a):u,!(c!==l||u!==a||mo.current||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"!=typeof s.componentDidUpdate||c===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),!1;var f=l;if(null===c||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)f=!0;else{var d=t.stateNode,h=t.type;f="function"==typeof d.shouldComponentUpdate?d.shouldComponentUpdate(f,a,p):!h.prototype||!h.prototype.isPureReactComponent||(!wn(c,f)||!wn(u,a))}return f?("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(l,a,p),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4)):("function"!=typeof s.componentDidUpdate||c===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),n(t,l),o(t,a)),s.props=l,s.state=a,s.context=p,f}}}function At(e){return null===e||void 0===e?null:(e=wo&&e[wo]||e["@@iterator"],"function"==typeof e?e:null)}function wt(e,t){var n=t.ref;if(null!==n&&"function"!=typeof n){if(t._owner){t=t._owner;var o=void 0;t&&(2!==t.tag&&r("110"),o=t.stateNode),o||r("147",n);var a=""+n;return null!==e&&null!==e.ref&&e.ref._stringRef===a?e.ref:(e=function(e){var t=o.refs===Pn?o.refs={}:o.refs;null===e?delete t[a]:t[a]=e},e._stringRef=a,e)}"string"!=typeof n&&r("148"),t._owner||r("149",n)}return n}function Rt(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Ot(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return e=it(e,t,n),e.index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?(t=lt(n,e.internalContextTag,r),t.return=e,t):(t=a(t,n,r),t.return=e,t)}function l(e,t,n,r){return null!==t&&t.type===n.type?(r=a(t,n.props,r),r.ref=wt(t,n),r.return=e,r):(r=st(n,e.internalContextTag,r),r.ref=wt(t,n),r.return=e,r)}function u(e,t,n,r){return null===t||7!==t.tag?(t=ut(n,e.internalContextTag,r),t.return=e,t):(t=a(t,n,r),t.return=e,t)}function p(e,t,n,r){return null===t||9!==t.tag?(t=pt(n,e.internalContextTag,r),t.type=n.value,t.return=e,t):(t=a(t,null,r),t.type=n.value,t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=ft(n,e.internalContextTag,r),t.return=e,t):(t=a(t,n.children||[],r),t.return=e,t)}function d(e,t,n,r,o){return null===t||10!==t.tag?(t=ct(n,e.internalContextTag,r,o),t.return=e,t):(t=a(t,n,r),t.return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return t=lt(""+t,e.internalContextTag,n),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case _o:return t.type===Ao?(t=ct(t.props.children,e.internalContextTag,n,t.key),t.return=e,t):(n=st(t,e.internalContextTag,n),n.ref=wt(null,t),n.return=e,n);case bo:return t=ut(t,e.internalContextTag,n),t.return=e,t;case So:return n=pt(t,e.internalContextTag,n),n.type=t.value,n.return=e,n;case To:return t=ft(t,e.internalContextTag,n),t.return=e,t}if(Ro(t)||At(t))return t=ct(t,e.internalContextTag,n,null),t.return=e,t;Rt(e,t)}return null}function m(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case _o:return n.key===o?n.type===Ao?d(e,t,n.props.children,r,o):l(e,t,n,r):null;case bo:return n.key===o?u(e,t,n,r):null;case So:return null===o?p(e,t,n,r):null;case To:return n.key===o?f(e,t,n,r):null}if(Ro(n)||At(n))return null!==o?null:d(e,t,n,r,null);Rt(e,n)}return null}function E(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return e=e.get(n)||null,c(t,e,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case _o:return e=e.get(null===r.key?n:r.key)||null,r.type===Ao?d(t,e,r.props.children,o,r.key):l(t,e,r,o);case bo:return e=e.get(null===r.key?n:r.key)||null,u(t,e,r,o);case So:return e=e.get(n)||null,p(t,e,r,o);case To:return e=e.get(null===r.key?n:r.key)||null,f(t,e,r,o)}if(Ro(r)||At(r))return e=e.get(n)||null,d(t,e,r,o,null);Rt(t,r)}return null}function y(r,a,s,c){for(var l=null,u=null,p=a,f=a=0,d=null;null!==p&&f<s.length;f++){p.index>f?(d=p,p=null):d=p.sibling;var y=m(r,p,s[f],c);if(null===y){null===p&&(p=d);break}e&&p&&null===y.alternate&&t(r,p),a=i(y,a,f),null===u?l=y:u.sibling=y,u=y,p=d}if(f===s.length)return n(r,p),l;if(null===p){for(;f<s.length;f++)(p=h(r,s[f],c))&&(a=i(p,a,f),null===u?l=p:u.sibling=p,u=p);return l}for(p=o(r,p);f<s.length;f++)(d=E(p,r,f,s[f],c))&&(e&&null!==d.alternate&&p.delete(null===d.key?f:d.key),a=i(d,a,f),null===u?l=d:u.sibling=d,u=d);return e&&p.forEach(function(e){return t(r,e)}),l}function v(a,s,c,l){var u=At(c);"function"!=typeof u&&r("150"),null==(c=u.call(c))&&r("151");for(var p=u=null,f=s,d=s=0,y=null,v=c.next();null!==f&&!v.done;d++,v=c.next()){f.index>d?(y=f,f=null):y=f.sibling;var g=m(a,f,v.value,l);if(null===g){f||(f=y);break}e&&f&&null===g.alternate&&t(a,f),s=i(g,s,d),null===p?u=g:p.sibling=g,p=g,f=y}if(v.done)return n(a,f),u;if(null===f){for(;!v.done;d++,v=c.next())null!==(v=h(a,v.value,l))&&(s=i(v,s,d),null===p?u=v:p.sibling=v,p=v);return u}for(f=o(a,f);!v.done;d++,v=c.next())null!==(v=E(f,a,d,v.value,l))&&(e&&null!==v.alternate&&f.delete(null===v.key?d:v.key),s=i(v,s,d),null===p?u=v:p.sibling=v,p=v);return e&&f.forEach(function(e){return t(a,e)}),u}return function(e,o,i,c){"object"==typeof i&&null!==i&&i.type===Ao&&null===i.key&&(i=i.props.children);var l="object"==typeof i&&null!==i;if(l)switch(i.$$typeof){case _o:e:{var u=i.key;for(l=o;null!==l;){if(l.key===u){if(10===l.tag?i.type===Ao:l.type===i.type){n(e,l.sibling),o=a(l,i.type===Ao?i.props.children:i.props,c),o.ref=wt(l,i),o.return=e,e=o;break e}n(e,l);break}t(e,l),l=l.sibling}i.type===Ao?(o=ct(i.props.children,e.internalContextTag,c,i.key),o.return=e,e=o):(c=st(i,e.internalContextTag,c),c.ref=wt(o,i),c.return=e,e=c)}return s(e);case bo:e:{for(l=i.key;null!==o;){if(o.key===l){if(7===o.tag){n(e,o.sibling),o=a(o,i,c),o.return=e,e=o;break e}n(e,o);break}t(e,o),o=o.sibling}o=ut(i,e.internalContextTag,c),o.return=e,e=o}return s(e);case So:e:{if(null!==o){if(9===o.tag){n(e,o.sibling),o=a(o,null,c),o.type=i.value,o.return=e,e=o;break e}n(e,o)}o=pt(i,e.internalContextTag,c),o.type=i.value,o.return=e,e=o}return s(e);case To:e:{for(l=i.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(e,o.sibling),o=a(o,i.children||[],c),o.return=e,e=o;break e}n(e,o);break}t(e,o),o=o.sibling}o=ft(i,e.internalContextTag,c),o.return=e,e=o}return s(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==o&&6===o.tag?(n(e,o.sibling),o=a(o,i,c)):(n(e,o),o=lt(i,e.internalContextTag,c)),o.return=e,e=o,s(e);if(Ro(i))return y(e,o,i,c);if(At(i))return v(e,o,i,c);if(l&&Rt(e,i),void 0===i)switch(e.tag){case 2:case 1:c=e.type,r("152",c.displayName||c.name||"Component")}return n(e,o)}}function Pt(e,t,n,o,a){function i(e,t,n){var r=t.expirationTime;t.child=null===e?Po(t,null,n,r):Oo(t,e.child,n,r)}function s(e,t){var n=t.ref;null===n||e&&e.ref===n||(t.effectTag|=128)}function c(e,t,n,r){if(s(e,t),!n)return r&&ot(t,!1),u(e,t);n=t.stateNode,Vr.current=t;var o=n.render();return t.effectTag|=1,i(e,t,o),t.memoizedState=n.state,t.memoizedProps=n.props,r&&ot(t,!0),t.child}function l(e){var t=e.stateNode;t.pendingContext?tt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tt(e,t.context,!1),E(e,t.containerInfo)}function u(e,t){if(null!==e&&t.child!==e.child&&r("153"),null!==t.child){e=t.child;var n=it(e,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=it(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}function p(e,t){switch(t.tag){case 3:l(t);break;case 2:rt(t);break;case 4:E(t,t.stateNode.containerInfo)}return null}var f=e.shouldSetTextContent,d=e.useSyncScheduling,h=e.shouldDeprioritizeSubtree,m=t.pushHostContext,E=t.pushHostContainer,y=n.enterHydrationState,v=n.resetHydrationState,g=n.tryToClaimNextHydratableInstance;e=Tt(o,a,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t});var _=e.adoptClassInstance,b=e.constructClassInstance,S=e.mountClassInstance,T=e.updateClassInstance;return{beginWork:function(e,t,n){if(0===t.expirationTime||t.expirationTime>n)return p(e,t);switch(t.tag){case 0:null!==e&&r("155");var o=t.type,a=t.pendingProps,A=Xe(t);return A=Je(t,A),o=o(a,A),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render?(t.tag=2,a=rt(t),_(t,o),S(t,n),t=c(e,t,!0,a)):(t.tag=1,i(e,t,o),t.memoizedProps=a,t=t.child),t;case 1:e:{if(a=t.type,n=t.pendingProps,o=t.memoizedProps,mo.current)null===n&&(n=o);else if(null===n||o===n){t=u(e,t);break e}o=Xe(t),o=Je(t,o),a=a(n,o),t.effectTag|=1,i(e,t,a),t.memoizedProps=n,t=t.child}return t;case 2:return a=rt(t),o=void 0,null===e?t.stateNode?r("153"):(b(t,t.pendingProps),S(t,n),o=!0):o=T(e,t,n),c(e,t,o,a);case 3:return l(t),a=t.updateQueue,null!==a?(o=t.memoizedState,a=bt(e,t,a,null,null,n),o===a?(v(),t=u(e,t)):(o=a.element,A=t.stateNode,(null===e||null===e.child)&&A.hydrate&&y(t)?(t.effectTag|=2,t.child=Po(t,null,o,n)):(v(),i(e,t,o)),t.memoizedState=a,t=t.child)):(v(),t=u(e,t)),t;case 5:m(t),null===e&&g(t),a=t.type;var w=t.memoizedProps;return o=t.pendingProps,null===o&&null===(o=w)&&r("154"),A=null!==e?e.memoizedProps:null,mo.current||null!==o&&w!==o?(w=o.children,f(a,o)?w=null:A&&f(a,A)&&(t.effectTag|=16),s(e,t),2147483647!==n&&!d&&h(a,o)?(t.expirationTime=2147483647,t=null):(i(e,t,w),t.memoizedProps=o,t=t.child)):t=u(e,t),t;case 6:return null===e&&g(t),e=t.pendingProps,null===e&&(e=t.memoizedProps),t.memoizedProps=e,null;case 8:t.tag=7;case 7:return a=t.pendingProps,mo.current?null===a&&null===(a=e&&e.memoizedProps)&&r("154"):null!==a&&t.memoizedProps!==a||(a=t.memoizedProps),o=a.children,t.stateNode=null===e?Po(t,t.stateNode,o,n):Oo(t,t.stateNode,o,n),t.memoizedProps=a,t.stateNode;case 9:return null;case 4:e:{if(E(t,t.stateNode.containerInfo),a=t.pendingProps,mo.current)null===a&&null==(a=e&&e.memoizedProps)&&r("154");else if(null===a||t.memoizedProps===a){t=u(e,t);break e}null===e?t.child=Oo(t,null,a,n):i(e,t,a),t.memoizedProps=a,t=t.child}return t;case 10:e:{if(n=t.pendingProps,mo.current)null===n&&(n=t.memoizedProps);else if(null===n||t.memoizedProps===n){t=u(e,t);break e}i(e,t,n),t.memoizedProps=n,t=t.child}return t;default:r("156")}},beginFailedWork:function(e,t,n){switch(t.tag){case 2:rt(t);break;case 3:l(t);break;default:r("157")}return t.effectTag|=64,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),0===t.expirationTime||t.expirationTime>n?p(e,t):(t.firstEffect=null,t.lastEffect=null,t.child=null===e?Po(t,null,null,n):Oo(t,e.child,null,n),2===t.tag&&(e=t.stateNode,t.memoizedProps=e.props,t.memoizedState=e.state),t.child)}}}function xt(e,t,n){function o(e){e.effectTag|=4}var a=e.createInstance,i=e.createTextInstance,s=e.appendInitialChild,c=e.finalizeInitialChildren,l=e.prepareUpdate,u=e.persistence,p=t.getRootHostContainer,f=t.popHostContext,d=t.getHostContext,h=t.popHostContainer,m=n.prepareToHydrateHostInstance,E=n.prepareToHydrateHostTextInstance,y=n.popHydrationState,v=void 0,g=void 0,_=void 0;return e.mutation?(v=function(){},g=function(e,t,n){(t.updateQueue=n)&&o(t)},_=function(e,t,n,r){n!==r&&o(t)}):r(u?"235":"236"),{completeWork:function(e,t,n){var u=t.pendingProps;switch(null===u?u=t.memoizedProps:2147483647===t.expirationTime&&2147483647!==n||(t.pendingProps=null),t.tag){case 1:return null;case 2:return et(t),null;case 3:return h(t),$e(mo,t),$e(ho,t),u=t.stateNode,u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==e&&null!==e.child||(y(t),t.effectTag&=-3),v(t),null;case 5:f(t),n=p();var b=t.type;if(null!==e&&null!=t.stateNode){var S=e.memoizedProps,T=t.stateNode,A=d();T=l(T,b,S,u,n,A),g(e,t,T,b,S,u,n),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!u)return null===t.stateNode&&r("166"),null;if(e=d(),y(t))m(t,n,e)&&o(t);else{e=a(b,u,n,e,t);e:for(S=t.child;null!==S;){if(5===S.tag||6===S.tag)s(e,S.stateNode);else if(4!==S.tag&&null!==S.child){S.child.return=S,S=S.child;continue}if(S===t)break;for(;null===S.sibling;){if(null===S.return||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}c(e,b,u,n)&&o(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)_(e,t,e.memoizedProps,u);else{if("string"!=typeof u)return null===t.stateNode&&r("166"),null;e=p(),n=d(),y(t)?E(t)&&o(t):t.stateNode=i(u,e,n,t)}return null;case 7:(u=t.memoizedProps)||r("165"),t.tag=8,b=[];e:for((S=t.stateNode)&&(S.return=t);null!==S;){if(5===S.tag||6===S.tag||4===S.tag)r("247");else if(9===S.tag)b.push(S.type);else if(null!==S.child){S.child.return=S,S=S.child;continue}for(;null===S.sibling;){if(null===S.return||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}return S=u.handler,u=S(u.props,b),t.child=Oo(t,null!==e?e.child:null,u,n),t.child;case 8:return t.tag=7,null;case 9:case 10:return null;case 4:return h(t),v(t),null;case 0:r("167");default:r("156")}}}}function kt(e,t){function n(e){var n=e.ref;if(null!==n)try{n(null)}catch(n){t(e,n)}}function o(e){switch("function"==typeof Et&&Et(e),e.tag){case 2:n(e);var r=e.stateNode;if("function"==typeof r.componentWillUnmount)try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(n){t(e,n)}break;case 5:n(e);break;case 7:a(e.stateNode);break;case 4:l&&s(e)}}function a(e){for(var t=e;;)if(o(t),null===t.child||l&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function i(e){return 5===e.tag||3===e.tag||4===e.tag}function s(e){for(var t=e,n=!1,i=void 0,s=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&r("160"),n.tag){case 5:i=n.stateNode,s=!1;break e;case 3:case 4:i=n.stateNode.containerInfo,s=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag)a(t),s?g(i,t.stateNode):v(i,t.stateNode);else if(4===t.tag?i=t.stateNode.containerInfo:o(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,4===t.tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}var c=e.getPublicInstance,l=e.mutation;e=e.persistence,l||r(e?"235":"236");var u=l.commitMount,p=l.commitUpdate,f=l.resetTextContent,d=l.commitTextUpdate,h=l.appendChild,m=l.appendChildToContainer,E=l.insertBefore,y=l.insertInContainerBefore,v=l.removeChild,g=l.removeChildFromContainer;return{commitResetTextContent:function(e){f(e.stateNode)},commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(i(t)){var n=t;break e}t=t.return}r("160"),n=void 0}var o=t=void 0;switch(n.tag){case 5:t=n.stateNode,o=!1;break;case 3:case 4:t=n.stateNode.containerInfo,o=!0;break;default:r("161")}16&n.effectTag&&(f(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||i(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){if(5===a.tag||6===a.tag)n?o?y(t,a.stateNode,n):E(t,a.stateNode,n):o?m(t,a.stateNode):h(t,a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},commitDeletion:function(e){s(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var o=t.memoizedProps;e=null!==e?e.memoizedProps:o;var a=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&p(n,i,a,e,o,t)}break;case 6:null===t.stateNode&&r("162"),n=t.memoizedProps,d(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:break;default:r("163")}},commitLifeCycles:function(e,t){switch(t.tag){case 2:var n=t.stateNode;if(4&t.effectTag)if(null===e)n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidMount();else{var o=e.memoizedProps;e=e.memoizedState,n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidUpdate(o,e)}t=t.updateQueue,null!==t&&St(t,n);break;case 3:n=t.updateQueue,null!==n&&St(n,null!==t.child?t.child.stateNode:null);break;case 5:n=t.stateNode,null===e&&4&t.effectTag&&u(n,t.type,t.memoizedProps,t);break;case 6:case 4:break;default:r("163")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:t(c(n));break;default:t(n)}}},commitDetachRef:function(e){null!==(e=e.ref)&&e(null)}}}function Ct(e){function t(e){return e===xo&&r("174"),e}var n=e.getChildHostContext,o=e.getRootHostContext,a={current:xo},i={current:xo},s={current:xo};return{getHostContext:function(){return t(a.current)},getRootHostContainer:function(){return t(s.current)},popHostContainer:function(e){$e(a,e),$e(i,e),$e(s,e)},popHostContext:function(e){i.current===e&&($e(a,e),$e(i,e))},pushHostContainer:function(e,t){Qe(s,t,e),t=o(t),Qe(i,e,e),Qe(a,t,e)},pushHostContext:function(e){var r=t(s.current),o=t(a.current);r=n(o,e.type,r),o!==r&&(Qe(i,e,e),Qe(a,r,e))},resetHostContainer:function(){a.current=xo,s.current=xo}}}function Nt(e){function t(e,t){var n=new at(5,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function n(e,t){switch(e.tag){case 5:return null!==(t=i(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=s(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function o(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;f=e}var a=e.shouldSetTextContent;if(!(e=e.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r("175")},prepareToHydrateHostTextInstance:function(){r("176")},popHydrationState:function(){return!1}};var i=e.canHydrateInstance,s=e.canHydrateTextInstance,c=e.getNextHydratableSibling,l=e.getFirstHydratableChild,u=e.hydrateInstance,p=e.hydrateTextInstance,f=null,d=null,h=!1;return{enterHydrationState:function(e){return d=l(e.stateNode.containerInfo),f=e,h=!0},resetHydrationState:function(){d=f=null,h=!1},tryToClaimNextHydratableInstance:function(e){if(h){var r=d;if(r){if(!n(e,r)){if(!(r=c(r))||!n(e,r))return e.effectTag|=2,h=!1,void(f=e);t(f,d)}f=e,d=l(r)}else e.effectTag|=2,h=!1,f=e}},prepareToHydrateHostInstance:function(e,t,n){return t=u(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return p(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==f)return!1;if(!h)return o(e),h=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!a(n,e.memoizedProps))for(n=d;n;)t(e,n),n=c(n);return o(e),d=f?c(e.stateNode):null,!0}}}function Dt(e){function t(e){ae=$=!0;var t=e.stateNode;if(t.current===e&&r("177"),t.isReadyForCommit=!1,Vr.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var n=e.firstEffect}else n=e;else n=e.firstEffect;for(Y(),Z=n;null!==Z;){var o=!1,a=void 0;try{for(;null!==Z;){var i=Z.effectTag;if(16&i&&D(Z),128&i){var s=Z.alternate;null!==s&&H(s)}switch(-242&i){case 2:I(Z),Z.effectTag&=-3;break;case 6:I(Z),Z.effectTag&=-3,L(Z.alternate,Z);break;case 4:L(Z.alternate,Z);break;case 8:ie=!0,M(Z),ie=!1}Z=Z.nextEffect}}catch(e){o=!0,a=e}o&&(null===Z&&r("178"),c(Z,a),null!==Z&&(Z=Z.nextEffect))}for(K(),t.current=e,Z=n;null!==Z;){n=!1,o=void 0;try{for(;null!==Z;){var l=Z.effectTag;if(36&l&&j(Z.alternate,Z),128&l&&U(Z),64&l)switch(a=Z,i=void 0,null!==ee&&(i=ee.get(a),ee.delete(a),null==i&&null!==a.alternate&&(a=a.alternate,i=ee.get(a),ee.delete(a))),null==i&&r("184"),a.tag){case 2:a.stateNode.componentDidCatch(i.error,{componentStack:i.componentStack});break;case 3:null===re&&(re=i.error);break;default:r("157")}var u=Z.nextEffect;Z.nextEffect=null,Z=u}}catch(e){n=!0,o=e}n&&(null===Z&&r("178"),c(Z,o),null!==Z&&(Z=Z.nextEffect))}return $=ae=!1,"function"==typeof mt&&mt(e.stateNode),ne&&(ne.forEach(m),ne=null),null!==re&&(e=re,re=null,T(e)),t=t.current.expirationTime,0===t&&(te=ee=null),t}function n(e){for(;;){var t=N(e.alternate,e,J),n=e.return,r=e.sibling,o=e;if(2147483647===J||2147483647!==o.expirationTime){if(2!==o.tag&&3!==o.tag)var a=0;else a=o.updateQueue,a=null===a?0:a.expirationTime;for(var i=o.child;null!==i;)0!==i.expirationTime&&(0===a||a>i.expirationTime)&&(a=i.expirationTime),i=i.sibling;o.expirationTime=a}if(null!==t)return t;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){e.stateNode.isReadyForCommit=!0;break}e=n}return null}function o(e){var t=k(e.alternate,e,J);return null===t&&(t=n(e)),Vr.current=null,t}function a(e){var t=C(e.alternate,e,J);return null===t&&(t=n(e)),Vr.current=null,t}function i(e){if(null!==ee){if(!(0===J||J>e))if(J<=W)for(;null!==Q;)Q=l(Q)?a(Q):o(Q);else for(;null!==Q&&!S();)Q=l(Q)?a(Q):o(Q)}else if(!(0===J||J>e))if(J<=W)for(;null!==Q;)Q=o(Q);else for(;null!==Q&&!S();)Q=o(Q)}function s(e,t){if($&&r("243"),$=!0,e.isReadyForCommit=!1,e!==X||t!==J||null===Q){for(;-1<fo;)po[fo]=null,fo--;Eo=Pn,ho.current=Pn,mo.current=!1,P(),X=e,J=t,Q=it(X.current,null,t)}var n=!1,o=null;try{i(t)}catch(e){n=!0,o=e}for(;n;){if(oe){re=o;break}var s=Q;if(null===s)oe=!0;else{var l=c(s,o);if(null===l&&r("183"),!oe){try{for(n=l,o=t,l=n;null!==s;){switch(s.tag){case 2:et(s);break;case 5:O(s);break;case 3:R(s);break;case 4:R(s)}if(s===l||s.alternate===l)break;s=s.return}Q=a(n),i(o)}catch(e){n=!0,o=e;continue}break}}}return t=re,oe=$=!1,re=null,null!==t&&T(t),e.isReadyForCommit?e.current.alternate:null}function c(e,t){var n=Vr.current=null,r=!1,o=!1,a=null;if(3===e.tag)n=e,u(e)&&(oe=!0);else for(var i=e.return;null!==i&&null===n;){if(2===i.tag?"function"==typeof i.stateNode.componentDidCatch&&(r=!0,a=be(i),n=i,o=!0):3===i.tag&&(n=i),u(i)){if(ie||null!==ne&&(ne.has(i)||null!==i.alternate&&ne.has(i.alternate)))return null;n=null,o=!1}i=i.return}if(null!==n){null===te&&(te=new Set),te.add(n);var s="";i=e;do{e:switch(i.tag){case 0:case 1:case 2:case 5:var c=i._debugOwner,l=i._debugSource,p=be(i),f=null;c&&(f=be(c)),c=l,p="\n    in "+(p||"Unknown")+(c?" (at "+c.fileName.replace(/^.*[\\\/]/,"")+":"+c.lineNumber+")":f?" (created by "+f+")":"");break e;default:p=""}s+=p,i=i.return}while(i);i=s,e=be(e),null===ee&&(ee=new Map),t={componentName:e,componentStack:i,error:t,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:a,willRetry:o},ee.set(n,t);try{var d=t.error;d&&d.suppressReactErrorLogging||console.error(d)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}return ae?(null===ne&&(ne=new Set),ne.add(n)):m(n),n}return null===re&&(re=t),null}function l(e){return null!==ee&&(ee.has(e)||null!==e.alternate&&ee.has(e.alternate))}function u(e){return null!==te&&(te.has(e)||null!==e.alternate&&te.has(e.alternate))}function p(){return 20*(1+((E()+100)/20|0))}function f(e){return 0!==z?z:$?ae?1:J:!B||1&e.internalContextTag?p():1}function d(e,t){return h(e,t,!1)}function h(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var n=e.stateNode;!$&&n===X&&t<J&&(Q=X=null,J=0);var o=n,a=t;if(Se>_e&&r("185"),null===o.nextScheduledRoot)o.remainingExpirationTime=a,null===ce?(se=ce=o,o.nextScheduledRoot=o):(ce=ce.nextScheduledRoot=o,ce.nextScheduledRoot=se);else{var i=o.remainingExpirationTime;(0===i||a<i)&&(o.remainingExpirationTime=a)}pe||(ve?ge&&(fe=o,de=1,b(fe,de)):1===a?_(1,null):y(a)),!$&&n===X&&t<J&&(Q=X=null,J=0)}e=e.return}}function m(e){h(e,1,!0)}function E(){return W=2+((G()-q)/10|0)}function y(e){if(0!==le){if(e>le)return;F(ue)}var t=G()-q;le=e,ue=V(g,{timeout:10*(e-2)-t})}function v(){var e=0,t=null;if(null!==ce)for(var n=ce,o=se;null!==o;){var a=o.remainingExpirationTime;if(0===a){if((null===n||null===ce)&&r("244"),o===o.nextScheduledRoot){se=ce=o.nextScheduledRoot=null;break}if(o===se)se=a=o.nextScheduledRoot,ce.nextScheduledRoot=a,o.nextScheduledRoot=null;else{if(o===ce){ce=n,ce.nextScheduledRoot=se,o.nextScheduledRoot=null;break}n.nextScheduledRoot=o.nextScheduledRoot,o.nextScheduledRoot=null}o=n.nextScheduledRoot}else{if((0===e||a<e)&&(e=a,t=o),o===ce)break;n=o,o=o.nextScheduledRoot}}n=fe,null!==n&&n===t?Se++:Se=0,fe=t,de=e}function g(e){_(0,e)}function _(e,t){for(ye=t,v();null!==fe&&0!==de&&(0===e||de<=e)&&!he;)b(fe,de),v();if(null!==ye&&(le=0,ue=-1),0!==de&&y(de),ye=null,he=!1,Se=0,me)throw e=Ee,Ee=null,me=!1,e}function b(e,n){if(pe&&r("245"),pe=!0,n<=E()){var o=e.finishedWork;null!==o?(e.finishedWork=null,e.remainingExpirationTime=t(o)):(e.finishedWork=null,null!==(o=s(e,n))&&(e.remainingExpirationTime=t(o)))}else o=e.finishedWork,null!==o?(e.finishedWork=null,e.remainingExpirationTime=t(o)):(e.finishedWork=null,null!==(o=s(e,n))&&(S()?e.finishedWork=o:e.remainingExpirationTime=t(o)));pe=!1}function S(){return!(null===ye||ye.timeRemaining()>Te)&&(he=!0)}function T(e){null===fe&&r("246"),fe.remainingExpirationTime=0,me||(me=!0,Ee=e)}var A=Ct(e),w=Nt(e),R=A.popHostContainer,O=A.popHostContext,P=A.resetHostContainer,x=Pt(e,A,w,d,f),k=x.beginWork,C=x.beginFailedWork,N=xt(e,A,w).completeWork;A=kt(e,c);var D=A.commitResetTextContent,I=A.commitPlacement,M=A.commitDeletion,L=A.commitWork,j=A.commitLifeCycles,U=A.commitAttachRef,H=A.commitDetachRef,G=e.now,V=e.scheduleDeferredCallback,F=e.cancelDeferredCallback,B=e.useSyncScheduling,Y=e.prepareForCommit,K=e.resetAfterCommit,q=G(),W=2,z=0,$=!1,Q=null,X=null,J=0,Z=null,ee=null,te=null,ne=null,re=null,oe=!1,ae=!1,ie=!1,se=null,ce=null,le=0,ue=-1,pe=!1,fe=null,de=0,he=!1,me=!1,Ee=null,ye=null,ve=!1,ge=!1,_e=1e3,Se=0,Te=1;return{computeAsyncExpiration:p,computeExpirationForFiber:f,scheduleWork:d,batchedUpdates:function(e,t){var n=ve;ve=!0;try{return e(t)}finally{(ve=n)||pe||_(1,null)}},unbatchedUpdates:function(e){if(ve&&!ge){ge=!0;try{return e()}finally{ge=!1}}return e()},flushSync:function(e){var t=ve;ve=!0;try{e:{var n=z;z=1;try{var o=e();break e}finally{z=n}o=void 0}return o}finally{ve=t,pe&&r("187"),_(1,null)}},deferredUpdates:function(e){var t=z;z=p();try{return e()}finally{z=t}}}}function It(e){function t(e){return e=Re(e),null===e?null:e.stateNode}var n=e.getPublicInstance;e=Dt(e);var o=e.computeAsyncExpiration,a=e.computeExpirationForFiber,i=e.scheduleWork;return{createContainer:function(e,t){var n=new at(3,null,0);return e={current:n,containerInfo:e,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:t,nextScheduledRoot:null},n.stateNode=e},updateContainer:function(e,t,n,s){var c=t.current;if(n){n=n._reactInternalFiber;var l;e:{for(2===Se(n)&&2===n.tag||r("170"),l=n;3!==l.tag;){if(Ze(l)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}(l=l.return)||r("171")}l=l.stateNode.context}n=Ze(n)?nt(n,l):l}else n=Pn;null===t.context?t.context=n:t.pendingContext=n,t=s,t=void 0===t?null:t,s=null!=e&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent?o():a(c),gt(c,{expirationTime:s,partialState:{element:e},callback:t,isReplace:!1,isForced:!1,nextCallback:null,next:null}),i(c,s)},batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,flushSync:e.flushSync,getPublicRootInstance:function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return n(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:t,findHostInstanceWithNoPortals:function(e){return e=Oe(e),null===e?null:e.stateNode},injectIntoDevTools:function(e){var n=e.findFiberByHostInstance;return ht(bn({},e,{findHostInstanceByFiber:function(e){return t(e)},findFiberByHostInstance:function(e){return n?n(e):null}}))}}}function Mt(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:To,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Lt(e){return!!$o.hasOwnProperty(e)||!zo.hasOwnProperty(e)&&(Wo.test(e)?$o[e]=!0:(zo[e]=!0,!1))}function jt(e,t,n){var r=i(t);if(r&&a(t,n)){var o=r.mutationMethod;o?o(e,n):null==n||r.hasBooleanValue&&!n||r.hasNumericValue&&isNaN(n)||r.hasPositiveNumericValue&&1>n||r.hasOverloadedBooleanValue&&!1===n?Ht(e,t):r.mustUseProperty?e[r.propertyName]=n:(t=r.attributeName,(o=r.attributeNamespace)?e.setAttributeNS(o,t,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(t,""):e.setAttribute(t,""+n))}else Ut(e,t,a(t,n)?n:null)}function Ut(e,t,n){Lt(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))}function Ht(e,t){var n=i(t);n?(t=n.mutationMethod)?t(e,void 0):n.mustUseProperty?e[n.propertyName]=!n.hasBooleanValue&&"":e.removeAttribute(n.attributeName):e.removeAttribute(t)}function Gt(e,t){var n=t.value,r=t.checked;return bn({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked})}function Vt(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ft(e,t){null!=(t=t.checked)&&jt(e,"checked",t)}function Bt(e,t){Ft(e,t);var n=t.value;null!=n?0===n&&""===e.value?e.value="0":"number"===t.type?(t=parseFloat(e.value)||0,(n!=t||n==t&&e.value!=n)&&(e.value=""+n)):e.value!==""+n&&(e.value=""+n):(null==t.value&&null!=t.defaultValue&&e.defaultValue!==""+t.defaultValue&&(e.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked))}function Yt(e,t){switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":e.value="",e.value=e.defaultValue;break;default:e.value=e.value}t=e.name,""!==t&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function Kt(e){var t="";return gn.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}function qt(e,t){return e=bn({children:void 0},t),(t=Kt(t.children))&&(e.children=t),e}function Wt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function zt(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function $t(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),bn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qt(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n&&r("92"),Array.isArray(t)&&(1>=t.length||r("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function Xt(e,t){var n=t.value;null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Jt(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function Zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function en(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Zt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function tn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function nn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=n,a=t[n];o=null==a||"boolean"==typeof a||""===a?"":r||"number"!=typeof a||0===a||Zo.hasOwnProperty(o)&&Zo[o]?(""+a).trim():a+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}function rn(e,t,n){t&&(ta[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!=typeof t.style&&r("62",n()))}function on(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function an(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=Me(e);t=Qn[t];for(var r=0;r<t.length;r++){var o=t[r];n.hasOwnProperty(o)&&n[o]||("topScroll"===o?Ce("topScroll","scroll",e):"topFocus"===o||"topBlur"===o?(Ce("topFocus","focus",e),Ce("topBlur","blur",e),n.topBlur=!0,n.topFocus=!0):"topCancel"===o?(ne("cancel",!0)&&Ce("topCancel","cancel",e),n.topCancel=!0):"topClose"===o?(ne("close",!0)&&Ce("topClose","close",e),n.topClose=!0):$r.hasOwnProperty(o)&&ke(o,$r[o],e),n[o]=!0)}}function sn(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===na&&(r=Zt(e)),r===na?"script"===e?(e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function cn(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function ln(e,t,n,r){var o=on(t,n);switch(t){case"iframe":case"object":ke("topLoad","load",e);var a=n;break;case"video":case"audio":for(a in oa)oa.hasOwnProperty(a)&&ke(a,oa[a],e);a=n;break;case"source":ke("topError","error",e),a=n;break;case"img":case"image":ke("topError","error",e),ke("topLoad","load",e),a=n;break;case"form":ke("topReset","reset",e),ke("topSubmit","submit",e),a=n;break;case"details":ke("topToggle","toggle",e),a=n;break;case"input":Vt(e,n),a=Gt(e,n),ke("topInvalid","invalid",e),an(r,"onChange");break;case"option":a=qt(e,n);break;case"select":zt(e,n),a=bn({},n,{value:void 0}),ke("topInvalid","invalid",e),an(r,"onChange");break;case"textarea":Qt(e,n),a=$t(e,n),ke("topInvalid","invalid",e),an(r,"onChange");break;default:a=n}rn(t,a,ra);var i,s=a;for(i in s)if(s.hasOwnProperty(i)){var c=s[i];"style"===i?nn(e,c,ra):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&Jo(e,c):"children"===i?"string"==typeof c?("textarea"!==t||""!==c)&&tn(e,c):"number"==typeof c&&tn(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&($n.hasOwnProperty(i)?null!=c&&an(r,i):o?Ut(e,i,c):null!=c&&jt(e,i,c))}switch(t){case"input":ae(e),Yt(e,n);break;case"textarea":ae(e),Jt(e,n);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,t=n.value,null!=t?Wt(e,!!n.multiple,t,!1):null!=n.defaultValue&&Wt(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Sn)}}function un(e,t,n,r,o){var a=null;switch(t){case"input":n=Gt(e,n),r=Gt(e,r),a=[];break;case"option":n=qt(e,n),r=qt(e,r),a=[];break;case"select":n=bn({},n,{value:void 0}),r=bn({},r,{value:void 0}),a=[];break;case"textarea":n=$t(e,n),r=$t(e,r),a=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=Sn)}rn(t,r,ra);var i,s;e=null;for(i in n)if(!r.hasOwnProperty(i)&&n.hasOwnProperty(i)&&null!=n[i])if("style"===i)for(s in t=n[i])t.hasOwnProperty(s)&&(e||(e={}),e[s]="");else"dangerouslySetInnerHTML"!==i&&"children"!==i&&"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&($n.hasOwnProperty(i)?a||(a=[]):(a=a||[]).push(i,null));for(i in r){var c=r[i];if(t=null!=n?n[i]:void 0,r.hasOwnProperty(i)&&c!==t&&(null!=c||null!=t))if("style"===i)if(t){for(s in t)!t.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in c)c.hasOwnProperty(s)&&t[s]!==c[s]&&(e||(e={}),e[s]=c[s])}else e||(a||(a=[]),a.push(i,e)),e=c;else"dangerouslySetInnerHTML"===i?(c=c?c.__html:void 0,t=t?t.__html:void 0,null!=c&&t!==c&&(a=a||[]).push(i,""+c)):"children"===i?t===c||"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(i,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&($n.hasOwnProperty(i)?(null!=c&&an(o,i),a||t===c||(a=[])):(a=a||[]).push(i,c))}return e&&(a=a||[]).push("style",e),a}function pn(e,t,n,r,o){"input"===n&&"radio"===o.type&&null!=o.name&&Ft(e,o),on(n,r),r=on(n,o);for(var a=0;a<t.length;a+=2){var i=t[a],s=t[a+1];"style"===i?nn(e,s,ra):"dangerouslySetInnerHTML"===i?Jo(e,s):"children"===i?tn(e,s):r?null!=s?Ut(e,i,s):e.removeAttribute(i):null!=s?jt(e,i,s):Ht(e,i)}switch(n){case"input":Bt(e,o);break;case"textarea":Xt(e,o);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!o.multiple,n=o.value,null!=n?Wt(e,!!o.multiple,n,!1):t!==!!o.multiple&&(null!=o.defaultValue?Wt(e,!!o.multiple,o.defaultValue,!0):Wt(e,!!o.multiple,o.multiple?[]:"",!1))}}function fn(e,t,n,r,o){switch(t){case"iframe":case"object":ke("topLoad","load",e);break;case"video":case"audio":for(var a in oa)oa.hasOwnProperty(a)&&ke(a,oa[a],e);break;case"source":ke("topError","error",e);break;case"img":case"image":ke("topError","error",e),ke("topLoad","load",e);break;case"form":ke("topReset","reset",e),ke("topSubmit","submit",e);break;case"details":ke("topToggle","toggle",e);break;case"input":Vt(e,n),ke("topInvalid","invalid",e),an(o,"onChange");break;case"select":zt(e,n),ke("topInvalid","invalid",e),an(o,"onChange");break;case"textarea":Qt(e,n),ke("topInvalid","invalid",e),an(o,"onChange")}rn(t,n,ra),r=null;for(var i in n)n.hasOwnProperty(i)&&(a=n[i],"children"===i?"string"==typeof a?e.textContent!==a&&(r=["children",a]):"number"==typeof a&&e.textContent!==""+a&&(r=["children",""+a]):$n.hasOwnProperty(i)&&null!=a&&an(o,i));switch(t){case"input":ae(e),Yt(e,n);break;case"textarea":ae(e),Jt(e,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=Sn)}return r}function dn(e,t){return e.nodeValue!==t}function hn(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function mn(e){return!(!(e=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))}function En(e,t,n,o,a){hn(n)||r("200");var i=n._reactRootContainer;if(i)ca.updateContainer(t,i,e,a);else{if(!(o=o||mn(n)))for(i=void 0;i=n.lastChild;)n.removeChild(i);var s=ca.createContainer(n,o);i=n._reactRootContainer=s,ca.unbatchedUpdates(function(){ca.updateContainer(t,s,e,a)})}return ca.getPublicRootInstance(i)}function yn(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return hn(t)||r("200"),Mt(e,t,null,n)}function vn(e,t){this._reactRootContainer=ca.createContainer(e,t)}/** @license React v16.2.0
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var gn=n(0),_n=n(45),bn=n(18),Sn=n(8),Tn=n(46),An=n(47),wn=n(48),Rn=n(49),On=n(52),Pn=n(19);gn||r("227");var xn={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},kn={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=kn,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},i=e.DOMAttributeNames||{};e=e.DOMMutationMethods||{};for(var s in n){Cn.hasOwnProperty(s)&&r("48",s);var c=s.toLowerCase(),l=n[s];c={attributeName:c,attributeNamespace:null,propertyName:s,mutationMethod:null,mustUseProperty:o(l,t.MUST_USE_PROPERTY),hasBooleanValue:o(l,t.HAS_BOOLEAN_VALUE),hasNumericValue:o(l,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:o(l,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:o(l,t.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:o(l,t.HAS_STRING_BOOLEAN_VALUE)},1>=c.hasBooleanValue+c.hasNumericValue+c.hasOverloadedBooleanValue||r("50",s),i.hasOwnProperty(s)&&(c.attributeName=i[s]),a.hasOwnProperty(s)&&(c.attributeNamespace=a[s]),e.hasOwnProperty(s)&&(c.mutationMethod=e[s]),Cn[s]=c}}},Cn={},Nn=kn,Dn=Nn.MUST_USE_PROPERTY,In=Nn.HAS_BOOLEAN_VALUE,Mn=Nn.HAS_NUMERIC_VALUE,Ln=Nn.HAS_POSITIVE_NUMERIC_VALUE,jn=Nn.HAS_OVERLOADED_BOOLEAN_VALUE,Un=Nn.HAS_STRING_BOOLEAN_VALUE,Hn={Properties:{allowFullScreen:In,async:In,autoFocus:In,autoPlay:In,capture:jn,checked:Dn|In,cols:Ln,contentEditable:Un,controls:In,default:In,defer:In,disabled:In,download:jn,draggable:Un,formNoValidate:In,hidden:In,loop:In,multiple:Dn|In,muted:Dn|In,noValidate:In,open:In,playsInline:In,readOnly:In,required:In,reversed:In,rows:Ln,rowSpan:Mn,scoped:In,seamless:In,selected:Dn|In,size:Ln,start:Mn,span:Ln,spellCheck:Un,style:0,tabIndex:0,itemScope:In,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:Un},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}},Gn=Nn.HAS_STRING_BOOLEAN_VALUE,Vn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Fn={Properties:{autoReverse:Gn,externalResourcesRequired:Gn,preserveAlpha:Gn},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:Vn.xlink,xlinkArcrole:Vn.xlink,xlinkHref:Vn.xlink,xlinkRole:Vn.xlink,xlinkShow:Vn.xlink,xlinkTitle:Vn.xlink,xlinkType:Vn.xlink,xmlBase:Vn.xml,xmlLang:Vn.xml,xmlSpace:Vn.xml}},Bn=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(e){var t=e.replace(Bn,s);Fn.Properties[t]=0,Fn.DOMAttributeNames[t]=e}),Nn.injectDOMPropertyConfig(Hn),Nn.injectDOMPropertyConfig(Fn);var Yn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){"function"!=typeof e.invokeGuardedCallback&&r("197"),c=e.invokeGuardedCallback}},invokeGuardedCallback:function(e,t,n,r,o,a,i,s,l){c.apply(Yn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,o,a,i,s,c){if(Yn.invokeGuardedCallback.apply(this,arguments),Yn.hasCaughtError()){var l=Yn.clearCaughtError();Yn._hasRethrowError||(Yn._hasRethrowError=!0,Yn._rethrowError=l)}},rethrowCaughtError:function(){return l.apply(Yn,arguments)},hasCaughtError:function(){return Yn._hasCaughtError},clearCaughtError:function(){if(Yn._hasCaughtError){var e=Yn._caughtError;return Yn._caughtError=null,Yn._hasCaughtError=!1,e}r("198")}},Kn=null,qn={},Wn=[],zn={},$n={},Qn={},Xn=Object.freeze({plugins:Wn,eventNameDispatchConfigs:zn,registrationNameModules:$n,registrationNameDependencies:Qn,possibleRegistrationNames:null,injectEventPluginOrder:f,injectEventPluginsByName:d}),Jn=null,Zn=null,er=null,tr=null,nr={injectEventPluginOrder:f,injectEventPluginsByName:d},rr=Object.freeze({injection:nr,getListener:_,extractEvents:b,enqueueEvents:S,processEventQueue:T}),or=Math.random().toString(36).slice(2),ar="__reactInternalInstance$"+or,ir="__reactEventHandlers$"+or,sr=Object.freeze({precacheFiberNode:function(e,t){t[ar]=e},getClosestInstanceFromNode:A,getInstanceFromNode:function(e){return e=e[ar],!e||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:w,getFiberCurrentPropsFromNode:R,updateFiberProps:function(e,t){e[ir]=t}}),cr=Object.freeze({accumulateTwoPhaseDispatches:I,accumulateTwoPhaseDispatchesSkipTarget:function(e){E(e,C)},accumulateEnterLeaveDispatches:M,accumulateDirectDispatches:function(e){E(e,D)}}),lr=null,ur={_root:null,_startText:null,_fallbackText:null},pr="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),fr={type:null,target:null,currentTarget:Sn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};bn(H.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Sn.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Sn.thatReturnsTrue)},persist:function(){this.isPersistent=Sn.thatReturnsTrue},isPersistent:Sn.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<pr.length;t++)this[pr[t]]=null}}),H.Interface=fr,H.augmentClass=function(e,t){function n(){}n.prototype=this.prototype;var r=new n;bn(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=bn({},this.Interface,t),e.augmentClass=this.augmentClass,F(e)},F(H),H.augmentClass(B,{data:null}),H.augmentClass(Y,{data:null});var dr=[9,13,27,32],hr=_n.canUseDOM&&"CompositionEvent"in window,mr=null;_n.canUseDOM&&"documentMode"in document&&(mr=document.documentMode);var Er;if(Er=_n.canUseDOM&&"TextEvent"in window&&!mr){var yr=window.opera;Er=!("object"==typeof yr&&"function"==typeof yr.version&&12>=parseInt(yr.version(),10))}var vr,gr=Er,_r=_n.canUseDOM&&(!hr||mr&&8<mr&&11>=mr),br=String.fromCharCode(32),Sr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Tr=!1,Ar=!1,wr={eventTypes:Sr,extractEvents:function(e,t,n,r){var o;if(hr)e:{switch(e){case"topCompositionStart":var a=Sr.compositionStart;break e;case"topCompositionEnd":a=Sr.compositionEnd;break e;case"topCompositionUpdate":a=Sr.compositionUpdate;break e}a=void 0}else Ar?K(e,n)&&(a=Sr.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(a=Sr.compositionStart);return a?(_r&&(Ar||a!==Sr.compositionStart?a===Sr.compositionEnd&&Ar&&(o=j()):(ur._root=r,ur._startText=U(),Ar=!0)),a=B.getPooled(a,t,n,r),o?a.data=o:null!==(o=q(n))&&(a.data=o),I(a),o=a):o=null,(e=gr?W(e,n):z(e,n))?(t=Y.getPooled(Sr.beforeInput,t,n,r),t.data=e,I(t)):t=null,[o,t]}},Rr=null,Or=null,Pr=null,xr={injectFiberControlledHostComponent:function(e){Rr=e}},kr=Object.freeze({injection:xr,enqueueStateRestore:Q,restoreStateIfNeeded:X}),Cr=!1,Nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};_n.canUseDOM&&(vr=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var Dr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Ir=null,Mr=null,Lr=!1;_n.canUseDOM&&(Lr=ne("input")&&(!document.documentMode||9<document.documentMode));var jr={eventTypes:Dr,_isInputEventSupported:Lr,extractEvents:function(e,t,n,r){var o=t?w(t):window,a=o.nodeName&&o.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===o.type)var i=ue;else if(ee(o))if(Lr)i=Ee;else{i=he;var s=de}else!(a=o.nodeName)||"input"!==a.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type||(i=me);if(i&&(i=i(e,t)))return se(i,n,r);s&&s(e,o,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||o._wrapperState)&&e.controlled&&"number"===o.type&&(e=""+o.value,o.getAttribute("value")!==e&&o.setAttribute("value",e))}};H.augmentClass(ye,{view:null,detail:null});var Ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};ye.augmentClass(_e,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ge,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var Hr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Gr={eventTypes:Hr,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?A(t):null):e=null,e===t)return null;var a=null==e?o:w(e);o=null==t?o:w(t);var i=_e.getPooled(Hr.mouseLeave,e,n,r);return i.type="mouseleave",i.target=a,i.relatedTarget=o,n=_e.getPooled(Hr.mouseEnter,t,n,r),n.type="mouseenter",n.target=o,n.relatedTarget=a,M(i,n,e,t),[i,n]}},Vr=gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fr=[],Br=!0,Yr=void 0,Kr=Object.freeze({get _enabled(){return Br},get _handleTopLevel(){return Yr},setHandleTopLevel:function(e){Yr=e},setEnabled:xe,isEnabled:function(){return Br},trapBubbledEvent:ke,trapCapturedEvent:Ce,dispatchEvent:Ne}),qr={animationend:De("Animation","AnimationEnd"),animationiteration:De("Animation","AnimationIteration"),animationstart:De("Animation","AnimationStart"),transitionend:De("Transition","TransitionEnd")},Wr={},zr={};_n.canUseDOM&&(zr=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);var $r={topAbort:"abort",topAnimationEnd:Ie("animationend")||"animationend",topAnimationIteration:Ie("animationiteration")||"animationiteration",topAnimationStart:Ie("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Ie("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Qr={},Xr=0,Jr="_reactListenersID"+(""+Math.random()).slice(2),Zr=_n.canUseDOM&&"documentMode"in document&&11>=document.documentMode,eo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},to=null,no=null,ro=null,oo=!1,ao={eventTypes:eo,extractEvents:function(e,t,n,r){var o,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!a)){e:{a=Me(a),o=Qn.onSelect;for(var i=0;i<o.length;i++){var s=o[i];if(!a.hasOwnProperty(s)||!a[s]){a=!1;break e}}a=!0}o=!a}if(o)return null;switch(a=t?w(t):window,e){case"topFocus":(ee(a)||"true"===a.contentEditable)&&(to=a,no=t,ro=null);break;case"topBlur":ro=no=to=null;break;case"topMouseDown":oo=!0;break;case"topContextMenu":case"topMouseUp":return oo=!1,He(n,r);case"topSelectionChange":if(Zr)break;case"topKeyDown":case"topKeyUp":return He(n,r)}return null}};H.augmentClass(Ge,{animationName:null,elapsedTime:null,pseudoElement:null}),H.augmentClass(Ve,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ye.augmentClass(Fe,{relatedTarget:null});var io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},so={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};ye.augmentClass(Ye,{key:function(e){if(e.key){var t=io[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=Be(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?so[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ge,charCode:function(e){return"keypress"===e.type?Be(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Be(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_e.augmentClass(Ke,{dataTransfer:null}),ye.augmentClass(qe,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ge}),H.augmentClass(We,{propertyName:null,elapsedTime:null,pseudoElement:null}),_e.augmentClass(ze,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var co={},lo={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t;t="top"+t,n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[t]},co[e]=n,lo[t]=n});var uo={eventTypes:co,extractEvents:function(e,t,n,r){var o=lo[e];if(!o)return null;switch(e){case"topKeyPress":if(0===Be(n))return null;case"topKeyDown":case"topKeyUp":e=Ye;break;case"topBlur":case"topFocus":e=Fe;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":e=_e;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":e=Ke;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":e=qe;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":e=Ge;break;case"topTransitionEnd":e=We;break;case"topScroll":e=ye;break;case"topWheel":e=ze;break;case"topCopy":case"topCut":case"topPaste":e=Ve;break;default:e=H}return t=e.getPooled(o,t,n,r),I(t),t}};Yr=function(e,t,n,r){e=b(e,t,n,r),S(e),T(!1)},nr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Jn=sr.getFiberCurrentPropsFromNode,Zn=sr.getInstanceFromNode,er=sr.getNodeFromInstance,nr.injectEventPluginsByName({SimpleEventPlugin:uo,EnterLeaveEventPlugin:Gr,ChangeEventPlugin:jr,SelectEventPlugin:ao,BeforeInputEventPlugin:wr});var po=[],fo=-1;new Set;var ho={current:Pn},mo={current:!1},Eo=Pn,yo=null,vo=null,go="function"==typeof Symbol&&Symbol.for,_o=go?Symbol.for("react.element"):60103,bo=go?Symbol.for("react.call"):60104,So=go?Symbol.for("react.return"):60105,To=go?Symbol.for("react.portal"):60106,Ao=go?Symbol.for("react.fragment"):60107,wo="function"==typeof Symbol&&Symbol.iterator,Ro=Array.isArray,Oo=Ot(!0),Po=Ot(!1),xo={},ko=Object.freeze({default:It}),Co=ko&&It||ko,No=Co.default?Co.default:Co,Do="object"==typeof performance&&"function"==typeof performance.now,Io=void 0;Io=Do?function(){return performance.now()}:function(){return Date.now()};var Mo=void 0,Lo=void 0;if(_n.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var jo,Uo=null,Ho=!1,Go=-1,Vo=!1,Fo=0,Bo=33,Yo=33;jo=Do?{didTimeout:!1,timeRemaining:function(){var e=Fo-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=Fo-Date.now();return 0<e?e:0}};var Ko="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===Ko){if(Ho=!1,e=Io(),0>=Fo-e){if(!(-1!==Go&&Go<=e))return void(Vo||(Vo=!0,requestAnimationFrame(qo)));jo.didTimeout=!0}else jo.didTimeout=!1;Go=-1,e=Uo,Uo=null,null!==e&&e(jo)}},!1);var qo=function(e){Vo=!1;var t=e-Fo+Yo;t<Yo&&Bo<Yo?(8>t&&(t=8),Yo=t<Bo?Bo:t):Bo=t,Fo=e+Yo,Ho||(Ho=!0,window.postMessage(Ko,"*"))};Mo=function(e,t){return Uo=e,null!=t&&"number"==typeof t.timeout&&(Go=Io()+t.timeout),Vo||(Vo=!0,requestAnimationFrame(qo)),0},Lo=function(){Uo=null,Ho=!1,Go=-1}}else Mo=window.requestIdleCallback,Lo=window.cancelIdleCallback;else Mo=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0}})})},Lo=function(e){clearTimeout(e)};var Wo=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zo={},$o={},Qo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Xo=void 0,Jo=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Qo.svg||"innerHTML"in e)e.innerHTML=t;else{for(Xo=Xo||document.createElement("div"),Xo.innerHTML="<svg>"+t+"</svg>",t=Xo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),Zo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ea=["Webkit","ms","Moz","O"];Object.keys(Zo).forEach(function(e){ea.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zo[t]=Zo[e]})});var ta=bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),na=Qo.html,ra=Sn.thatReturns(""),oa={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},aa=Object.freeze({createElement:sn,createTextNode:cn,setInitialProperties:ln,diffProperties:un,updateProperties:pn,diffHydratedProperties:fn,diffHydratedText:dn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(Bt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var a=R(o);a||r("90"),ie(o),Bt(o,a)}}}break;case"textarea":Xt(e,n);break;case"select":null!=(t=n.value)&&Wt(e,!!n.multiple,t,!1)}}});xr.injectFiberControlledHostComponent(aa);var ia=null,sa=null,ca=No({getRootHostContext:function(e){var t=e.nodeType;switch(t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:en(null,"");break;default:t=8===t?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=en(e,t)}return e},getChildHostContext:function(e,t){return en(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){ia=Br;var e=An();if(Ue(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{t.nodeType,o.nodeType}catch(e){t=null;break e}var a=0,i=-1,s=-1,c=0,l=0,u=e,p=null;t:for(;;){for(var f;u!==t||0!==r&&3!==u.nodeType||(i=a+r),u!==o||0!==n&&3!==u.nodeType||(s=a+n),3===u.nodeType&&(a+=u.nodeValue.length),null!==(f=u.firstChild);)p=u,u=f;for(;;){if(u===e)break t;if(p===t&&++c===r&&(i=a),p===o&&++l===n&&(s=a),null!==(f=u.nextSibling))break;u=p,p=u.parentNode}u=f}t=-1===i||-1===s?null:{start:i,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;sa={focusedElem:e,selectionRange:t},xe(!1)},resetAfterCommit:function(){var e=sa,t=An(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&Rn(document.documentElement,n)){if(Ue(n))if(t=r.start,e=r.end,void 0===e&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(window.getSelection){t=window.getSelection();var o=n[L()].length;e=Math.min(r.start,o),r=void 0===r.end?e:Math.min(r.end,o),!t.extend&&e>r&&(o=r,r=e,e=o),o=je(n,e);var a=je(n,r);if(o&&a&&(1!==t.rangeCount||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)){var i=document.createRange();i.setStart(o.node,o.offset),t.removeAllRanges(),e>r?(t.addRange(i),t.extend(a.node,a.offset)):(i.setEnd(a.node,a.offset),t.addRange(i))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(On(n),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}sa=null,xe(ia),ia=null},createInstance:function(e,t,n,r,o){return e=sn(e,t,n,r),e[ar]=o,e[ir]=t,e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){ln(e,t,n,r);e:{switch(t){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e}e=!1}return e},prepareUpdate:function(e,t,n,r,o){return un(e,t,n,r,o)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return e=cn(e,t),e[ar]=r,e},now:Io,mutation:{commitMount:function(e){e.focus()},commitUpdate:function(e,t,n,r,o){e[ir]=o,pn(e,t,n,r,o)},resetTextContent:function(e){e.textContent=""},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,r,o,a){return e[ar]=a,e[ir]=n,fn(e,t,n,o,r)},hydrateTextInstance:function(e,t,n){return e[ar]=n,dn(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Mo,cancelDeferredCallback:Lo,useSyncScheduling:!0});J=ca.batchedUpdates,vn.prototype.render=function(e,t){ca.updateContainer(e,this._reactRootContainer,null,t)},vn.prototype.unmount=function(e){ca.updateContainer(null,this._reactRootContainer,null,e)};var la={createPortal:yn,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(t)return ca.findHostInstance(t);"function"==typeof e.render?r("188"):r("213",Object.keys(e))},hydrate:function(e,t,n){return En(null,e,t,!0,n)},render:function(e,t,n){return En(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,o){return(null==e||void 0===e._reactInternalFiber)&&r("38"),En(e,t,n,!1,o)},unmountComponentAtNode:function(e){return hn(e)||r("40"),!!e._reactRootContainer&&(ca.unbatchedUpdates(function(){En(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:yn,unstable_batchedUpdates:Z,unstable_deferredUpdates:ca.deferredUpdates,flushSync:ca.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:rr,EventPluginRegistry:Xn,EventPropagators:cr,ReactControlledComponent:kr,ReactDOMComponentTree:sr,ReactDOMEventListener:Kr}};ca.injectIntoDevTools({findFiberByHostInstance:A,bundleType:0,version:"16.2.0",rendererPackageName:"react-dom"});var ua=Object.freeze({default:la}),pa=ua&&la||ua;e.exports=pa.default?pa.default:pa},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,n){"use strict";var r=n(8),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=o},function(e,t,n){"use strict";function r(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=r},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++)if(!a.call(t,n[i])||!r(e[n[i]],t[n[i]]))return!1;return!0}var a=Object.prototype.hasOwnProperty;e.exports=o},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=n(50);e.exports=r},function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=n(51);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=r},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t,n){"use strict";var r=n(20),o=r.createStore,a=r.applyMiddleware,i=n(68),s=n(69),c=[n(78),n(79),n(81),n(82),n(83),n(85),n(86)],l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return a.apply(void 0,c)(o)(s,e)},u=l();e.exports={storeFactory:l,store:u}},function(e,t,n){"use strict";function r(e){return null==e?void 0===e?c:s:l&&l in Object(e)?Object(a.a)(e):Object(i.a)(e)}var o=n(23),a=n(57),i=n(58),s="[object Null]",c="[object Undefined]",l=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";var r=n(56),o="object"==typeof self&&self&&self.Object===Object&&self,a=r.a||o||Function("return this")();t.a=a},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(24))},function(e,t,n){"use strict";function r(e){var t=i.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=s.call(e);return r&&(t?e[c]=n:delete e[c]),o}var o=n(23),a=Object.prototype,i=a.hasOwnProperty,s=a.toString,c=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";function r(e){return a.call(e)}var o=Object.prototype,a=o.toString;t.a=r},function(e,t,n){"use strict";var r=n(60),o=Object(r.a)(Object.getPrototypeOf,Object);t.a=o},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},function(e,t,n){"use strict";(function(e,r){var o,a=n(64);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var i=Object(a.a)(o);t.a=i}).call(t,n(24),n(63)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}t.a=r},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:i.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function a(e){for(var t=Object.keys(e),n={},a=0;a<t.length;a++){var i=t[a];"function"==typeof e[i]&&(n[i]=e[i])}var s=Object.keys(n),c=void 0;try{o(n)}catch(e){c=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var o=!1,a={},i=0;i<s.length;i++){var l=s[i],u=n[l],p=e[l],f=u(p,t);if(void 0===f){var d=r(l,t);throw new Error(d)}a[l]=f,o=o||f!==p}return o?a:e}}t.a=a;var i=n(21);n(22),n(25)},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},a=0;a<n.length;a++){var i=n[a],s=e[i];"function"==typeof s&&(o[i]=r(s,t))}return o}t.a=o},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var s=e(n,r,i),c=s.dispatch,l=[],u={getState:s.getState,dispatch:function(e){return c(e)}};return l=t.map(function(e){return e(u)}),c=o.a.apply(void 0,l)(s.dispatch),a({},s,{dispatch:c})}}}t.a=r;var o=n(26),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(20),o=r.combineReducers,a=n(70),i=n(71),s=n(72),c=n(73),l=n(74),u=n(75),p=n(76),f=n(77),d=o({folders:a,threads_in_folder:i,threads:s,user:c,public_keys:l,app:o({ui:u,settings:p,draft_message:f})});e.exports=d},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2),a=o.actions,i={};i.REPLACE=function(e,t){var n=t.folders;if(!n||!Array.isArray(n)||!n.length)return e;for(var o=e.length===n.length,a=0;o&&a<e.length;a++)o=e[a].folder_name===n[a].folder_name&&e[a].unread_count===n[a].unread_count;return o?e:n.map(function(e){return r({},e)})};var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case a.SAVE_FOLDERS:return i.REPLACE(e,t);default:return e}};e.exports=s},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(2),i=a.actions,s={};s.SAVE=function(e,t){var n=t.folder_name,a=t.thread_ids,i=t.start,s=void 0===i?0:i,c=t.force,l=void 0!==c&&c;if(!(n&&a&&Array.isArray(a)&&a.length))return e;var u=o({},e),p=e[n],f=void 0;if(p&&Array.isArray(p)&&p.length)if(0===s){var d=p[0],h=a.indexOf(d);if(h>=0){var m=a.slice(0,h);f=[].concat(r(m),r(p))}else f=l?[].concat(r(a),r(p)):[].concat(r(a))}else if(s===p.length)f=[].concat(r(p),r(a));else if(s<p.length&&s+a.length>p.length&&a[0]===p[s]){var E=p[p.length-1],y=a.indexOf(E);if(y>=0){var v=a.slice(y+1);f=[].concat(r(p),r(v))}else{var g=p.slice(0,s);f=[].concat(r(g),r(a))}}else{if(!l)return e;f=[].concat(r(p),r(a))}else f=[].concat(r(a));return u[n]=f,u};var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.SAVE_THREADS_TO_FOLDER:return s.SAVE(e,t);default:return e}};e.exports=c},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(2),s=i.actions,c={},l={};l.NOOP={},l.NOOP.SETTINGS=function(e,t){var n=Object.keys(e),r=!0;return n.forEach(function(n){void 0!==t[n]&&t[n]!==e[n]&&(r=!1)}),r},c.SAVE_THREADS=function(e,t){var n=t.threads;if(!n||!Array.isArray(n)||!n.length)return e;var r=0,o=a({},e);return n.forEach(function(e){var t=e.thread_id,n=e.summary,a=e.settings;t&&n&&a&&void 0===o[t]&&(r++,o[t]={summary:n,settings:a})}),r?o:e},c.SAVE_THREAD=function(e,t){var n=t.thread_id,r=t.thread;if(!n)return e;if(!(r&&"object"===(void 0===r?"undefined":o(r))&&r.summary&&r.settings&&Array.isArray(r.messages)&&Array.isArray(r.participants)))return e;var i=a({},e);return i[n]=r,i},c.SAVE_THREAD_UPDATE=function(e,t){var n=t.thread_id,r=t.options;if(!n||!r||"object"!==(void 0===r?"undefined":o(r)))return e;var i=e[n];if(!i||"object"!==(void 0===i?"undefined":o(i))||!i.settings)return e;if(l.NOOP.SETTINGS(i.settings,r))return e;var s=a({},e),c=a({},i,{settings:a({},i.settings)});return Object.assign(c.settings,r),s[n]=c,s},c.SAVE_MESSAGE_UPDATE=function(e,t){var n=t.thread_id,i=t.message_id,s=t.options;if(!n||!i||!s||"object"!==(void 0===s?"undefined":o(s)))return e;var c=e[n];if(!c||"object"!==(void 0===c?"undefined":o(c))||!Array.isArray(c.messages))return e;var u=c.messages.findIndex(function(e){return e.message_id===i});if("number"!=typeof u||u<0)return e;var p=c.messages[u];if(l.NOOP.SETTINGS(p.settings,s))return e;var f=a({},e),d=a({},c,{messages:[].concat(r(c.messages))}),h=a({},p,{settings:a({},p.settings)});return Object.assign(h.settings,s),d.messages[u]=h,f[n]=d,f};var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case s.SAVE_THREADS:return c.SAVE_THREADS(e,t);case s.SAVE_THREAD:return c.SAVE_THREAD(e,t);case s.SAVE_THREAD_UPDATE:return c.SAVE_THREAD_UPDATE(e,t);case s.SAVE_MESSAGE_UPDATE:return c.SAVE_MESSAGE_UPDATE(e,t);default:return e}};e.exports=u},function(e,t,n){"use strict";var r=n(2),o=r.actions,a={};a.INIT=function(e,t){var n=t.email_address;return n?{email_address:n}:e};var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case o.STORE_INITIALIZED:return a.INIT(e,t);default:return e}};e.exports=i},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(2),i=a.actions,s={};s.SAVE=function(e,t){var n=t.public_keys;if(!n||"object"!==(void 0===n?"undefined":o(n)))return e;var a=r({},e);return Object.assign(a,n),a};var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.SAVE_RSA_PUBLIC_KEYS:return s.SAVE(e,t);default:return e}};e.exports=c},function(e,t,n){"use strict";var r=n(2),o=n(11),a=r.actions,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.STORE_INITIALIZED:return o(e,t,"thread_id",!0);case a.SAVE_APP.UI.FOLDER_NAME:return o(e,t,"folder_name",!0);case a.SAVE_APP.UI.THREAD_ID:return o(e,t,"thread_id",!0);case a.SAVE_APP.UI.START_THREADS_INDEX:return o(e,t,"start_threads_index",!0);default:return e}};e.exports=i},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2),a=n(11),i=o.actions,s=o.default_settings,c=function(){return r({},s)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c(),t=arguments[1];switch(t.type){case i.SAVE_APP.SETTING.MAX_THREADS_PER_PAGE:return a(e,t,"max_threads_per_page",!0);case i.SAVE_APP.SETTING.PUBLIC_KEY:return a(e,t,"public_key",!0);case i.SAVE_APP.SETTING.PRIVATE_KEY:return a(e,t,"private_key",!0);case i.SAVE_APP.SETTING.PRIVATE_KEY_STORAGE:return a(e,t,"private_key_storage",!0);case i.SAVE_APP.SETTING.IS_GENERATING_KEYPAIR:return a(e,t,"is_generating_keypair",!0);default:return e}};e.exports=l},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(2),i=n(11),s=a.actions,c={},l={is_reply:!1,thread_id:"",recipient:"",cc:[],cc_suggestions:[],subject:"",body:"",attachments:[],status:{code:0,error_message:""}},u=function(){var e=[].concat(r(l.cc)),t=[].concat(r(l.cc_suggestions)),n=l.attachments.map(function(e){return o({},e)}),a=o({},l.status);return o({},l,{cc:e,cc_suggestions:t,attachments:n,status:a})};c.STORE=function(e,t){var n=t.is_reply,a=t.thread_id,i=t.recipient,s=t.cc,c=t.cc_suggestions,l=t.subject,u=t.body,p=t.attachments;return s=[].concat(r(s)),c=[].concat(r(c)),p=p.map(function(e){return o({},e)}),{is_reply:n,thread_id:a,recipient:i,cc:s,cc_suggestions:c,subject:l,body:u,attachments:p,status:{code:0,error_message:""}}};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u(),t=arguments[1];switch(t.type){case s.SAVE_APP.DRAFT_MESSAGE.STORE:return c.STORE(e,t);case s.SAVE_APP.DRAFT_MESSAGE.CLEAR:return u();case s.SAVE_APP.DRAFT_MESSAGE.SET_STATUS:return i(e,t,"status",!0);default:return e}};e.exports=p},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(2),a=o.actions,i="file:"===window.location.protocol&&window.mock_data,s=function(e){var t=e.getState;e.dispatch;return function(e){return function(n){if(n.type!==a.LOG_DEBUG_MESSAGE){var o=void 0;if(i){o=t();var s={action:n,state:o};console.log("pre:",n.type,s)}if(e(n),i){var c=t(),l=o===c,u=l?"no change":"NEW STATE",p=l?{action:n,state:o}:{action:n,old_state:o,new_state:c};console.log("post ("+u+"):",n.type,p)}}else if(i){var f,d=n.message;(f=console).log.apply(f,r(d))}}}};e.exports=s},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(2),a=n(6),i=o.actions,s={},c={};c.PUBLIC_KEYS_NEEDED=function(e,t){var n=e.getState,o=e.dispatch,i=(e.next,e.action),s=n(),c=i.recipient,l=i.cc;if(!c)throw new Error("required field: recipient email address");var u=[c,s.user.email_address];l&&("string"==typeof l?u.push(l):Array.isArray(l)&&l.length&&(u=[].concat(r(u),r(l))));var p=[];return u.forEach(function(e){s.public_keys[e]||p.push(e)}),p.length&&t&&(o(a.SAVE_APP.DRAFT_MESSAGE.SET_STATUS(1,"")),o(a.GET_RSA_PUBLIC_KEYS(p))),p},c.UPDATE_THREAD=function(e,t){var n=(e.getState,e.dispatch),r=(e.next,e.action);if(t){var o=r.thread_id;n(a.GET_THREAD(o))}},c.UPDATE_SENT_FOLDER=function(e,t){var n=(e.getState,e.dispatch);e.next,e.action;if(!t){n(a.GET_THREADS_IN_FOLDER("sent",0,1,!0))}},s.SEND_EMAIL=function(e,t){var n=e.getState,r=e.dispatch,o=e.next,i=e.action,s=void 0,l=void 0;if(s=n(),!((l=s.app.draft_message.status.code)>1)){var u=void 0;if(0!==l||(u=c.PUBLIC_KEYS_NEEDED({getState:n,dispatch:r,next:o,action:i},!0),!u.length)){if(1===l&&(u=c.PUBLIC_KEYS_NEEDED({getState:n,dispatch:r,next:o,action:i},!1),u.length)){var p='<div class="encryption_error">The following email address'+(u.length>1?"es are":" is")+" not associated with a public encryption key:"+(u.length>1?'<ul class="count_many"><li>'+u.join("</li><li>")+"</li></ul>":' <span class="count_one">"'+u[0]+'"</span>')+"</div>";return void r(a.SAVE_APP.DRAFT_MESSAGE.SET_STATUS(4,p))}r(a.SAVE_APP.DRAFT_MESSAGE.SET_STATUS(2,"")),o(i),s=n(),l=s.app.draft_message.status.code,2===l&&(r(a.SAVE_APP.DRAFT_MESSAGE.SET_STATUS(3,"")),c.UPDATE_THREAD({getState:n,dispatch:r,next:o,action:i},t),c.UPDATE_SENT_FOLDER({getState:n,dispatch:r,next:o,action:i},t))}}},s.SAVE_RSA_PUBLIC_KEYS=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action,t()),o=r.app.draft_message;if(1===r.app.draft_message.status.code)if(o.is_reply){var i=o.thread_id,s=o.recipient,c=o.body,l=o.cc,u=o.attachments;n(a.SEND_EMAIL.REPLY(i,s,c,l,u))}else{var p=o.recipient,f=o.subject,d=o.body,h=o.cc,m=o.attachments;n(a.SEND_EMAIL.NEW_MESSAGE(p,f,d,h,m))}},s.OPEN_THREAD=function(e){var t=(e.getState,e.dispatch);e.next,e.action;t(a.SAVE_APP.DRAFT_MESSAGE.CLEAR())},s.OPEN_COMPOSE_MESSAGE=function(e){var t=(e.getState,e.dispatch);e.next,e.action;t(a.SAVE_APP.DRAFT_MESSAGE.CLEAR())};var l=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){switch(r.type){case i.SEND_EMAIL.REPLY:s.SEND_EMAIL({getState:t,dispatch:n,next:e,action:r},!0);break;case i.SEND_EMAIL.NEW_MESSAGE:s.SEND_EMAIL({getState:t,dispatch:n,next:e,action:r},!1);break;case i.SAVE_RSA_PUBLIC_KEYS:e(r),s.SAVE_RSA_PUBLIC_KEYS({getState:t,dispatch:n,next:e,action:r});break;case i.RESPOND_TO_USER_EVENT.OPEN_THREAD:s.OPEN_THREAD({getState:t,dispatch:n,next:e,action:r}),e(r);break;case i.RESPOND_TO_USER_EVENT.OPEN_COMPOSE_MESSAGE:s.OPEN_COMPOSE_MESSAGE({getState:t,dispatch:n,next:e,action:r}),e(r);break;case i.RESPOND_TO_USER_EVENT.REDIRECT_URL:switch(r.target){case i.RESPOND_TO_USER_EVENT.OPEN_COMPOSE_MESSAGE:s.OPEN_COMPOSE_MESSAGE({getState:t,dispatch:n,next:e,action:r})}e(r);break;default:e(r)}}}};e.exports=l},function(e,t,n){"use strict";var r=n(2),o=r.actions,a=r.default_settings.max_threads_per_page,i={};i.STORE_INITIALIZED=function(e){var t=e.email_address,n=e.thread_id;return{type:o.STORE_INITIALIZED,email_address:t,thread_id:n}},i.LOG_DEBUG_MESSAGE=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:o.LOG_DEBUG_MESSAGE,message:t}},i.GET_FOLDERS=function(){return{type:o.GET_FOLDERS}},i.SAVE_FOLDERS=function(e){return{type:o.SAVE_FOLDERS,folders:e}},i.GET_THREADS_IN_FOLDER=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return("number"!=typeof n||n<=0||n>a)&&(n=a),{type:o.GET_THREADS_IN_FOLDER,folder_name:e,body_length:0,start:t,max:n,force:r}},i.SAVE_THREADS_TO_FOLDER=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:o.SAVE_THREADS_TO_FOLDER,folder_name:e,thread_ids:t,start:n,force:r}},i.SAVE_THREADS=function(e){return{type:o.SAVE_THREADS,threads:e}},i.GET_THREAD=function(e){return{type:o.GET_THREAD,thread_id:e}},i.SAVE_THREAD=function(e,t){return{type:o.SAVE_THREAD,thread_id:e,thread:t}},i.UPDATE_THREAD={},i.UPDATE_THREAD.MARK_IMPORTANT=function(e,t){return{type:o.UPDATE_THREAD,thread_id:e,options:{important:t}}},i.UPDATE_THREAD.MARK_UNREAD=function(e,t){return{type:o.UPDATE_THREAD,thread_id:e,options:{unread:t}}},i.UPDATE_THREAD.MOVE_TO_TRASH=function(e){return{type:o.UPDATE_THREAD,thread_id:e,options:{trash:!0}}},i.UPDATE_THREAD.MOVE_TO_SPAM=function(e){return{type:o.UPDATE_THREAD,thread_id:e,options:{spam:!0}}},i.UPDATE_THREAD.MOVE_TO_INBOX=function(e){return{type:o.UPDATE_THREAD,thread_id:e,options:{inbox:!0}}},i.SAVE_THREAD_UPDATE=function(e,t){return{type:o.SAVE_THREAD_UPDATE,thread_id:e,options:t}},i.UPDATE_MESSAGE={},i.UPDATE_MESSAGE.MARK_STAR=function(e,t,n){return{type:o.UPDATE_MESSAGE,thread_id:e,message_id:t,options:{star:n}}},i.UPDATE_MESSAGE.MARK_UNREAD=function(e,t,n){return{type:o.UPDATE_MESSAGE,thread_id:e,message_id:t,options:{unread:n}}},i.UPDATE_MESSAGE.MOVE_TO_TRASH=function(e,t){return{type:o.UPDATE_MESSAGE,thread_id:e,message_id:t,options:{trash:!0}}},i.SAVE_MESSAGE_UPDATE=function(e,t,n){return{type:o.SAVE_MESSAGE_UPDATE,thread_id:e,message_id:t,options:n}},i.SET_RSA_PUBLIC_KEY=function(e,t){return{type:o.SET_RSA_PUBLIC_KEY,public_key:e,allow_update:t}},i.GET_RSA_PUBLIC_KEYS=function(e){return{type:o.GET_RSA_PUBLIC_KEYS,emails:e}},i.SAVE_RSA_PUBLIC_KEYS=function(e){return{type:o.SAVE_RSA_PUBLIC_KEYS,public_keys:e}},i.UPDATE_SETTINGS=function(e,t,n){return{type:o.UPDATE_SETTINGS,max_threads_per_page:e,private_key:t,private_key_storage:n}},i.SAVE_APP={UI:{},SETTING:{},DRAFT_MESSAGE:{}},i.SAVE_APP.UI.FOLDER_NAME=function(e){return{type:o.SAVE_APP.UI.FOLDER_NAME,folder_name:e}},i.SAVE_APP.UI.THREAD_ID=function(e){return{type:o.SAVE_APP.UI.THREAD_ID,thread_id:e}},i.SAVE_APP.UI.START_THREADS_INDEX=function(e){return{type:o.SAVE_APP.UI.START_THREADS_INDEX,start_threads_index:e}},i.SAVE_APP.SETTING.MAX_THREADS_PER_PAGE=function(e){return{type:o.SAVE_APP.SETTING.MAX_THREADS_PER_PAGE,max_threads_per_page:e}},i.SAVE_APP.SETTING.PUBLIC_KEY=function(e){return{type:o.SAVE_APP.SETTING.PUBLIC_KEY,public_key:e}},i.SAVE_APP.SETTING.PRIVATE_KEY=function(e){return{type:o.SAVE_APP.SETTING.PRIVATE_KEY,private_key:e}},i.SAVE_APP.SETTING.PRIVATE_KEY_STORAGE=function(e){return{type:o.SAVE_APP.SETTING.PRIVATE_KEY_STORAGE,private_key_storage:e}},i.SAVE_APP.SETTING.IS_GENERATING_KEYPAIR=function(e){return{type:o.SAVE_APP.SETTING.IS_GENERATING_KEYPAIR,is_generating_keypair:e}},i.SAVE_APP.DRAFT_MESSAGE.STORE=function(e,t,n,r,a,i,s,c){return{type:o.SAVE_APP.DRAFT_MESSAGE.STORE,is_reply:e,thread_id:t,recipient:n,cc:r,cc_suggestions:a,subject:i,body:s,attachments:c}},i.SAVE_APP.DRAFT_MESSAGE.CLEAR=function(){return{type:o.SAVE_APP.DRAFT_MESSAGE.CLEAR}},i.SAVE_APP.DRAFT_MESSAGE.SET_STATUS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:o.SAVE_APP.DRAFT_MESSAGE.SET_STATUS,status:{code:e,error_message:t}}},i.CRYPTO={RSA:{},AES:{}},i.CRYPTO.RSA.GENERATE_KEYPAIR=function(e){return{type:o.CRYPTO.RSA.GENERATE_KEYPAIR,allow_update:e}},i.SEND_EMAIL={},i.SEND_EMAIL.REPLY=function(e,t,n,r,a){return{type:o.SEND_EMAIL.REPLY,thread_id:e,recipient:t,body:n,cc:r,attachments:a}},i.SEND_EMAIL.NEW_MESSAGE=function(e,t,n,r,a){return{type:o.SEND_EMAIL.NEW_MESSAGE,recipient:e,subject:t,body:n,cc:r,attachments:a}},i.RESPOND_TO_USER_EVENT={},i.RESPOND_TO_USER_EVENT.OPEN_FOLDER=function(e,t,n,r,a){if("number"!=typeof t&&(t=0),n&&e){var i="/folder/"+e+"/"+t;return(r?n.push:n.replace)(i),{type:o.RESPOND_TO_USER_EVENT.REDIRECT_URL,target:o.RESPOND_TO_USER_EVENT.OPEN_FOLDER,URL:i,is_refresh:a}}return{type:o.RESPOND_TO_USER_EVENT.OPEN_FOLDER,folder_name:e,start_threads_index:t}},i.RESPOND_TO_USER_EVENT.OPEN_THREAD=function(e,t,n){if(t&&e){var r="/thread/"+e;return(n?t.push:t.replace)(r),{type:o.RESPOND_TO_USER_EVENT.REDIRECT_URL,target:o.RESPOND_TO_USER_EVENT.OPEN_THREAD,URL:r}}return{type:o.RESPOND_TO_USER_EVENT.OPEN_THREAD,thread_id:e}},i.RESPOND_TO_USER_EVENT.OPEN_COMPOSE_MESSAGE=function(e,t){if(e){return(t?e.push:e.replace)("/compose"),{type:o.RESPOND_TO_USER_EVENT.REDIRECT_URL,target:o.RESPOND_TO_USER_EVENT.OPEN_COMPOSE_MESSAGE,URL:"/compose"}}return{type:o.RESPOND_TO_USER_EVENT.OPEN_COMPOSE_MESSAGE}},e.exports=i},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(2),i=n(6),s=a.actions,c={},l={};l.folders={},l.folders.convert_to_hash=function(e){var t={};return e.forEach(function(e){var n=e.folder_name,r=e.unread_count;t[n]=r}),t},l.folders.find_foldernames_by_threadid=function(e,t){var n=[];return Object.keys(t.threads_in_folder).forEach(function(r){t.threads_in_folder[r].indexOf(e)>=0&&n.push(r)}),n},c.INIT=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action,t()),o=r.user.email_address;n(i.GET_FOLDERS()),n(i.GET_RSA_PUBLIC_KEYS([o]))},c.OPEN_FOLDER=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action);n(i.GET_FOLDERS());var o=r.folder_name,a=r.start_threads_index,s=t(),c=s.threads_in_folder[o],l=null;c?a===c.length&&(l=a):l=0,null!==l&&n(i.GET_THREADS_IN_FOLDER(o,l))},c.SAVE_FOLDERS=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action);if(r.folders&&Array.isArray(r.folders)&&r.folders.length){var o=t();if(o.folders&&Array.isArray(o.folders)&&o.folders.length){var a=l.folders.convert_to_hash(r.folders),s=l.folders.convert_to_hash(o.folders);Object.keys(s).forEach(function(e){if(a[e]>s[e]){var t=a[e]-s[e];n(i.GET_THREADS_IN_FOLDER(e,0,t,!0))}})}}},c.SAVE_THREAD_UPDATE=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action),a=r.thread_id,s=r.options;if(a&&s){var c=t(),u=l.folders.find_foldernames_by_threadid(a,c);if(u.length){var p=l.folders.convert_to_hash(c.folders),f=c.threads[a].settings,d=c.folders.map(function(e){return o({},e)}),h=!1;if("boolean"==typeof s.unread&&s.unread!==f.unread){h=!0;var m={};u.forEach(function(e){m[e]=p[e]+(s.unread?1:-1)}),d.forEach(function(e){var t=e.folder_name;void 0!==m[t]&&(e.unread_count=m[t])})}h&&n(i.SAVE_FOLDERS(d))}}},c.SAVE_MESSAGE_UPDATE=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action),o=r.thread_id,a=r.message_id,s=r.options;if(o&&a&&s){var c=t(),l=c.threads[o];if(l&&l.messages){var u=l.messages.find(function(e){return e.message_id===a});if(u&&u.settings){var p={message:u.settings,thread:l.settings},f={},d=!1;if("boolean"==typeof s.unread&&s.unread!==p.message.unread){var h=s.unread?1:0;l.messages.forEach(function(e){e.message_id!==a&&e.settings.unread&&h++});var m=h>0;m!==p.thread.unread&&(d=!0,f.unread=m)}if("boolean"==typeof s.star&&s.star!==p.message.star){var E=s.star?1:0;l.messages.forEach(function(e){e.message_id!==a&&e.settings.star&&E++});var y=E>0;y!==p.thread.important&&(d=!0,f.important=y)}d&&n(i.SAVE_THREAD_UPDATE(o,f))}}}},c.OPEN_THREAD=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action),o=r.thread_id,a=t(),s=a.threads[o];s&&s.settings&&s.settings.unread&&n(i.UPDATE_THREAD.MARK_UNREAD(o,!1)),s&&s.summary&&s.settings&&s.messages&&s.participants&&s.messages.length&&s.participants.length||n(i.GET_THREAD(o))},c.SAVE_THREAD=function(e){var t=(e.getState,e.dispatch),n=(e.next,e.action);if(n.thread&&Array.isArray(n.thread.participants)&&n.thread.participants.length){var o=n.thread.participants;t(i.GET_RSA_PUBLIC_KEYS([].concat(r(o))))}},c.REDIRECT_URL={},c.REDIRECT_URL.OPEN_FOLDER=function(e){var t=(e.getState,e.dispatch);e.next;!0===e.action.is_refresh&&t(i.SAVE_APP.UI.START_THREADS_INDEX(-1))};var u=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){switch(r.type){case s.STORE_INITIALIZED:e(r),c.INIT({getState:t,dispatch:n,next:e,action:r});break;case s.RESPOND_TO_USER_EVENT.OPEN_FOLDER:c.OPEN_FOLDER({getState:t,dispatch:n,next:e,action:r}),e(r);break;case s.SAVE_FOLDERS:c.SAVE_FOLDERS({getState:t,dispatch:n,next:e,action:r}),e(r);break;case s.SAVE_THREAD_UPDATE:c.SAVE_THREAD_UPDATE({getState:t,dispatch:n,next:e,action:r}),e(r);break;case s.SAVE_MESSAGE_UPDATE:c.SAVE_MESSAGE_UPDATE({getState:t,dispatch:n,next:e,action:r}),e(r);break;case s.RESPOND_TO_USER_EVENT.OPEN_THREAD:c.OPEN_THREAD({getState:t,dispatch:n,next:e,action:r}),e(r);break;case s.SAVE_THREAD:c.SAVE_THREAD({getState:t,dispatch:n,next:e,action:r}),e(r);break;case s.RESPOND_TO_USER_EVENT.REDIRECT_URL:switch(r.target){case s.RESPOND_TO_USER_EVENT.OPEN_FOLDER:c.REDIRECT_URL.OPEN_FOLDER({getState:t,dispatch:n,next:e,action:r})}e(r);break;default:e(r)}}}};e.exports=u},function(e,t,n){"use strict";var r=n(2),o=n(6),a=r.actions,i={};i.OPEN_FOLDER=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action),a=r.folder_name,i=r.start_threads_index,s=void 0===i?0:i;if(a){var c=t(),l=c.app.ui;l.folder_name!==a&&n(o.SAVE_APP.UI.FOLDER_NAME(a)),""!==l.thread_id&&n(o.SAVE_APP.UI.THREAD_ID("")),l.start_threads_index!==s&&n(o.SAVE_APP.UI.START_THREADS_INDEX(s))}},i.OPEN_THREAD=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action),a=r.thread_id;if(a){t().app.ui.thread_id!==a&&n(o.SAVE_APP.UI.THREAD_ID(a))}};var s=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){switch(r.type){case a.RESPOND_TO_USER_EVENT.OPEN_FOLDER:i.OPEN_FOLDER({getState:t,dispatch:n,next:e,action:r});break;case a.RESPOND_TO_USER_EVENT.OPEN_THREAD:i.OPEN_THREAD({getState:t,dispatch:n,next:e,action:r});break;case a.RESPOND_TO_USER_EVENT.OPEN_COMPOSE_MESSAGE:case a.RESPOND_TO_USER_EVENT.REDIRECT_URL:break;default:e(r)}}}};e.exports=s},function(e,t,n){"use strict";var r=n(2),o=n(6),a=n(84),i=r.actions,s={};s.INIT=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action,a.GET.PRIVATE_KEY(t));if(r){var i=r.private_key,s=r.private_key_storage;n(o.SAVE_APP.SETTING.PRIVATE_KEY(i)),n(o.SAVE_APP.SETTING.PRIVATE_KEY_STORAGE(s))}},s.SAVE_RSA_PUBLIC_KEYS=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action);if(r.public_keys){var a=t(),i=a.user.email_address,s=a.app.settings.public_key,c=r.public_keys[i];s||i&&c&&n(o.SAVE_APP.SETTING.PUBLIC_KEY(c))}},s.UPDATE_SETTINGS=function(e){var t=e.getState,n=e.dispatch,i=(e.next,e.action),s=Object.assign({},r.default_settings,i),c=s.max_threads_per_page,l=s.private_key,u=s.private_key_storage;a.SET.PRIVATE_KEY(t,l,u),c>0&&n(o.SAVE_APP.SETTING.MAX_THREADS_PER_PAGE(c)),n(o.SAVE_APP.SETTING.PRIVATE_KEY(l)),n(o.SAVE_APP.SETTING.PRIVATE_KEY_STORAGE(u))};var c=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){switch(r.type){case i.STORE_INITIALIZED:e(r),s.INIT({getState:t,dispatch:n,next:e,action:r});break;case i.SAVE_RSA_PUBLIC_KEYS:s.SAVE_RSA_PUBLIC_KEYS({getState:t,dispatch:n,next:e,action:r}),e(r);break;case i.UPDATE_SETTINGS:s.UPDATE_SETTINGS({getState:t,dispatch:n,next:e,action:r});break;case i.SAVE_APP.SETTING.MAX_THREADS_PER_PAGE:case i.SAVE_APP.SETTING.PUBLIC_KEY:case i.SAVE_APP.SETTING.PRIVATE_KEY:case i.SAVE_APP.SETTING.PRIVATE_KEY_STORAGE:case i.SAVE_APP.SETTING.IS_GENERATING_KEYPAIR:default:e(r)}}}};e.exports=c},function(e,t,n){"use strict";var r=n(2),o={};o.SET={},o.GET={},o.GET.storage_key=function(e){return e?null:e+"#"+r.storage.PRIVATE_KEY},o.SET.PRIVATE_KEY=function(e,t,n){var r=e(),a=r.user.email_address;if("number"!=typeof n&&(n=r.app.settings.private_key_storage),"string"!=typeof t&&(t=r.app.settings.private_key),a&&"string"==typeof t){var i=o.GET.storage_key(a);switch(n){case 2:window.localStorage.setItem(i,t),window.sessionStorage.removeItem(i);break;case 1:window.localStorage.removeItem(i),window.sessionStorage.setItem(i,t);break;case 0:default:window.localStorage.removeItem(i),window.sessionStorage.removeItem(i),n=0}}},o.GET.PRIVATE_KEY=function(e){var t=e(),n=t.user.email_address;if(!n)return null;var r=o.GET.storage_key(n),a=void 0,i=void 0;return a||(a=window.localStorage.getItem(r),i=2),a||(a=window.sessionStorage.getItem(r),i=1),a?{private_key:a,private_key_storage:i}:null},e.exports=o},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(2),s=n(6),c=i.actions,l={};l.GET_FOLDERS=function(e){var t=(e.getState,e.dispatch),n=(e.next,e.action,function(e){e&&Array.isArray(e)&&e.length&&t(s.SAVE_FOLDERS(e))});google.script.run.withSuccessHandler(n).get_folders()},l.GET_THREADS_IN_FOLDER=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action),o=r.folder_name,a=r.body_length,i=r.start,c=r.max,l=r.force;if(!o||"string"!=typeof o)throw new Error('ERROR: Redux action "GET_THREADS_IN_FOLDER" references an invalid folder name.');var u=t(),p=u.threads_in_folder[o]||[];if(0===i||i===p.length||i<p.length&&i+c>p.length){var f=function(e){if(e&&Array.isArray(e)&&e.length){var t=e.map(function(e){return e.thread_id});n(s.SAVE_THREADS_TO_FOLDER(o,t,i,l)),n(s.SAVE_THREADS(e))}};google.script.run.withSuccessHandler(f).get_threads_in_folder(o,a,i,c)}},l.GET_THREAD=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action),o=r.thread_id;if(!o||"string"!=typeof o)throw new Error('ERROR: Redux action "GET_THREAD" references an invalid thread ID.');var i=function(e){if(e&&"object"===(void 0===e?"undefined":a(e))&&e.messages&&Array.isArray(e.messages)&&e.messages.length&&e.participants&&Array.isArray(e.participants)&&e.participants.length){var r=t(),i=r.threads[o];if(i){for(var c=i.messages||[],l=c.length===e.messages.length,u=0;l&&u<c.length;u++)l=c[u].message_id===e.messages[u].message_id;if(l)return}n(s.SAVE_THREAD(o,e))}},c=function(){var e=t(),n=e.threads[o];return n&&n.messages?n.messages.length:0}();google.script.run.withSuccessHandler(i).get_thread(o,c)},l.UPDATE_THREAD=function(e){var t=(e.getState,e.dispatch),n=(e.next,e.action),r=n.thread_id,o=n.options;if(!r||"string"!=typeof r)throw new Error('ERROR: Redux action "UPDATE_THREAD" references an invalid thread ID.');if(!o||"object"!==(void 0===o?"undefined":a(o)))throw new Error('ERROR: Redux action "UPDATE_THREAD" references invalid update options.');var i=function(e){"boolean"==typeof e&&(e?t(s.SAVE_THREAD_UPDATE(r,o)):console.log('WARNING: Redux action "UPDATE_THREAD" failed on the server.'))};google.script.run.withSuccessHandler(i).update_thread(r,o)},l.UPDATE_MESSAGE=function(e){var t=(e.getState,e.dispatch),n=(e.next,e.action),r=n.thread_id,o=n.message_id,i=n.options;if(!r||"string"!=typeof r)throw new Error('ERROR: Redux action "UPDATE_MESSAGE" references an invalid thread ID.');if(!o||"string"!=typeof o)throw new Error('ERROR: Redux action "UPDATE_MESSAGE" references an invalid message ID.');if(!i||"object"!==(void 0===i?"undefined":a(i)))throw new Error('ERROR: Redux action "UPDATE_MESSAGE" references invalid update options.');var c=function(e){"boolean"==typeof e&&(e?t(s.SAVE_MESSAGE_UPDATE(r,o,i)):console.log('WARNING: Redux action "UPDATE_MESSAGE" failed on the server.'))};google.script.run.withSuccessHandler(c).update_message(o,i)},l.SET_RSA_PUBLIC_KEY=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action),a=r.public_key,i=r.allow_update;if(!a||"string"!=typeof a)throw new Error('ERROR: Redux action "SET_RSA_PUBLIC_KEY" references an invalid public key.');i=!!i;var c=function(){var e=['WARNING: Redux action "SET_RSA_PUBLIC_KEY" failed on the server.','The most likely reason is that a "public_key" is already associated with the current Google user account.','Updating the associated keypair will cause your mailbox to diverge: (1) the previous "private_key" will be required to decrypt older messages, and (2) the updated "private_key" will be required to decrypt newer messages.','You should only consider updating your keypair if either: (1) you have lost your "private_key" and are no-longer able to read your encrypted messages, or (2) an untrusted 3rd party has gained access to your "private_key".'].join(" ");console.log(e),window.alert(e)},l=function(e){if("boolean"==typeof e){e||c();var r=t(),i=r.user.email_address,l=o({},i,a);n(s.SAVE_RSA_PUBLIC_KEYS(l))}};google.script.run.withFailureHandler(c).withSuccessHandler(l).set_public_key(a,i)},l.GET_RSA_PUBLIC_KEYS=function(e){var t=e.getState,n=e.dispatch,o=(e.next,e.action),i=o.emails;if(!i||!Array.isArray(i)||!i.length)throw new Error('ERROR: Redux action "GET_RSA_PUBLIC_KEYS" references an invalid list of email addresses.');var c=function(){var e=t();return[].concat(r(i),[e.user.email_address]).filter(function(t){return void 0===e.public_keys[t]})}();if(c.length){var l=function(e){e&&"object"===(void 0===e?"undefined":a(e))&&n(s.SAVE_RSA_PUBLIC_KEYS(e))};google.script.run.withSuccessHandler(l).get_public_keys(c)}},l.SEND_EMAIL={},l.SEND_EMAIL.REPLY=function(e){var t=(e.getState,e.dispatch,e.next,e.action),n=t.thread_id,r=t.body,o=t.cc,a=void 0===o?null:o,i=t.attachments,s=void 0===i?null:i;if(!n||"string"!=typeof n)throw new Error('ERROR: Redux action "SEND_EMAIL_REPLY" references an invalid thread ID.');if(!r||"string"!=typeof r)throw new Error('ERROR: Redux action "SEND_EMAIL_REPLY" references an invalid message body.');var c=function(e){"boolean"==typeof e&&(e||console.log('WARNING: Redux action "SEND_EMAIL_REPLY" failed on the server.'))};google.script.run.withSuccessHandler(c).send_reply_to_thread(n,r,a,s)},l.SEND_EMAIL.NEW_MESSAGE=function(e){var t=(e.getState,e.dispatch,e.next,e.action),n=t.recipient,r=t.subject,o=t.body,a=t.cc,i=void 0===a?null:a,s=t.attachments,c=void 0===s?null:s;if(!n||"string"!=typeof n)throw new Error('ERROR: Redux action "SEND_EMAIL_NEW_MESSAGE" references an invalid recipient.');if(!r||"string"!=typeof r)throw new Error('ERROR: Redux action "SEND_EMAIL_NEW_MESSAGE" references an invalid subject.');if(!o||"string"!=typeof o)throw new Error('ERROR: Redux action "SEND_EMAIL_NEW_MESSAGE" references an invalid message body.');var l=function(e){"boolean"==typeof e&&(e||console.log('WARNING: Redux action "SEND_EMAIL_NEW_MESSAGE" failed on the server.'))};google.script.run.withSuccessHandler(l).send_new_email(n,r,o,i,c)};var u=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){switch(r.type){case c.GET_FOLDERS:l.GET_FOLDERS({getState:t,dispatch:n,next:e,action:r});break;case c.GET_THREADS_IN_FOLDER:l.GET_THREADS_IN_FOLDER({getState:t,dispatch:n,next:e,action:r});break;case c.GET_THREAD:l.GET_THREAD({getState:t,dispatch:n,next:e,action:r});break;case c.UPDATE_THREAD:l.UPDATE_THREAD({getState:t,dispatch:n,next:e,action:r});break;case c.UPDATE_MESSAGE:l.UPDATE_MESSAGE({getState:t,dispatch:n,next:e,action:r});break;case c.SET_RSA_PUBLIC_KEY:l.SET_RSA_PUBLIC_KEY({getState:t,dispatch:n,next:e,action:r});break;case c.GET_RSA_PUBLIC_KEYS:l.GET_RSA_PUBLIC_KEYS({getState:t,dispatch:n,next:e,action:r});break;case c.SEND_EMAIL.REPLY:e(r),l.SEND_EMAIL.REPLY({getState:t,dispatch:n,next:e,action:r});break;case c.SEND_EMAIL.NEW_MESSAGE:e(r),l.SEND_EMAIL.NEW_MESSAGE({getState:t,dispatch:n,next:e,action:r});break;case c.SAVE_FOLDERS:case c.SAVE_THREADS_TO_FOLDER:case c.SAVE_THREADS:case c.SAVE_THREAD:case c.SAVE_THREAD_UPDATE:case c.SAVE_MESSAGE_UPDATE:case c.SAVE_RSA_PUBLIC_KEYS:default:e(r)}}}};e.exports=u},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(2),s=n(6),c=n(27),l=i.actions,u={},p={};u.GENERATE_KEYPAIR=function(e){var t=e.getState,n=e.dispatch,r=(e.next,e.action);n(s.SAVE_APP.SETTING.IS_GENERATING_KEYPAIR(!0)),c.RSA.generate_keypair().then(function(e){var o=e.public_key,a=e.private_key,i=r.allow_update;i=!!i;var c=t(),l=c.app.settings.private_key_storage;n(s.SET_RSA_PUBLIC_KEY(o,i)),n(s.SAVE_APP.SETTING.PUBLIC_KEY(o)),n(s.UPDATE_SETTINGS(0,a,l)),n(s.SAVE_APP.SETTING.IS_GENERATING_KEYPAIR(!1))}).catch(function(e){})},p.DECRYPT_MESSAGES_IN_THREAD=function(e){var t=e.getState,n=(e.dispatch,e.next,e.action);if(n.thread&&Array.isArray(n.thread.messages)&&n.thread.messages.length){var r=n.thread.messages,s=n.thread.summary,l=a({},i.encryption.RESERVED_ATTACHMENT_NAME),u=t(),p=u.user.email_address,f=u.app.settings.private_key;if(!p)throw new Error("Redux state does not contain the email address associated with the current Google user account.");if(!f)throw new Error("Redux state does not contain the private RSA encryption key associated with the current Google user account.");for(var d=0;d<r.length;d++){var h=r[d].contents;if(h.attachments&&Array.isArray(h.attachments)&&h.attachments.length){var m=h.attachments.findIndex(function(e){return e.name===l.CIPHERS});if(!("number"!=typeof m||m<0))try{var E={body:"",attachments:[]},y=JSON.parse(h.attachments[m].data);if(!y||"object"!==(void 0===y?"undefined":o(y)))throw new Error('Attachment "'+l.CIPHERS+'" in message #'+(d+1)+' of thread ID "'+n.thread_id+'" contains invalid JSON and could not be parsed.');var v=y[p];if(!v||"string"!=typeof v)throw new Error('Attachment "'+l.CIPHERS+'" in message #'+(d+1)+' of thread ID "'+n.thread_id+'" does not include an RSA encrypted cipher for the current Google user account.');var g=c.RSA.decrypt(v,f);if("string"!=typeof g||g.length!==c.AES.key_size)throw new Error("RSA decryption failed");for(var _=0;_<h.attachments.length;_++)if(_!==m){var b=h.attachments[_],S=b.data,T=b.name,A=c.AES.decrypt(S,g);if(T===l.BODY)E.body=A,0===d&&(s.body=A.substring(0,160));else{var w={data:A,contentType:A.substring(5,A.indexOf(";")),name:T};E.attachments.push(w)}}r[d].contents=E}catch(e){0===d&&(s.body=h.body.substring(0,160));continue}}}}},p.ENCRYPT_OUTBOUND_MESSAGE=function(e){var t=e.getState,n=(e.dispatch,e.next,e.action),o=n.recipient,s=n.body,l=n.cc,u=n.attachments,p=t();if(o&&s){var f=[o,p.user.email_address];l&&("string"==typeof l?f.push(l):Array.isArray(l)&&l.length&&(f=[].concat(r(f),r(l))));var d=[];if(f.forEach(function(e){p.public_keys[e]||d.push(e)}),d.length){var h="The following email address"+(d.length>1?"es are":" is")+' not associated with a public encryption key: "'+d.join('", "')+'"',m='<div class="encryption_error">The following email address'+(d.length>1?"es are":" is")+" not associated with a public encryption key:"+(d.length>1?'<ul class="count_many"><li>'+d.join("</li><li>")+"</li></ul>":' <span class="count_one">"'+d[0]+'"</span>')+"</div>",E=new Error(h);throw E.error_message=m,E.DRAFT_MESSAGE=!0,E}var y=c.AES.generate_secret(),v=a({},i.encryption.RESERVED_ATTACHMENT_NAME),g=[],_={},b={};f.forEach(function(e){var t=p.public_keys[e];b[e]=c.RSA.encrypt(y,t)}),g.push({data:JSON.stringify(b),contentType:"text/plain",name:v.CIPHERS}),g.push({data:c.AES.encrypt(s,y),contentType:"text/plain",name:v.BODY}),u&&Array.isArray(u)&&u.length&&u.forEach(function(e){var t=e.data,n=e.name;g.push({data:c.AES.encrypt(t,y),contentType:"text/plain",name:n})}),_.body=i.encryption.CLEARTEXT_CONTENT.BODY,_.attachments=g,Object.assign(n,_)}};var f=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){switch(r.type){case l.CRYPTO.RSA.GENERATE_KEYPAIR:u.GENERATE_KEYPAIR({getState:t,dispatch:n,next:e,action:r});break;case l.SAVE_THREAD:try{p.DECRYPT_MESSAGES_IN_THREAD({getState:t,dispatch:n,next:e,action:r}),e(r)}catch(e){n(s.LOG_DEBUG_MESSAGE('ERROR: "DECRYPT_MESSAGES_IN_THREAD"',e.message))}break;case l.SEND_EMAIL.REPLY:case l.SEND_EMAIL.NEW_MESSAGE:try{p.ENCRYPT_OUTBOUND_MESSAGE({getState:t,dispatch:n,next:e,action:r}),e(r)}catch(e){n(s.LOG_DEBUG_MESSAGE('ERROR: "ENCRYPT_OUTBOUND_MESSAGE"',e.message)),n(s.SAVE_APP.DRAFT_MESSAGE.SET_STATUS(4,e.error_message||e.message))}break;default:e(r)}}}};e.exports=f},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=n(1),i=n(91),s=i.Router,c=i.Switch,l=i.Route,u=n(9),p=u.createHashHistory,f=n(116),d=n(3),h=n(117),m=n(118),E=n(119),y=n(120),v=n(121),g=n(130),_=n(133),b=n(40),S=p(),T=function(e,t){var n=e.state,a=(t.store,t.actions),i=t.constants;t.history;if(a.DEBUG("rendering: Router",{state:n}),!n.user.email_address)return o.createElement(E,null);if(!n.app.settings.private_key)return o.createElement(y,{settings:n.app.settings});var u=i.folders.names.map(function(e,t){var n=function(t){var n=t.history;return a.OPEN_FOLDER(e,0,n,!1),null};return o.createElement(l,{exact:!0,strict:!0,path:"/"+e,render:n,key:t})}),p=function(){var e=function(e){var t=e.history;return n.app.ui.thread_id?a.OPEN_THREAD(n.app.ui.thread_id,t,!1):n.app.ui.folder_name?a.OPEN_FOLDER(n.app.ui.folder_name,n.app.ui.start_threads_index||0,t,!1):a.OPEN_FOLDER(i.folders.default,0,t,!1),null};return o.createElement(l,{render:e})}(),d=function(e){return o.createElement(f,{location:S.location.pathname},e)},T=function(){var e=function(e){var t=(e.history,e.match),i=t.params.thread_id;n.app.ui.thread_id!==i&&a.OPEN_THREAD(i);var s=o.createElement(_,r({thread_id:i},n.threads[i],{draft_message:n.app.draft_message}));return o.createElement(v,{state:n,component:s})};return o.createElement(l,{exact:!0,strict:!0,path:"/thread/:thread_id",render:e})}(),A=function(){var e=function(e){var t=e.history,r=e.match,i=r.params,s=i.folder_name,c=i.start_threads_index;if(void 0===c)return a.OPEN_FOLDER(s,0,t,!1),null;c=Number(c),n.app.ui.folder_name===s&&n.app.ui.start_threads_index===c||a.OPEN_FOLDER(s,c);var l=d(o.createElement(g,{folder_name:s,threads:n.threads,thread_ids:n.threads_in_folder[s],start:c||0,max:n.app.settings.max_threads_per_page}));return o.createElement(v,{state:n,component:l})};return o.createElement(l,{exact:!0,strict:!0,path:"/folder/:folder_name/:start_threads_index?",render:e})}(),w=function(){var e=function(e){var t=e.history,r={draft:n.app.draft_message,onDomChange:null,onNewMessage:null,onSend:function(){console.log("Message Sent"),t.replace("/")},onCancel:function(){return console.log("Message Cancelled")},txtCancel:"Cancel"},a=d(o.createElement(b,r));return o.createElement(v,{state:n,component:a})};return o.createElement(l,{exact:!0,strict:!0,path:"/compose",render:e})}(),R=function(){var e=function(){return d(o.createElement(y,{settings:n.app.settings}))};return o.createElement(l,{exact:!0,strict:!0,path:"/settings",render:e})}(),O=function(){var e=function(){return d(o.createElement(h,null))};return o.createElement(l,{exact:!0,strict:!0,path:"/about",render:e})}(),P=function(){var e=function(){return d(o.createElement(m,null))};return o.createElement(l,{exact:!0,strict:!0,path:"/about/TOS",render:e})}();return o.createElement(s,{history:S},o.createElement(c,null,T,A,w,R,O,P,u,p))};T.propTypes={state:a.object.isRequired},T.contextTypes={store:a.object,actions:a.object,constants:a.object,history:a.object},T.requireActions=["DEBUG"],T.displayName="Router",e.exports={history:S,Router:d(T)}},function(e,t,n){"use strict";var r=n(8),o=n(89),a=n(90);e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e,t,n,r,a,i,s,c){if(o(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,i,s,c],p=0;l=new Error(t.replace(/%s/g,function(){return u[p++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var o=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92);n.d(t,"BrowserRouter",function(){return r.a});var o=n(94);n.d(t,"HashRouter",function(){return o.a});var a=n(34);n.d(t,"Link",function(){return a.a});var i=n(96);n.d(t,"MemoryRouter",function(){return i.a});var s=n(101);n.d(t,"NavLink",function(){return s.a});var c=n(103);n.d(t,"Prompt",function(){return c.a});var l=n(105);n.d(t,"Redirect",function(){return l.a});var u=n(36);n.d(t,"Route",function(){return u.a});var p=n(13);n.d(t,"Router",function(){return p.a});var f=n(108);n.d(t,"StaticRouter",function(){return f.a});var d=n(110);n.d(t,"Switch",function(){return d.a});var h=n(112);n.d(t,"matchPath",function(){return h.a});var m=n(113);n.d(t,"withRouter",function(){return m.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(4),s=n.n(i),c=n(0),l=n.n(c),u=n(1),p=n.n(u),f=n(93),d=n.n(f),h=n(13),m=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=o(this,e.call.apply(e,[this].concat(c))),a.history=d()(a.props),i=n,o(a,i)}return a(t,e),t.prototype.componentWillMount=function(){s()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return l.a.createElement(h.a,{history:this.history,children:this.props.children})},t}(l.a.Component);m.propTypes={basename:p.a.string,forceRefresh:p.a.bool,getUserConfirmation:p.a.func,keyLength:p.a.number,children:p.a.node},t.a=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(4),s=r(i),c=n(5),l=r(c),u=n(29),p=n(12),f=n(32),d=r(f),h=n(33),m=function(){try{return window.history.state||{}}catch(e){return{}}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.default)(h.canUseDOM,"Browser history needs a DOM");var t=window.history,n=(0,h.supportsHistory)(),r=!(0,h.supportsPopStateOnHashChange)(),i=e.forceRefresh,c=void 0!==i&&i,f=e.getUserConfirmation,E=void 0===f?h.getConfirmation:f,y=e.keyLength,v=void 0===y?6:y,g=e.basename?(0,p.stripTrailingSlash)((0,p.addLeadingSlash)(e.basename)):"",_=function(e){var t=e||{},n=t.key,r=t.state,o=window.location,a=o.pathname,i=o.search,c=o.hash,l=a+i+c;return(0,s.default)(!g||(0,p.hasBasename)(l,g),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+l+'" to begin with "'+g+'".'),g&&(l=(0,p.stripBasename)(l,g)),(0,u.createLocation)(l,r,n)},b=function(){return Math.random().toString(36).substr(2,v)},S=(0,d.default)(),T=function(e){a(F,e),F.length=t.length,S.notifyListeners(F.location,F.action)},A=function(e){(0,h.isExtraneousPopstateEvent)(e)||O(_(e.state))},w=function(){O(_(m()))},R=!1,O=function(e){if(R)R=!1,T();else{S.confirmTransitionTo(e,"POP",E,function(t){t?T({action:"POP",location:e}):P(e)})}},P=function(e){var t=F.location,n=k.indexOf(t.key);-1===n&&(n=0);var r=k.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(R=!0,I(o))},x=_(m()),k=[x.key],C=function(e){return g+(0,p.createPath)(e)},N=function(e,r){(0,s.default)(!("object"===(void 0===e?"undefined":o(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,u.createLocation)(e,r,b(),F.location);S.confirmTransitionTo(a,"PUSH",E,function(e){if(e){var r=C(a),o=a.key,i=a.state;if(n)if(t.pushState({key:o,state:i},null,r),c)window.location.href=r;else{var l=k.indexOf(F.location.key),u=k.slice(0,-1===l?0:l+1);u.push(a.key),k=u,T({action:"PUSH",location:a})}else(0,s.default)(void 0===i,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},D=function(e,r){(0,s.default)(!("object"===(void 0===e?"undefined":o(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,u.createLocation)(e,r,b(),F.location);S.confirmTransitionTo(a,"REPLACE",E,function(e){if(e){var r=C(a),o=a.key,i=a.state;if(n)if(t.replaceState({key:o,state:i},null,r),c)window.location.replace(r);else{var l=k.indexOf(F.location.key);-1!==l&&(k[l]=a.key),T({action:"REPLACE",location:a})}else(0,s.default)(void 0===i,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},I=function(e){t.go(e)},M=function(){return I(-1)},L=function(){return I(1)},j=0,U=function(e){j+=e,1===j?((0,h.addEventListener)(window,"popstate",A),r&&(0,h.addEventListener)(window,"hashchange",w)):0===j&&((0,h.removeEventListener)(window,"popstate",A),r&&(0,h.removeEventListener)(window,"hashchange",w))},H=!1,G=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=S.setPrompt(e);return H||(U(1),H=!0),function(){return H&&(H=!1,U(-1)),t()}},V=function(e){var t=S.appendListener(e);return U(1),function(){U(-1),t()}},F={length:t.length,action:"POP",location:x,createHref:C,push:N,replace:D,go:I,goBack:M,goForward:L,block:G,listen:V};return F};t.default=E},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(4),s=n.n(i),c=n(0),l=n.n(c),u=n(1),p=n.n(u),f=n(95),d=n.n(f),h=n(13),m=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=o(this,e.call.apply(e,[this].concat(c))),a.history=d()(a.props),i=n,o(a,i)}return a(t,e),t.prototype.componentWillMount=function(){s()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},t.prototype.render=function(){return l.a.createElement(h.a,{history:this.history,children:this.props.children})},t}(l.a.Component);m.propTypes={basename:p.a.string,getUserConfirmation:p.a.func,hashType:p.a.oneOf(["hashbang","noslash","slash"]),children:p.a.node},t.a=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(4),i=r(a),s=n(5),c=r(s),l=n(29),u=n(12),p=n(32),f=r(p),d=n(33),h={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+(0,u.stripLeadingSlash)(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:u.stripLeadingSlash,decodePath:u.addLeadingSlash},slash:{encodePath:u.addLeadingSlash,decodePath:u.addLeadingSlash}},m=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},E=function(e){return window.location.hash=e},y=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(d.canUseDOM,"Hash history needs a DOM");var t=window.history,n=(0,d.supportsGoWithoutReloadUsingHash)(),r=e.getUserConfirmation,a=void 0===r?d.getConfirmation:r,s=e.hashType,p=void 0===s?"slash":s,v=e.basename?(0,u.stripTrailingSlash)((0,u.addLeadingSlash)(e.basename)):"",g=h[p],_=g.encodePath,b=g.decodePath,S=function(){var e=b(m());return(0,i.default)(!v||(0,u.hasBasename)(e,v),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+v+'".'),v&&(e=(0,u.stripBasename)(e,v)),(0,l.createLocation)(e)},T=(0,f.default)(),A=function(e){o(K,e),K.length=t.length,T.notifyListeners(K.location,K.action)},w=!1,R=null,O=function(){var e=m(),t=_(e);if(e!==t)y(t);else{var n=S(),r=K.location;if(!w&&(0,l.locationsAreEqual)(r,n))return;if(R===(0,u.createPath)(n))return;R=null,P(n)}},P=function(e){if(w)w=!1,A();else{T.confirmTransitionTo(e,"POP",a,function(t){t?A({action:"POP",location:e}):x(e)})}},x=function(e){var t=K.location,n=D.lastIndexOf((0,u.createPath)(t));-1===n&&(n=0);var r=D.lastIndexOf((0,u.createPath)(e));-1===r&&(r=0);var o=n-r;o&&(w=!0,j(o))},k=m(),C=_(k);k!==C&&y(C);var N=S(),D=[(0,u.createPath)(N)],I=function(e){return"#"+_(v+(0,u.createPath)(e))},M=function(e,t){(0,i.default)(void 0===t,"Hash history cannot push state; it is ignored");var n=(0,l.createLocation)(e,void 0,void 0,K.location);T.confirmTransitionTo(n,"PUSH",a,function(e){if(e){var t=(0,u.createPath)(n),r=_(v+t);if(m()!==r){R=t,E(r);var o=D.lastIndexOf((0,u.createPath)(K.location)),a=D.slice(0,-1===o?0:o+1);a.push(t),D=a,A({action:"PUSH",location:n})}else(0,i.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),A()}})},L=function(e,t){(0,i.default)(void 0===t,"Hash history cannot replace state; it is ignored");var n=(0,l.createLocation)(e,void 0,void 0,K.location);T.confirmTransitionTo(n,"REPLACE",a,function(e){if(e){var t=(0,u.createPath)(n),r=_(v+t);m()!==r&&(R=t,y(r));var o=D.indexOf((0,u.createPath)(K.location));-1!==o&&(D[o]=t),A({action:"REPLACE",location:n})}})},j=function(e){(0,i.default)(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},U=function(){return j(-1)},H=function(){return j(1)},G=0,V=function(e){G+=e,1===G?(0,d.addEventListener)(window,"hashchange",O):0===G&&(0,d.removeEventListener)(window,"hashchange",O)},F=!1,B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=T.setPrompt(e);return F||(V(1),F=!0),function(){return F&&(F=!1,V(-1)),t()}},Y=function(e){var t=T.appendListener(e);return V(1),function(){V(-1),t()}},K={length:t.length,action:"POP",location:N,createHref:I,push:M,replace:L,go:j,goBack:U,goForward:H,block:B,listen:Y};return K};t.default=v},function(e,t,n){"use strict";var r=n(97);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(4),s=n.n(i),c=n(0),l=n.n(c),u=n(1),p=n.n(u),f=n(9),d=n(14),h=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=o(this,e.call.apply(e,[this].concat(c))),a.history=Object(f.createMemoryHistory)(a.props),i=n,o(a,i)}return a(t,e),t.prototype.componentWillMount=function(){s()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},t.prototype.render=function(){return l.a.createElement(d.a,{history:this.history,children:this.props.children})},t}(l.a.Component);h.propTypes={initialEntries:p.a.array,initialIndex:p.a.number,getUserConfirmation:p.a.func,keyLength:p.a.number,children:p.a.node},t.a=h},function(e,t,n){"use strict";var r=n(4),o=n.n(r),a=n(5),i=n.n(a),s=n(10),c=n(7),l=n(15),u=n(35),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){try{return window.history.state||{}}catch(e){return{}}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i()(u.b,"Browser history needs a DOM");var t=window.history,n=Object(u.g)(),r=!Object(u.h)(),a=e.forceRefresh,h=void 0!==a&&a,m=e.getUserConfirmation,E=void 0===m?u.c:m,y=e.keyLength,v=void 0===y?6:y,g=e.basename?Object(c.g)(Object(c.a)(e.basename)):"",_=function(e){var t=e||{},n=t.key,r=t.state,a=window.location,i=a.pathname,l=a.search,u=a.hash,p=i+l+u;return o()(!g||Object(c.c)(p,g),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+p+'" to begin with "'+g+'".'),g&&(p=Object(c.e)(p,g)),Object(s.a)(p,r,n)},b=function(){return Math.random().toString(36).substr(2,v)},S=Object(l.a)(),T=function(e){f(F,e),F.length=t.length,S.notifyListeners(F.location,F.action)},A=function(e){Object(u.d)(e)||O(_(e.state))},w=function(){O(_(d()))},R=!1,O=function(e){if(R)R=!1,T();else{S.confirmTransitionTo(e,"POP",E,function(t){t?T({action:"POP",location:e}):P(e)})}},P=function(e){var t=F.location,n=k.indexOf(t.key);-1===n&&(n=0);var r=k.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(R=!0,I(o))},x=_(d()),k=[x.key],C=function(e){return g+Object(c.b)(e)},N=function(e,r){o()(!("object"===(void 0===e?"undefined":p(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=Object(s.a)(e,r,b(),F.location);S.confirmTransitionTo(a,"PUSH",E,function(e){if(e){var r=C(a),i=a.key,s=a.state;if(n)if(t.pushState({key:i,state:s},null,r),h)window.location.href=r;else{var c=k.indexOf(F.location.key),l=k.slice(0,-1===c?0:c+1);l.push(a.key),k=l,T({action:"PUSH",location:a})}else o()(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},D=function(e,r){o()(!("object"===(void 0===e?"undefined":p(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=Object(s.a)(e,r,b(),F.location);S.confirmTransitionTo(a,"REPLACE",E,function(e){if(e){var r=C(a),i=a.key,s=a.state;if(n)if(t.replaceState({key:i,state:s},null,r),h)window.location.replace(r);else{var c=k.indexOf(F.location.key);-1!==c&&(k[c]=a.key),T({action:"REPLACE",location:a})}else o()(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},I=function(e){t.go(e)},M=function(){return I(-1)},L=function(){return I(1)},j=0,U=function(e){j+=e,1===j?(Object(u.a)(window,"popstate",A),r&&Object(u.a)(window,"hashchange",w)):0===j&&(Object(u.e)(window,"popstate",A),r&&Object(u.e)(window,"hashchange",w))},H=!1,G=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=S.setPrompt(e);return H||(U(1),H=!0),function(){return H&&(H=!1,U(-1)),t()}},V=function(e){var t=S.appendListener(e);return U(1),function(){U(-1),t()}},F={length:t.length,action:"POP",location:x,createHref:C,push:N,replace:D,go:I,goBack:M,goForward:L,block:G,listen:V};return F};t.a=h},function(e,t,n){"use strict";var r=n(4),o=n.n(r),a=n(5),i=n.n(a),s=n(10),c=n(7),l=n(15),u=n(35),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+Object(c.f)(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:c.f,decodePath:c.a},slash:{encodePath:c.a,decodePath:c.a}},d=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},h=function(e){return window.location.hash=e},m=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i()(u.b,"Hash history needs a DOM");var t=window.history,n=Object(u.f)(),r=e.getUserConfirmation,a=void 0===r?u.c:r,E=e.hashType,y=void 0===E?"slash":E,v=e.basename?Object(c.g)(Object(c.a)(e.basename)):"",g=f[y],_=g.encodePath,b=g.decodePath,S=function(){var e=b(d());return o()(!v||Object(c.c)(e,v),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+v+'".'),v&&(e=Object(c.e)(e,v)),Object(s.a)(e)},T=Object(l.a)(),A=function(e){p(K,e),K.length=t.length,T.notifyListeners(K.location,K.action)},w=!1,R=null,O=function(){var e=d(),t=_(e);if(e!==t)m(t);else{var n=S(),r=K.location;if(!w&&Object(s.b)(r,n))return;if(R===Object(c.b)(n))return;R=null,P(n)}},P=function(e){if(w)w=!1,A();else{T.confirmTransitionTo(e,"POP",a,function(t){t?A({action:"POP",location:e}):x(e)})}},x=function(e){var t=K.location,n=D.lastIndexOf(Object(c.b)(t));-1===n&&(n=0);var r=D.lastIndexOf(Object(c.b)(e));-1===r&&(r=0);var o=n-r;o&&(w=!0,j(o))},k=d(),C=_(k);k!==C&&m(C);var N=S(),D=[Object(c.b)(N)],I=function(e){return"#"+_(v+Object(c.b)(e))},M=function(e,t){o()(void 0===t,"Hash history cannot push state; it is ignored");var n=Object(s.a)(e,void 0,void 0,K.location);T.confirmTransitionTo(n,"PUSH",a,function(e){if(e){var t=Object(c.b)(n),r=_(v+t);if(d()!==r){R=t,h(r);var a=D.lastIndexOf(Object(c.b)(K.location)),i=D.slice(0,-1===a?0:a+1);i.push(t),D=i,A({action:"PUSH",location:n})}else o()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),A()}})},L=function(e,t){o()(void 0===t,"Hash history cannot replace state; it is ignored");var n=Object(s.a)(e,void 0,void 0,K.location);T.confirmTransitionTo(n,"REPLACE",a,function(e){if(e){var t=Object(c.b)(n),r=_(v+t);d()!==r&&(R=t,m(r));var o=D.indexOf(Object(c.b)(K.location));-1!==o&&(D[o]=t),A({action:"REPLACE",location:n})}})},j=function(e){o()(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},U=function(){return j(-1)},H=function(){return j(1)},G=0,V=function(e){G+=e,1===G?Object(u.a)(window,"hashchange",O):0===G&&Object(u.e)(window,"hashchange",O)},F=!1,B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=T.setPrompt(e);return F||(V(1),F=!0),function(){return F&&(F=!1,V(-1)),t()}},Y=function(e){var t=T.appendListener(e);return V(1),function(){V(-1),t()}},K={length:t.length,action:"POP",location:N,createHref:I,push:M,replace:L,go:j,goBack:U,goForward:H,block:B,listen:Y};return K};t.a=E},function(e,t,n){"use strict";var r=n(4),o=n.n(r),a=n(7),i=n(10),s=n(15),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e,t,n){return Math.min(Math.max(e,t),n)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,r=void 0===n?["/"]:n,p=e.initialIndex,f=void 0===p?0:p,d=e.keyLength,h=void 0===d?6:d,m=Object(s.a)(),E=function(e){l(x,e),x.length=x.entries.length,m.notifyListeners(x.location,x.action)},y=function(){return Math.random().toString(36).substr(2,h)},v=u(f,0,r.length-1),g=r.map(function(e){return"string"==typeof e?Object(i.a)(e,void 0,y()):Object(i.a)(e,void 0,e.key||y())}),_=a.b,b=function(e,n){o()(!("object"===(void 0===e?"undefined":c(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=Object(i.a)(e,n,y(),x.location);m.confirmTransitionTo(r,"PUSH",t,function(e){if(e){var t=x.index,n=t+1,o=x.entries.slice(0);o.length>n?o.splice(n,o.length-n,r):o.push(r),E({action:"PUSH",location:r,index:n,entries:o})}})},S=function(e,n){o()(!("object"===(void 0===e?"undefined":c(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=Object(i.a)(e,n,y(),x.location);m.confirmTransitionTo(r,"REPLACE",t,function(e){e&&(x.entries[x.index]=r,E({action:"REPLACE",location:r}))})},T=function(e){var n=u(x.index+e,0,x.entries.length-1),r=x.entries[n];m.confirmTransitionTo(r,"POP",t,function(e){e?E({action:"POP",location:r,index:n}):E()})},A=function(){return T(-1)},w=function(){return T(1)},R=function(e){var t=x.index+e;return t>=0&&t<x.entries.length},O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m.setPrompt(e)},P=function(e){return m.appendListener(e)},x={length:g.length,action:"POP",location:g[v],index:v,entries:g,createHref:_,push:b,replace:S,go:T,goBack:A,goForward:w,canGo:R,block:O,listen:P};return x};t.a=p},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=n(0),a=n.n(o),i=n(1),s=n.n(i),c=n(36),l=n(34),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(e){var t=e.to,n=e.exact,o=e.strict,i=e.location,s=e.activeClassName,f=e.className,d=e.activeStyle,h=e.style,m=e.isActive,E=e.ariaCurrent,y=r(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","ariaCurrent"]);return a.a.createElement(c.a,{path:"object"===(void 0===t?"undefined":p(t))?t.pathname:t,exact:n,strict:o,location:i,children:function(e){var n=e.location,r=e.match,o=!!(m?m(r,n):r);return a.a.createElement(l.a,u({to:t,className:o?[f,s].filter(function(e){return e}).join(" "):f,style:o?u({},h,d):h,"aria-current":o&&E},y))}})};f.propTypes={to:l.a.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func,ariaCurrent:s.a.oneOf(["page","step","location","true"])},f.defaultProps={activeClassName:"active",ariaCurrent:"true"},t.a=f},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=n(104);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),c=n(1),l=n.n(c),u=n(5),p=n.n(u),f=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){p()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(s.a.Component);f.propTypes={when:l.a.bool,message:l.a.oneOfType([l.a.func,l.a.string]).isRequired},f.defaultProps={when:!0},f.contextTypes={router:l.a.shape({history:l.a.shape({block:l.a.func.isRequired}).isRequired}).isRequired},t.a=f},function(e,t,n){"use strict";var r=n(106);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),c=n(1),l=n.n(c),u=n(4),p=n.n(u),f=n(5),d=n.n(f),h=n(9),m=n(107),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(h.createLocation)(e.to),n=Object(h.createLocation)(this.props.to);if(Object(h.locationsAreEqual)(t,n))return void p()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"');this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"==typeof n?Object(m.a)(n,t.params):E({},n,{pathname:Object(m.a)(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(s.a.Component);y.propTypes={computedMatch:l.a.object,push:l.a.bool,from:l.a.string,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired},y.defaultProps={push:!1},y.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired}).isRequired,staticContext:l.a.object}).isRequired},t.a=y},function(e,t,n){"use strict";var r=n(38),o=n.n(r),a={},i=0,s=function(e){var t=e,n=a[t]||(a[t]={});if(n[e])return n[e];var r=o.a.compile(e);return i<1e4&&(n[e]=r,i++),r},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===e?e:s(e)(t,{pretty:!0})};t.a=c},function(e,t,n){"use strict";var r=n(109);t.a=r.a},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(4),c=n.n(s),l=n(5),u=n.n(l),p=n(0),f=n.n(p),d=n(1),h=n.n(d),m=n(9),E=n(14),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(e){return"/"===e.charAt(0)?e:"/"+e},g=function(e,t){return e?y({},t,{pathname:v(e)+t.pathname}):t},_=function(e,t){if(!e)return t;var n=v(e);return 0!==t.pathname.indexOf(n)?t:y({},t,{pathname:t.pathname.substr(n.length)})},b=function(e){return"string"==typeof e?e:Object(m.createPath)(e)},S=function(e){return function(){u()(!1,"You cannot %s with <StaticRouter>",e)}},T=function(){},A=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a(this,e.call.apply(e,[this].concat(c))),r.createHref=function(e){return v(r.props.basename+b(e))},r.handlePush=function(e){var t=r.props,n=t.basename,o=t.context;o.action="PUSH",o.location=g(n,Object(m.createLocation)(e)),o.url=b(o.location)},r.handleReplace=function(e){var t=r.props,n=t.basename,o=t.context;o.action="REPLACE",o.location=g(n,Object(m.createLocation)(e)),o.url=b(o.location)},r.handleListen=function(){return T},r.handleBlock=function(){return T},i=n,a(r,i)}return i(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.componentWillMount=function(){c()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),o=r(e,["basename","context","location"]),a={createHref:this.createHref,action:"POP",location:_(t,Object(m.createLocation)(n)),push:this.handlePush,replace:this.handleReplace,go:S("go"),goBack:S("goBack"),goForward:S("goForward"),listen:this.handleListen,block:this.handleBlock};return f.a.createElement(E.a,y({},o,{history:a}))},t}(f.a.Component);A.propTypes={basename:h.a.string,context:h.a.object.isRequired,location:h.a.oneOfType([h.a.string,h.a.object])},A.defaultProps={basename:"",location:"/"},A.childContextTypes={router:h.a.object.isRequired},t.a=A},function(e,t,n){"use strict";var r=n(111);t.a=r.a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),c=n(1),l=n.n(c),u=n(4),p=n.n(u),f=n(5),d=n.n(f),h=n(16),m=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){p()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),p()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,o=void 0;return s.a.Children.forEach(t,function(t){if(null==r&&s.a.isValidElement(t)){var a=t.props,i=a.path,c=a.exact,l=a.strict,u=a.sensitive,p=a.from,f=i||p;o=t,r=Object(h.a)(n.pathname,{path:f,exact:c,strict:l,sensitive:u},e.match)}}),r?s.a.cloneElement(o,{location:n,computedMatch:r}):null},t}(s.a.Component);m.contextTypes={router:l.a.shape({route:l.a.object.isRequired}).isRequired},m.propTypes={children:l.a.node,location:l.a.object},t.a=m},function(e,t,n){"use strict";var r=n(16);t.a=r.a},function(e,t,n){"use strict";var r=n(114);t.a=r.a},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=n(0),a=n.n(o),i=n(1),s=n.n(i),c=n(115),l=n.n(c),u=n(37),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){var t=function(t){var n=t.wrappedComponentRef,o=r(t,["wrappedComponentRef"]);return a.a.createElement(u.a,{children:function(t){return a.a.createElement(e,p({},o,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:s.a.func},l()(t,e)};t.a=f},function(e,t,n){"use strict";function r(e,t,n){if("string"!=typeof t){if(p){var f=u(t);f&&f!==p&&r(e,f,n)}var d=s(t);c&&(d=d.concat(c(t)));for(var h=0;h<d.length;++h){var m=d[h];if(!(o[m]||a[m]||n&&n[m])){var E=l(t,m);try{i(e,m,E)}catch(e){}}}return e}return e}var o={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,s=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,p=u&&u(Object);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=n(1),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children||null}}]),t}(s.Component);l.propTypes={location:c.string.isRequired,children:c.instanceOf(s.Component)},e.exports=l},function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(3),i="About",s=function(e,t){var n=t.history,o={TOS:function(e){e.stopPropagation(),e.preventDefault(),n.push("/about/TOS")}};return r.createElement("div",{className:"top-component "+i.toLowerCase()},r.createElement("h3",null,"Secure Webmail"),r.createElement("h4",null,"Purpose"),r.createElement("ul",null,r.createElement("li",null,"Email encryption should be easy!")),r.createElement("h4",null,"Goals"),r.createElement("ul",null,r.createElement("li",null,"All cleartext should be restricted to the client.",r.createElement("ul",null,r.createElement("li",null,"no unencrypted data (ie: message body, file attachments) should ever be shared with the server"))),r.createElement("li",null,"All symmetric encryption keys (ie: AES secret) should be managed by the email application.",r.createElement("ul",null,r.createElement("li",null,"automatic generation of a unique key per message"),r.createElement("li",null,"automatic distribution of this unique key to all recipients of the message"))),r.createElement("li",null,"All asymmetric public encryption keys (ie: RSA) should be managed by the email application.",r.createElement("ul",null,r.createElement("li",null,"automatic storage on the server with a one-to-one association per user account")))),r.createElement("hr",null),r.createElement("h4",null,"Survey of Existing Solutions ",r.createElement("em",null,r.createElement("sup",{className:"small"},"[1-2]"))),r.createElement("ul",null,r.createElement("li",null,"Pretty Good Privacy (PGP) is the ",r.createElement("a",{target:"_blank",href:"https://tools.ietf.org/html/rfc4880"},"standard")," for securing email communication with encryption.",r.createElement("ul",null,r.createElement("li",null,"it works as a technical solution",r.createElement("ul",null,r.createElement("li",null,"the cryptography is sound"))),r.createElement("li",null,"it fails as a practical solution",r.createElement("ul",null,r.createElement("li",null,"there is no defacto keystore from which to obtain asymmetric public keys"),r.createElement("li",null,"support by popular email service providers (ex: Gmail) is non-existent"),r.createElement("li",null,"support by popular email clients (ex: ",r.createElement("a",{target:"_blank",href:"https://support.mozilla.org/en-US/kb/digitally-signing-and-encrypting-messages"},"Thunderbird"),") is very limited"),r.createElement("li",null,"support for basic features in experimental tools that only the technically-minded might use (ex: ",r.createElement("a",{target:"_blank",href:"https://github.com/mailvelope/mailvelope/issues/608"},"mailvelope"),") is incomplete"))))),r.createElement("li",null,"Specialized email service providers that combine a proprietary keystore with a proprietary client, which requires that all email participants use the service to send and receive messages."),r.createElement("li",null,"Specialized services that layer on top of any email service provider.",r.createElement("ul",null,r.createElement("li",null,"encryption can be performed on the client"),r.createElement("li",null,"decryption can be performed on the client"),r.createElement("li",null,"out-of-band communication between email participants is needed to share the symmetric encryption key required to decrypt the message")))),r.createElement("h4",null,"References"),r.createElement("ol",{className:"small"},r.createElement("li",null,r.createElement("a",{target:"_blank",href:"https://trendblog.net/encrypt-gmail-openpgp/"},"https://trendblog.net/encrypt-gmail-openpgp/")),r.createElement("li",null,r.createElement("a",{target:"_blank",href:"http://www.primalsecurity.net/pgp-encryption/"},"http://www.primalsecurity.net/pgp-encryption/"))),r.createElement("hr",null),r.createElement("h4",null,"Proposal for New Solution"),r.createElement("ul",null,r.createElement("li",null,"Specialized service that layers on top of Gmail."),r.createElement("li",null,"Uses Google Apps Script to:",r.createElement("ul",null,r.createElement("li",null,"determine the email address of the currently active Google account"),r.createElement("li",null,"access the content of Gmail threads and messages"),r.createElement("li",null,"store the 1-to-1 association between each email address and an asymmetric public key in the Properties Service")))),r.createElement("h4",null,"Technical Foundation"),r.createElement("ul",null,r.createElement("li",null,r.createElement("a",{target:"_blank",href:"https://developers.google.com/apps-script/"},"Google Apps Script"),r.createElement("ul",null,r.createElement("li",null,"provides APIs to access data from Google services (ex: Gmail)"),r.createElement("li",null,"scripts can run as the currently active Google account",r.createElement("ul",null,r.createElement("li",null,"any permissions needed to access data from Google services must first be granted (ie: one-time)"))),r.createElement("li",null,"scripts can be published as a web app",r.createElement("ul",null,r.createElement("li",null,"perfect for a single-page app (SPA)",r.createElement("ul",null,r.createElement("li",null,"the client side can make asynchronous calls to functions that execute on the server"),r.createElement("li",null,"the server side code can access service APIs and return data to the client"))),r.createElement("li",null,"perfect for integration with React/Redux",r.createElement("ul",null,r.createElement("li",null,"all asynchronous server-side requests can be managed by a single Redux middleware library"),r.createElement("li",null,"when responses are received, the data obtained from the server can be passed to Redux reducers"),r.createElement("li",null,"when the Redux state is changed, React components will render any changes to the user interface (UI)"))))))),r.createElement("li",null,r.createElement("a",{target:"_blank",href:"https://github.com/brix/crypto-js"},"CryptoJS"),r.createElement("ul",null,r.createElement("li",null,"javascript implementation of AES symmetric key encryption",r.createElement("ul",null,r.createElement("li",null,"used to encrypt and decrypt message content (ie: message body, file attachments)"),r.createElement("li",null,"each message is encrypted with a newly generated key",r.createElement("ul",null,r.createElement("li",null,"each key is 245 characters long",r.createElement("ul",null,r.createElement("li",null,"each character is 1-byte ascii in the range: 0-127"))))))))),r.createElement("li",null,r.createElement("a",{target:"_blank",href:"https://github.com/travist/jsencrypt"},"JSEncrypt"),r.createElement("ul",null,r.createElement("li",null,"javascript implementation of RSA asymmetric key encryption",r.createElement("ul",null,r.createElement("li",null,"used to encrypt and decrypt AES keys"),r.createElement("li",null,"each message needs to share the AES key required for decryption with all of its recipients",r.createElement("ul",null,r.createElement("li",null,"the message can be used to distribute the AES key, but its value needs to be encrypted in such a way that only the recipients can recover the AES key",r.createElement("ul",null,r.createElement("li",null,"each recipient has both a public RSA encryption key, as well as a private RSA encryption key"),r.createElement("li",null,"the public RSA encryption key belonging to each of the message recipients can be used to encrypt the AES key"),r.createElement("li",null,"the encrypted value of the AES key is unique to each recipient, and its value can only be decrypted with the private RSA encryption key belonging to the corresponding recipient"),r.createElement("li",null,"the message can include a hash table that maps each recipient to the corresponding encrypted value of the AES key")))))))))),r.createElement("h4",null,"Pros"),r.createElement("ul",null,r.createElement("li",null,"All cryptographic operations are transparent to the end-user.",r.createElement("ul",null,r.createElement("li",null,"initial generation of an asymmetric keypair requires a single mouse-click"),r.createElement("li",null,"persistent storage of the private RSA encryption key is the responsibility of the end-user",r.createElement("ul",null,r.createElement("li",null,"if lost, then all emails sent or received using that keypair can no-longer be decrypted by the corresponding Google account"))))),r.createElement("li",null,"All of the stated goals are satisfied.",r.createElement("ul",null,r.createElement("li",null,"replacing the user interface (UI) to Gmail with a custom single-page app (SPA) gives complete control over what data is shared with the Gmail server",r.createElement("ul",null,r.createElement("li",null,"there is no automatic saving of draft messages"),r.createElement("li",null,"all cryptographic operations are performed in the client"),r.createElement("li",null,"only encrypted data is shared with Gmail for storage and distribution to recipients")))))),r.createElement("h4",null,"Cons"),r.createElement("ul",null,r.createElement("li",null,"Cannot send messages to non-Gmail recipients.")),r.createElement("hr",null),r.createElement("h4",null,"About the Author"),r.createElement("p",null,r.createElement("img",{src:"https://avatars3.githubusercontent.com/u/6810270",alt:"Warren Bank"})),r.createElement("p",null,r.createElement("span",{className:"small"},"")," ",r.createElement("a",{target:"_blank",href:"https://github.com/warren-bank"},"Warren Bank")),r.createElement("hr",null),r.createElement("h4",null,"License"),r.createElement("ul",null,r.createElement("li",null,r.createElement("a",{target:"_blank",href:"https://choosealicense.com/no-permission/"},"No license."),r.createElement("ul",null,r.createElement("li",null,"the source code is publicly available for the purpose of security audit"),r.createElement("li",null,"full copyright is held by the author",r.createElement("ul",null,r.createElement("li",null,"code contributions will ",r.createElement("strong",null,"NOT")," be accepted, unless the contributor transfers copyright ownership to the author"))),r.createElement("li",null,"permission is ",r.createElement("strong",null,"NOT")," granted to any other individual or business entity to host (publicly or privately) any of the source code (in its original form or in any derived form)",r.createElement("ul",null,r.createElement("li",null,"derivation includes but is not limited to:",r.createElement("ul",null,r.createElement("li",null,"modification"),r.createElement("li",null,"obfuscation"),r.createElement("li",null,"minification"),r.createElement("li",null,"compilation"),r.createElement("li",null,"transcompilation"))))))),r.createElement("li",null,"A private license is available for purchase.",r.createElement("ul",null,r.createElement("li",null,"intended for use by a limited number of members belonging to a private organization"),r.createElement("li",null,"implications:",r.createElement("ul",null,r.createElement("li",null,"when the source code is published, the new instance does not share the same Properties Service key-value store",r.createElement("ul",null,r.createElement("li",null,"this store is used to associate each email address with its asymmetric public encryption key"),r.createElement("li",null,"this store will only contain the email addresses belonging to members of the private organization"),r.createElement("li",null,"encrypted messages can only be sent between members of this limited set of email addresses")))))))),r.createElement("hr",null),r.createElement("h4",null,r.createElement("a",{href:"#TOS",onClick:o.TOS},"Terms of Service")))};s.contextTypes={history:o.object.isRequired},s.displayName=i,e.exports=a(s)},function(e,t,n){"use strict";var r=n(0),o=n(3),a="TermsOfService",i=function(){return r.createElement("div",{className:"top-component "+a.toLowerCase()},r.createElement("h3",null,"Secure Webmail Terms of Service"),r.createElement("p",{className:"small"},"Last modified: November 06, 2018"),r.createElement("h4",null,"Welcome to Secure Webmail!"),r.createElement("p",null,"Thanks for using our products and services (Services)."),r.createElement("p",null,"By using our Services, you are agreeing to these terms. Please read them carefully."),r.createElement("h4",null,r.createElement("div",{id:"toc-services"}),"Using our Services"),r.createElement("p",null,"You must follow any policies made available to you within the Services."),r.createElement("p",null,"Dont misuse our Services. For example, dont interfere with our Services or try to access them using a method other than the interface and the instructions that we provide. You may use our Services only as permitted by law, including applicable export and re-export control laws and regulations. We may suspend or stop providing our Services to you if you do not comply with our terms or policies or if we are investigating suspected misconduct."),r.createElement("p",null,"Using our Services does not give you ownership of any intellectual property rights in our Services or the content you access. You may not use content from our Services unless you obtain permission from its owner or are otherwise permitted by law. These terms do not grant you the right to use any branding or logos used in our Services. Dont remove, obscure, or alter any legal notices displayed in or along with our Services."),r.createElement("p",null,"Our Services display some content that is not our own. This content is the sole responsibility of the entity that makes it available. Due to encryption, we are not able to review content to determine whether it is illegal or violates our policies."),r.createElement("p",null,"Some of our Services are available on mobile devices. Do not use such Services in a way that distracts you and prevents you from obeying traffic or safety laws."),r.createElement("h4",null,r.createElement("div",{id:"toc-account"}),"Your Google Account"),r.createElement("p",null,"You will need a Google Account in order to use our Services. You may create your own Google Account, or your Google Account may be assigned to you by an administrator, such as your employer or educational institution. If you are using a Google Account assigned to you by an administrator, different or additional terms may apply and your administrator may be able to access or disable your account."),r.createElement("h4",null,r.createElement("div",{id:"toc-protection"}),"Privacy and Copyright Protection"),r.createElement("p",null,"Our Services require that you grant permission to access messages in your Gmail account. Our Services will access only the minimum amount of data required to perform their proper operation. Our Services will not retain any data or meta-data belonging to your Gmail account. Our Services will not come into possession of the encryption key(s) necessary to decrypt any of the messages sent using our Services through your Gmail account. Due to encryption, we are not able to respond to notices of alleged copyright infringement."),r.createElement("h4",null,r.createElement("div",{id:"toc-software"}),"About Software in our Services"),r.createElement("p",null,"The copyright holder of our Services gives you a personal, worldwide, royalty-free, non-assignable and non-exclusive license to use the software provided to you as part of the Services. This license is for the sole purpose of enabling you to use and enjoy the benefit of the Services as provided by the copyright holder, in the manner permitted by these terms. You may not copy, modify, distribute, sell, or lease any part of our Services or included software, nor may you reverse engineer or attempt to extract the source code of that software, unless laws prohibit those restrictions or you have our written permission."),r.createElement("p",null,"Open source software is important to us. Some software used in our Services may be offered under an open source license that we will make available to you. There may be provisions in the open source license that expressly override some of these terms."),r.createElement("h4",null,r.createElement("div",{id:"toc-modification"}),"Modifying and Terminating our Services"),r.createElement("p",null,"We are constantly changing and improving our Services. We may add or remove functionalities or features, and we may suspend or stop a Service altogether."),r.createElement("p",null,"You can stop using our Services at any time, although well be sorry to see you go. The copyright holder may also stop providing Services to you, or add or create new limits to our Services at any time."),r.createElement("p",null,"We believe that you own your data and preserving your access to such data is important. If we discontinue a Service, where reasonably possible, we will give you reasonable advance notice and a chance to get information out of that Service."),r.createElement("h4",null,r.createElement("div",{id:"toc-warranties-disclaimers"}),"Our Warranties and Disclaimers"),r.createElement("p",null,"We provide our Services using a commercially reasonable level of skill and care and we hope that you will enjoy using them. But there are certain things that we dont promise about our Services."),r.createElement("p",null,"OTHER THAN AS EXPRESSLY SET OUT IN THESE TERMS OR ADDITIONAL TERMS, NEITHER THE COPYRIGHT HOLDER NOR SUPPLIERS OR DISTRIBUTORS MAKE ANY SPECIFIC PROMISES ABOUT THE SERVICES. FOR EXAMPLE, WE DONT MAKE ANY COMMITMENTS ABOUT THE CONTENT WITHIN THE SERVICES, THE SPECIFIC FUNCTIONS OF THE SERVICES, OR THEIR RELIABILITY, AVAILABILITY, OR ABILITY TO MEET YOUR NEEDS. WE PROVIDE THE SERVICES AS IS."),r.createElement("p",null,"SOME JURISDICTIONS PROVIDE FOR CERTAIN WARRANTIES, LIKE THE IMPLIED WARRANTY OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. TO THE EXTENT PERMITTED BY LAW, WE EXCLUDE ALL WARRANTIES."),r.createElement("h4",null,r.createElement("div",{id:"toc-liability"}),"Liability for our Services"),r.createElement("p",null,"WHEN PERMITTED BY LAW, THE COPYRIGHT HOLDER, AND SUPPLIERS AND DISTRIBUTORS, WILL NOT BE RESPONSIBLE FOR LOST PROFITS, REVENUES, OR DATA, FINANCIAL LOSSES OR INDIRECT, SPECIAL, CONSEQUENTIAL, EXEMPLARY, OR PUNITIVE DAMAGES."),r.createElement("p",null,"TO THE EXTENT PERMITTED BY LAW, THE TOTAL LIABILITY OF THE COPYRIGHT HOLDER, AND SUPPLIERS AND DISTRIBUTORS, FOR ANY CLAIMS UNDER THESE TERMS, INCLUDING FOR ANY IMPLIED WARRANTIES, IS LIMITED TO THE AMOUNT YOU PAID US TO USE THE SERVICES (OR, IF WE CHOOSE, TO SUPPLYING YOU THE SERVICES AGAIN)."),r.createElement("p",null,"IN ALL CASES, THE COPYRIGHT HOLDER, AND SUPPLIERS AND DISTRIBUTORS, WILL NOT BE LIABLE FOR ANY LOSS OR DAMAGE THAT IS NOT REASONABLY FORESEEABLE."),r.createElement("h4",null,r.createElement("div",{id:"toc-business-uses"}),"Business uses of our Services"),r.createElement("p",null,"If you are using our Services on behalf of a business, that business accepts these terms. It will hold harmless and indemnify the copyright holder and affiliates, officers, agents, and employees from any claim, suit or action arising from or related to the use of the Services or violation of these terms, including any liability or expense arising from claims, losses, damages, suits, judgments, litigation costs and attorneys fees."),r.createElement("h4",null,r.createElement("div",{id:"toc-about"}),"About these Terms"),r.createElement("p",null,"We may modify these terms or any additional terms that apply to a Service to, for example, reflect changes to the law or changes to our Services. You should look at the terms regularly. Well post notice of modifications to these terms on this page. Well post notice of modified additional terms in the applicable Service. Changes will not apply retroactively and will become effective no sooner than fourteen days after they are posted. However, changes addressing new functions for a Service or changes made for legal reasons will be effective immediately. If you do not agree to the modified terms for a Service, you should discontinue your use of that Service."),r.createElement("p",null,"If there is a conflict between these terms and the additional terms, the additional terms will control for that conflict."),r.createElement("p",null,"These terms control the relationship between the copyright holder and you. They do not create any third party beneficiary rights."),r.createElement("p",null,"If you do not comply with these terms, and we dont take action right away, this doesnt mean that we are giving up any rights that we may have (such as taking action in the future)."),r.createElement("p",null,"If it turns out that a particular term is not enforceable, this will not affect any other terms."),r.createElement("p",null,"The laws of California, U.S.A., excluding Californias conflict of laws rules, will apply to any disputes arising out of or relating to these terms or the Services. All claims arising out of or relating to these terms or the Services will be litigated exclusively in the federal or state courts of Santa Clara County, California, USA, and you and the copyright holder consent to personal jurisdiction in those courts."))};i.displayName=a,e.exports=o(i)},function(e,t,n){"use strict";var r=n(0),o=n(3),a="NoEmail",i=function(){return r.createElement("div",{className:"top-component "+a.toLowerCase()},"Please log into a Google account.")};i.displayName=a,e.exports=o(i)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=n(1),p=n(27),f="Settings",d=n(17).global_resizeParentIframe,h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.get_state_from_props(e),n.eventHandlers={onChange:n.handleChange.bind(n),onSubmit:n.handleSubmit.bind(n),onCancel:n.handleCancel.bind(n),onClick:{generate_keypair:n.generate_keypair.bind(n)}},n}return i(t,e),c(t,[{key:"componentDidMount",value:function(){d()}},{key:"componentDidUpdate",value:function(){d()}},{key:"componentWillReceiveProps",value:function(e){var t=this.get_state_from_props(e);this.setState(t)}},{key:"get_state_from_props",value:function(e){var t=e.settings;return s({},t)}},{key:"handleChange",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget.id,n=e.currentTarget.value,o=r({},t,n);this.setState(o)}},{key:"handleSubmit",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.state,n=t.max_threads_per_page,r=t.private_key,o=t.private_key_storage,a=this.does_private_match_public(r);if(a>0){var i=void 0;switch(a){case 1:i=['The server reports that no "public key" is associated with the current Google user account.',"","If this is incorrect, then please reload the webpage.","","Otherwise, you may generate a new keypair.",'The server will automatically store the "public key".','You MUST save the "private key".',"If you lose this value, then you will NOT be able to read the encrypted email sent to you."].join("\n");break;case 2:i=['The "private key" value entered is not valid.',"Please try again."].join("\n");break;case 3:i=["ERROR:","",'Redux state contains a "public key" value obtained from the server which is already associated with the current Google user account.',"",'The "private key" on this page cannot be saved because it does not form a valid cryptographic keypair.',"","Please try again."].join("\n")}return void(i&&window.alert(i))}n=Number(n),o=Number(o),this.props.settings.max_threads_per_page===n&&this.props.settings.private_key===r&&this.props.settings.private_key_storage===o||this.context.actions.UPDATE_SETTINGS(n,r,o),"/settings"===this.context.history.location.pathname&&this.context.history.replace("/")}},{key:"handleCancel",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.get_state_from_props(this.props);this.setState(t)}},{key:"does_private_match_public",value:function(e){var t=this.state.public_key,n=void 0;if(!t)return 1;try{n=p.RSA.get_public_key(e)}catch(e){return 2}var r=/[\r\n\s\t]/g;return t=t.replace(r,""),n=n.replace(r,""),t!==n?3:0}},{key:"should_keypair_allow_update",value:function(){if(!this.state.public_key)return!1;var e=["WARNING:","",'Redux state contains a "public key" value obtained from the server which is already associated with the current Google user account.',"","Updating the associated keypair will cause your mailbox to diverge:",'  (1) the previous "private key" will be required to decrypt older messages, and','  (2) the updated "private key" will be required to decrypt newer messages.',"","You should only consider updating your keypair if either:",'  (1) you have lost your "private key" and are no-longer able to read your encrypted messages, or','  (2) an untrusted 3rd party has gained access to your "private key".',"","Proceed with creation of new keypair?"].join("\n");return!!window.confirm(e)||null}},{key:"generate_keypair",value:function(e){if(e.stopPropagation(),e.preventDefault(),!0!==this.state.is_generating_keypair){var t=this.should_keypair_allow_update();null!==t&&this.context.actions.GENERATE_KEYPAIR(t)}}},{key:"get_private_key_storage_options",value:function(){return["Do not store private key",'Use "sessionStorage" to store private key','Use "localStorage" to store private key'].map(function(e,t){return l.createElement("option",{value:t,key:t},e)})}},{key:"render",value:function(){this.context.actions.DEBUG("rendering: "+f,{settings:this.state});var e=this.get_private_key_storage_options();return l.createElement("div",{className:"top-component "+f.toLowerCase()},l.createElement("form",{onSubmit:this.eventHandlers.onSubmit},l.createElement("label",{for:"max_threads_per_page"},"Number of thread summaries to display in paginated folder list:"),l.createElement("input",{id:"max_threads_per_page",type:"number",value:this.state.max_threads_per_page,onChange:this.eventHandlers.onChange}),l.createElement("label",{for:"private_key"},"Private RSA Encryption Key:"),l.createElement("textarea",{id:"private_key",value:this.state.private_key,onChange:this.eventHandlers.onChange,disabled:!this.state.public_key}),!0!==this.state.is_generating_keypair?l.createElement("span",{className:"icon button generate-keypair",role:"img",title:"Generate Keypair",onClick:this.eventHandlers.onClick.generate_keypair}):l.createElement("span",{className:"icon loader is-generating"}),l.createElement("label",{for:"private_key_storage"},"Storage Private Key:"),l.createElement("select",{id:"private_key_storage",value:this.state.private_key_storage,onChange:this.eventHandlers.onChange},e),l.createElement("div",{className:"buttons"},l.createElement("input",{className:"send",type:"submit",value:"Save Settings",disabled:this.state.is_generating_keypair}),l.createElement("input",{className:"cancel",type:"button",value:"Reset",onClick:this.eventHandlers.onCancel}))))}}]),t}(l.PureComponent);h.propTypes={settings:u.object.isRequired},h.contextTypes={actions:u.object.isRequired,history:u.object.isRequired},e.exports=h},function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(3),i="App",s=n(122)("./"+i+"/Header"),c=n(124)("./"+i+"/Sidebar"),l=function(e){var t=e.state,n=e.component;return r.createElement("div",{className:"top-component "+i.toLowerCase()},r.createElement(s,{user:t.user}),r.createElement(c,{folders:t.folders,active_folder:t.app.ui.folder_name}),n)};l.propTypes={state:o.object.isRequired,component:o.instanceOf(r.Component).isRequired},l.displayName=i,e.exports=a(l)},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./App/Header":123};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=122},function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(3),i="Header",s=function(e,t){var n=e.user,o=t.history,a={settings:function(){return o.push("/settings")},about:function(){return o.push("/about")}};return r.createElement("div",{className:"component "+i.toLowerCase()},r.createElement("span",{onClick:a.settings,className:"settings_button"}),r.createElement("span",{onClick:a.about,className:"title"},"Secure Webmail"),r.createElement("span",null,"Google Account: "),r.createElement("span",{className:"email_address"},n.email_address))};s.propTypes={user:o.object.isRequired},s.contextTypes={history:o.object.isRequired},s.displayName=i,e.exports=a(s)},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./App/Sidebar":125};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=124},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=n(1),i=n(3),s="Sidebar",c=n(126)("./"+s+"/Compose_New"),l=n(128)("./"+s+"/Folder"),u=function(e,t){var n=e.folders,a=e.active_folder,i=t.actions,u=t.history;i.DEBUG("rendering: "+s,{folders:n,active_folder:a});var p=o.createElement(c,{onClick:i.OPEN_COMPOSE_MESSAGE.bind(void 0,u,!0)}),f=n.map(function(e){return o.createElement(l,r({},e,{key:e.folder_name,onClick:i.OPEN_FOLDER.bind(void 0,e.folder_name,0,u,!0,!1),active:a===e.folder_name}))});return o.createElement("div",{className:"component "+s.toLowerCase()},p,f)};u.propTypes={folders:a.arrayOf(a.object).isRequired,active_folder:a.string.isRequired},u.contextTypes={actions:a.object.isRequired,history:a.object.isRequired},u.requireActions=["DEBUG","OPEN_COMPOSE_MESSAGE","OPEN_FOLDER"],u.displayName=s,e.exports=i(u)},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./Sidebar/Compose_New":127};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=126},function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(3),i="Compose_New",s=function(e){var t=e.onClick;return r.createElement("div",{className:"component "+i.toLowerCase(),onClick:t},r.createElement("span",null,"Compose"))};s.propTypes={onClick:o.func.isRequired},s.displayName=i,e.exports=a(s)},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./Sidebar/Folder":129};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=128},function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(3),i="Folder",s=function(e){var t=(e.folder_name,e.title),n=e.unread_count,o=e.onClick,a=e.active;return r.createElement("div",{className:"component "+i.toLowerCase()+" "+(a?"active":""),onClick:o},r.createElement("span",{className:"title"},t),r.createElement("span",{className:"unread_count "+(0===n?"no_unread":"")},n))};s.propTypes={folder_name:o.string.isRequired,title:o.string.isRequired,unread_count:o.number.isRequired,onClick:o.func.isRequired,active:o.bool.isRequired},s.displayName=i,e.exports=a(s)},function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(3),i="Folder",s=n(131)("./"+i+"/Thread_Summary"),c=function(e,t){var n=e.folder_name,o=e.threads,a=e.thread_ids,c=e.start,l=e.max,u=t.actions,p=t.constants,f=t.history;u.DEBUG("rendering: "+i,{folder_name:n,threads:o,thread_ids:a,start:c});var d={nav:{start:{back:null,forward:null},onClick:{back:null,forward:null,refresh:null}},folder_title:null,pagination:{thread_ids:null}},h=void 0,m=void 0;c>0&&(h=c-l,d.nav.start.back=h>0?h:0),m=a?a.length:0,h=c+l,h<m?d.nav.start.forward=h:h===m&&(d.nav.start.forward=h),null!==d.nav.start.back&&(d.nav.onClick.back=u.OPEN_FOLDER.bind(void 0,n,d.nav.start.back,f,!1,!1)),null!==d.nav.start.forward&&(d.nav.onClick.forward=u.OPEN_FOLDER.bind(void 0,n,d.nav.start.forward,f,!1,!1)),d.nav.onClick.refresh=u.OPEN_FOLDER.bind(void 0,n,0,f,!1,!0);var E=p.folders.names.indexOf(n);if(d.folder_title=E>=0?p.folders.titles[E]:n,m&&(d.pagination.thread_ids=a.slice(c,c+l)),!d.pagination.thread_ids||!d.pagination.thread_ids.length)return r.createElement("div",{className:"component "+i.toLowerCase()},r.createElement("h1",null,d.folder_title),r.createElement("div",{className:"loading"},r.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif"})));var y=[];return d.pagination.thread_ids.forEach(function(e){var t=o[e];t&&t.summary&&t.settings&&y.push(r.createElement(s,{key:e,thread_id:e,summary:t.summary,settings:t.settings}))}),r.createElement("div",{className:"component "+i.toLowerCase()},r.createElement("div",{className:"action_buttons"},null!==d.nav.start.back&&r.createElement("div",{className:"button back",onClick:d.nav.onClick.back}),r.createElement("div",{className:"button refresh",onClick:d.nav.onClick.refresh}),null!==d.nav.start.forward&&r.createElement("div",{className:"button forward",onClick:d.nav.onClick.forward})),r.createElement("h1",null,d.folder_title),r.createElement("div",{className:"thread_summaries"},y))};c.propTypes={folder_name:o.string.isRequired,threads:o.object.isRequired,thread_ids:o.arrayOf(o.string).isRequired,start:o.number.isRequired,max:o.number.isRequired},c.contextTypes={actions:o.object.isRequired,constants:o.object.isRequired,history:o.object.isRequired},c.requireActions=["DEBUG","OPEN_FOLDER"],c.displayName=i,e.exports=a(c)},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./Folder/Thread_Summary":132};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=131},function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(3),i="Thread_Summary",s=n(39)[i],c=function(e,t){var n=e.thread_id,o=e.summary,a=e.settings,c=t.actions,l=t.constants,u=t.history;c.DEBUG("rendering: "+i,{thread_id:n,summary:o,settings:a});var p=s(o.date_modified,l.months),f={open:c.OPEN_THREAD.bind(void 0,n,u,!0),unread:c.UPDATE_THREAD.MARK_UNREAD.bind(void 0,n,!a.unread),important:c.UPDATE_THREAD.MARK_IMPORTANT.bind(void 0,n,!a.important),inbox:a.inbox?null:c.UPDATE_THREAD.MOVE_TO_INBOX.bind(void 0,n),trash:a.trash?null:c.UPDATE_THREAD.MOVE_TO_TRASH.bind(void 0,n),spam:a.spam?null:c.UPDATE_THREAD.MOVE_TO_SPAM.bind(void 0,n)};return r.createElement("div",{className:"component "+i.toLowerCase()+" "+(a.unread?"unread":""),onClick:f.open},r.createElement("div",{className:"col col_1"},r.createElement("span",{className:"msg_count"},"(",o.msg_count,")")),r.createElement("div",{className:"col col_2"},r.createElement("span",{className:"from",role:"tooltip",title:o.from},o.from)),r.createElement("div",{className:"col col_3"},r.createElement("span",{className:"subject"},o.subject),r.createElement("span",null,"-"),r.createElement("span",{className:"body"},o.body)),r.createElement("div",{className:"col col_4"},r.createElement("span",{className:"date_modified"},p)),r.createElement("div",{className:"col col_5"},r.createElement("div",{className:"settings_buttons"},r.createElement("div",{className:"button unread    "+(a.unread?"is_unread":"not_unread"),onClick:f.unread,role:"img",title:a.unread?"Mark Read":"Mark Unread"}),r.createElement("div",{className:"button important "+(a.important?"is_important":"not_important"),onClick:f.important,role:"img",title:a.important?"Mark Unimportant":"Mark Important"}),null!==f.inbox&&r.createElement("div",{className:"button inbox",onClick:f.inbox,role:"img",title:"Move to Inbox"}),null!==f.trash&&r.createElement("div",{className:"button trash",onClick:f.trash,role:"img",title:"Move to Trash"}),null!==f.spam&&r.createElement("div",{className:"button spam",onClick:f.spam,role:"img",title:"Move to Spam"}))))};c.propTypes={thread_id:o.string.isRequired,summary:o.object.isRequired,settings:o.object.isRequired},c.contextTypes={actions:o.object.isRequired,constants:o.object.isRequired,history:o.object.isRequired},c.requireActions=["DEBUG","OPEN_THREAD","UPDATE_THREAD"],c.displayName=i,e.exports=a(c)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(0),i=n(1),s=n(3),c="Thread",l=n(134)("./"+c+"/Message"),u=n(40),p=n(152),f=n(17).global_resizeParentIframe,d=new p;d.componentDidUpdate=d.componentDidUpdate.bind(d),d.scrollToBottom=d.scrollToBottom.bind(d);var h=function(e,t){var n=e.thread_id,i=e.summary,s=e.settings,p=e.messages,h=e.participants,m=e.draft_message,E=t.store,y=t.actions;t.history;if(y.DEBUG("rendering: "+c,{thread_id:n,summary:i,settings:s}),d.set_logger(y.DEBUG),s&&s.unread&&y.UPDATE_THREAD.MARK_UNREAD(n,!1),!(i&&s&&p&&p.length))return a.createElement("div",{className:"component "+c.toLowerCase()},a.createElement("div",{className:"loading"},a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif"})));var v=p.map(function(e,t){var r=!0===e.settings.star||t===p.length-1,i=f.bind(void 0,!1);return a.createElement(l,o({key:e.message_id},e,{thread_id:n,start_expanded:r,onExpandCollapse:i}))}),g=void 0,_={draft:m,onDomChange:null,onNewMessage:function(){d.scrollToBottom(),f(!0)},onSend:function(){console.log("Reply Sent"),d.scrollToBottom()},onCancel:function(){return console.log("Reply Cancelled")},txtCancel:"Cancel"};g=a.createElement(u,_);!function(){if(!m.status.code){var e=p[p.length-1],t=E.getState(),o=t.user.email_address,a=e.summary.from,i=e.summary.to.filter(function(e){return e!==o}),s=[].concat(r(i),[a,o]),l=h.filter(function(e){return-1===s.indexOf(e)}),u=[],f=function(){for(var e=!1,t={is_reply:!0,thread_id:n,recipient:a},r=Object.keys(t),o=0;!e&&o<r.length;o++){var s=r[o];m[s]!==t[s]&&(e=!0)}return e=e||m.cc.length!==i.length,e=e||m.cc.join(",")!==i.join(","),e=e||m.cc_suggestions.length!==l.length,e=e||m.cc_suggestions.join(",")!==l.join(",")}();f?y.DEBUG("SAVING DRAFT MESSAGE",{origin:c,old_draft:m,new_draft:{is_reply:!0,thread_id:n,recipient:a,cc:i,cc_suggestions:l,subject:"",body:"",attachments:u}}):y.DEBUG("DRAFT MESSAGE IS NOT MODIFIED",{origin:c,draft:m}),f&&y.SAVE_DRAFT_MESSAGE(!0,n,a,i,l,"","",u)}}();var b={unread:y.UPDATE_THREAD.MARK_UNREAD.bind(void 0,n,!s.unread),important:y.UPDATE_THREAD.MARK_IMPORTANT.bind(void 0,n,!s.important),inbox:s.inbox?null:y.UPDATE_THREAD.MOVE_TO_INBOX.bind(void 0,n),trash:s.trash?null:y.UPDATE_THREAD.MOVE_TO_TRASH.bind(void 0,n),spam:s.spam?null:y.UPDATE_THREAD.MOVE_TO_SPAM.bind(void 0,n)};return setTimeout(d.scrollToBottom,0),a.createElement("div",{className:"component "+c.toLowerCase(),ref:d.componentDidUpdate},a.createElement("h1",null,i.subject),a.createElement("div",{className:"action_buttons"},a.createElement("div",{className:"button unread    "+(s.unread?"is_unread":"not_unread"),onClick:b.unread,role:"img",title:s.unread?"Mark Read":"Mark Unread"}),a.createElement("div",{className:"button important "+(s.important?"is_important":"not_important"),onClick:b.important,role:"img",title:s.important?"Mark Unimportant":"Mark Important"}),null!==b.inbox&&a.createElement("div",{className:"button inbox",onClick:b.inbox,role:"img",title:"Move to Inbox"}),null!==b.trash&&a.createElement("div",{className:"button trash",onClick:b.trash,role:"img",title:"Move to Trash"}),null!==b.spam&&a.createElement("div",{className:"button spam",onClick:b.spam,role:"img",title:"Move to Spam"})),a.createElement("div",{className:"messages"},v),a.createElement("div",{className:"compose_reply"},g))};h.propTypes={thread_id:i.string.isRequired,summary:i.object.isRequired,settings:i.object.isRequired,messages:i.arrayOf(i.object).isRequired,participants:i.arrayOf(i.string).isRequired,draft_message:i.object.isRequired},h.contextTypes={store:i.object.isRequired,actions:i.object.isRequired,history:i.object.isRequired},h.requireActions=["DEBUG","UPDATE_THREAD","SAVE_DRAFT_MESSAGE"],h.postRender=f.bind(void 0,!0),h.displayName=c,e.exports=s(h)},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./Thread/Message":135};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=134},function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(3),i="Message",s=n(136),c=n(137),l=n(144)("./"+i+"/Message_Summary"),u=n(146)("./"+i+"/Message_Contents"),p=function(e){var t=e.thread_id,n=e.message_id,o=e.summary,a=e.settings,p=e.contents,f=e.start_expanded,d=e.onExpandCollapse;if(!p||!(p.body||Array.isArray(p.attachments)&&p.attachments.length))return null;var h=s(p.body.substring(0,160)),m=r.createElement(l,{thread_id:t,message_id:n,body:h,summary:o,settings:a}),E=r.createElement(u,{contents:p});return r.createElement("div",{className:"component "+i.toLowerCase()},r.createElement(c,{label:m,content:E,start_expanded:f,onExpandCollapse:d}))};p.propTypes={thread_id:o.string.isRequired,message_id:o.string.isRequired,summary:o.object.isRequired,settings:o.object.isRequired,contents:o.object.isRequired,start_expanded:o.bool,onExpandCollapse:o.func},p.displayName=i,e.exports=a(p)},function(e,t,n){"use strict";var r=function(e){return e.replace(/[^a-zA-Z0-9 \.\,\?\!\-\+\_\~\@\#\$\%\&\*\(\)\:\/\\]/g,"")};e.exports=r},function(e,t,n){"use strict";n(138);var r=n(143),o=n(0),a=n(1),i="ExpandCollapse",s=function(e){var t=e.label,n=e.content,a=e.start_expanded,s=e.onExpandCollapse,c=r(),l=function(e){if("function"==typeof s){var t=e.target.checked;s(t)}};return o.createElement("div",{className:"component "+i.toLowerCase()},o.createElement("input",{id:c,type:"checkbox",defaultChecked:!!a,onChange:l}),o.createElement("label",{for:c},t),o.createElement("div",{className:"content"},n))};s.propTypes={label:a.string.isRequired,content:a.string.isRequired,start_expanded:a.bool,onExpandCollapse:a.func},s.displayName=i,e.exports=s},function(e,t,n){var r=n(139);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0};o.transform=void 0;n(141)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(140)(!1),t.push([e.i,"div.component.expandcollapse > input {\n  display: none;\n  visibility: hidden;\n}\n\ndiv.component.expandcollapse > input + label {\n  display: block;\n  height: auto;\n}\n\ndiv.component.expandcollapse > input + label .checked_expand,\ndiv.component.expandcollapse > input + label .checked_collapse,\ndiv.component.expandcollapse > input + label + div.content {\n  overflow-y: hidden;\n  -webkit-transition: height 0.5s;\n  transition: height 0.5s;\n}\n\ndiv.component.expandcollapse > input + label .checked_expand,\ndiv.component.expandcollapse > input + label + div.content {\n  height: 0px;\n}\ndiv.component.expandcollapse > input:checked + label .checked_expand,\ndiv.component.expandcollapse > input:checked + label + div.content {\n  height: auto !important;\n}\n\ndiv.component.expandcollapse > input + label .checked_collapse {\n  height: auto;\n}\ndiv.component.expandcollapse > input:checked + label .checked_collapse {\n  height: 0px !important;\n}\n",""])},function(e,t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var a=r(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([a]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=h[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(u(r.parts[a],t))}else{for(var i=[],a=0;a<r.parts.length;a++)i.push(u(r.parts[a],t));h[r.id]={id:r.id,refs:1,parts:i}}}}function o(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],s=a[1],c=a[2],l=a[3],u={css:s,media:c,sourceMap:l};r[i]?r[i].parts.push(u):n.push(r[i]={id:i,parts:[u]})}return n}function a(e,t){var n=E(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=g[g.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),g.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=E(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function i(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),a(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),a(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function u(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var l=v++;n=y||(y=s(t)),r=p.bind(null,n,l,!1),o=p.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),r=d.bind(null,n,t),o=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=f.bind(null,n),o=function(){i(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function p(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=_(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}var h={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),E=function(e){var t={};return function(n){if(void 0===t[n]){var r=e.call(this,n);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[n]=r}return t[n]}}(function(e){return document.querySelector(e)}),y=null,v=0,g=[],_=n(142);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=o(e,t);return r(n,t),function(e){for(var a=[],i=0;i<n.length;i++){var s=n[i],c=h[s.id];c.refs--,a.push(c)}if(e){r(o(e,t),t)}for(var i=0;i<a.length;i++){var c=a[i];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete h[c.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return e;var a;return a=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}},function(e,t,n){"use strict";var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;("number"!=typeof e||e<=0)&&(e=10);for(var t="";t.length<e;)t+=Math.random().toString(36).substring(2,15);return t=t.substring(0,e)};e.exports=r},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./Message/Message_Summary":145};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=144},function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(3),i="Message_Summary",s=n(39)[i],c=function(e,t){var n=t.getState(),r=n.user.email_address,o=void 0;return o=e.filter(function(e){return e!==r}),o.length<e.length&&o.unshift("me"),o=o.join(", ")},l=function(e,t){var n=e.thread_id,o=e.message_id,a=e.body,l=e.summary,u=e.settings,p=t.store,f=t.actions;f.DEBUG("rendering: "+i,{message_id:o,summary:l,settings:u});var d=s(l.timestamp),h=c(l.to,p),m={unread:f.UPDATE_MESSAGE.MARK_UNREAD.bind(void 0,n,o,!u.unread),star:f.UPDATE_MESSAGE.MARK_STAR.bind(void 0,n,o,!u.star),trash:u.trash?null:f.UPDATE_MESSAGE.MOVE_TO_TRASH.bind(void 0,n,o)};return r.createElement("div",{className:"component "+i.toLowerCase()},r.createElement("div",{className:"row row_1"},r.createElement("div",{className:"col col_1"},r.createElement("span",{className:"from",role:"tooltip",title:l.from},l.from)),r.createElement("div",{className:"col col_2"},r.createElement("span",{className:"timestamp"},d)),r.createElement("div",{className:"col col_3"},r.createElement("div",{className:"settings_buttons"},r.createElement("div",{className:"button unread "+(u.unread?"is_unread":"not_unread"),onClick:m.unread,role:"img",title:u.unread?"Mark Read":"Mark Unread"}),r.createElement("div",{className:"button star   "+(u.star?"is_star":"not_star"),onClick:m.star,role:"img",title:u.star?"Remove Star":"Mark with Star"}),null!==m.trash&&r.createElement("div",{className:"button trash",onClick:m.trash,role:"img",title:"Move to Trash"})))),r.createElement("div",{className:"row row_2 checked_expand"},r.createElement("span",{className:"to",role:"tooltip",title:h},h)),r.createElement("div",{className:"row row_3 checked_collapse"},r.createElement("span",{className:"body"},a)))};l.propTypes={thread_id:o.string.isRequired,message_id:o.string.isRequired,body:o.string.isRequired,summary:o.object.isRequired,settings:o.object.isRequired},l.contextTypes={store:o.object.isRequired,actions:o.object.isRequired},l.requireActions=["DEBUG","UPDATE_MESSAGE"],l.displayName=i,e.exports=a(l)},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./Message/Message_Contents":147};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=146},function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(3),i="Message_Contents",s=n(148)("./"+i+"/Message_Attachment"),c=function(e){var t=e.contents,n=t.attachments.map(function(e,t){return r.createElement(s,{key:t,attachment:e})});return r.createElement("div",{className:"component "+i.toLowerCase()},r.createElement("div",{className:"body"},t.body),r.createElement("div",{className:"attachments"},n))};c.propTypes={contents:o.object.isRequired},c.displayName=i,e.exports=a(c)},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./Message_Contents/Message_Attachment":149};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=148},function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(3),i="Message_Attachment",s=n(150),c=function(e){var t=e.attachment,n=function(e){e.stopPropagation(),e.preventDefault(),s(t.data,t.name)};return r.createElement("div",{className:"component "+i.toLowerCase(),onClick:n},r.createElement("span",{className:"icon"}),r.createElement("span",{className:"name"},t.name))};c.propTypes={attachment:o.object.isRequired},c.displayName=i,e.exports=a(c)},function(e,t,n){"use strict";var r=function(e,t){var n=window.document.createElement("a");n.href=e,n.setAttribute("download",t);var r=window.document.createEvent("MouseEvents");r.initEvent("click",!1,!0),n.dispatchEvent(r)};e.exports=r},function(e,t,n){"use strict";var r=function(){return new Promise(function(e,t){o(e,t)})},o=function(e,t){var n=window.document.createElement("input");n.setAttribute("type","file"),n.setAttribute("multiple","true"),n.value=null,n.addEventListener("change",a.bind(void 0,n,e,t),!1);var r=window.document.createEvent("MouseEvents");r.initEvent("click",!1,!0),n.dispatchEvent(r)},a=function(e,t,n,r){var o=!1;if(!e||!e.files||"number"!=typeof e.files.length||!e.files.length)return n({error:!0,count:0,file_contents:[]});for(var a=[],i=0;i<e.files.length;i++)a.push(e.files[i]);var s=[],c=function(e,n){if(!o){var r=n.substring(5,n.indexOf(";")),i={name:e,data:n,contentType:r};s.push(i),s.length===a.length&&(o=!0,t(s))}};a.forEach(function(e){if(!o){var t=new FileReader;t.onerror=function(e){o=!0,n({error:!0,count:s.length,file_contents:s})},t.onabort=t.onerror,t.onloadend=function(t){c(e.name,t.target.result)},t.readAsDataURL(e)}})};e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),this.logger=null,this.DOM_ref=null,this.callbackQueue=[]}return o(e,[{key:"set_logger",value:function(e){this.logger=e}},{key:"get_top",value:function(e){if(!(e instanceof HTMLElement))return 0;var t=e.offsetTop?e.offsetTop:0,n=e.offsetParent;return e===window.document.body?t:null===n?t:t+this.get_top(n)}},{key:"get_height",value:function(e){if(!(e instanceof HTMLElement))return 0;var t=this.get_top(e),n=e.offsetHeight;return this.logger&&this.logger("scrollToBottom of HTMLElement",{top:t,height:n,HTMLElement:e}),t+n}},{key:"scrollToBottom",value:function(){var e=this;this.DOM_ref instanceof HTMLElement?window.scrollTo(0,this.get_height(this.DOM_ref)):this.callbackQueue.push(function(t){window.scrollTo(0,e.get_height(t))})}},{key:"componentDidUpdate",value:function(e){if(this.DOM_ref=e,e instanceof HTMLElement){for(;this.callbackQueue.length;)this.callbackQueue.shift()(e);this.scrollToBottom()}}}]),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=n(1),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"getChildContext",value:function(){var e=this.props,t=e.store,n=e.constants,r=e.history,o={},a=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})};return function e(n,r){a(n).forEach(function(n){var o=s(n,2),a=o[0],c=o[1];"function"==typeof c?r[a]=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n&&n.length){var o=n[n.length-1];"object"===(void 0===o?"undefined":i(o))&&null!==o&&"function"==typeof o.stopPropagation&&"function"==typeof o.preventDefault&&(o.stopPropagation(),o.preventDefault(),n.pop())}t.dispatch(c.apply(void 0,n))}:"object"===(void 0===c?"undefined":i(c))&&null!==c&&(r[a]={},e(c,r[a]))})}(this.props.actions,o),{store:t,actions:o,constants:n,history:r}}},{key:"componentWillMount",value:function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){return e.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.store,r=n.getState();return l.createElement(t,{state:r})}}]),t}(l.Component);p.propTypes={store:u.object.isRequired,actions:u.object.isRequired,constants:u.object,history:u.object.isRequired,component:u.oneOfType([u.func,u.instanceOf(l.Component)]).isRequired},p.defaultProps={constants:{}},p.childContextTypes={store:u.object.isRequired,actions:u.object.isRequired,constants:u.object.isRequired,history:u.object.isRequired},e.exports=p}]);
//# sourceMappingURL=bundle.map